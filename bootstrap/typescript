Script started on Thu 17 Oct 2013 04:00:24 PM JST
ls]0;openstack@ubuntu-ct: ~/bootstrapopenstack@ubuntu-ct:~/bootstrap$ ls
[0m[01;34mconfigure[0m  [01;34mdb[0m  [01;34mkeys[0m  [01;34mlog[0m  [01;34mscripts[0m  [01;34msettings[0m  [01;34mtemplates[0m  [01;34mtmp[0m  typescript  [01;34mweb[0m  [01;31mweb.tar.gz[0m
]0;openstack@ubuntu-ct: ~/bootstrapopenstack@ubuntu-ct:~/bootstrap$ vv[K[Kv[Kcd bo[K[Kscripts/
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ bo[K[Kvi bootstrap
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"bootstrap" 319L, 9560C[>c[1;1H[34m#!/bin/bash

#set -e

#SCRIPT_HOME=`dirname $0`[m
[36mSCRIPT_HOME[m=[35m$([m[33mcd[m[35m $[m[33m([m[35mdirname $0[m[33m);pwd[m[35m)[m
[33msource[m [35m$SCRIPT_HOME[m/modules

[36mfunction[m [36mshow_options () {[m
    [33mecho[m[31m [m[33m"[m[31mOptions:[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mbootstrap <configure>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m             configure options.[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_FORWARD_USER    =<ssh login user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_USER            =<exec user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_PASSWORD        =<exec user password>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_DIR             =<exec user directory>[m[33m"[m[20;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_TEMPLATE    =<Manager Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mAGENT_TEMPLATE      =<Agent Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mMANAGER_CONFLICT    =<Agent Manager and conflictf>[m[33m"[m[24;4H [33mecho[m[31m [m[33m"[m[31mINSTANCE_TYPE       =<nova flavor name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mKEY_NAME            =<nova keypair name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSUBNET              =<neutron subnet name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mexit[m [31m0[m
[36m}

function[m [36mcheck_flavor() {[m
    [36mFLAVORS[m=[35m$(nova ${AUTH_PARAMETOR} flavor-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $4} [m[33m'[m[35m)[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[27m[m[H[2J[1;1H[33msleep[m [31m1[m

[34m#exec_webserver &
#progress[m

send_service &
progress

[33msleep[m [31m1[m

send_service_bin &
progress

[33msleep[m [31m1[m

exec_webservice &
progress

[34m#### db insert ####[m
insert_stacks &
progress

[33msleep[m [31m1[m
[34m###################

### update scenarios table ###[m
/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[34m##############################[m

[33mecho[m[31m [m[33m"[m[31mbootstrap end..[m[33m"[m

[34m#echo $COUNTER[m[33;130H319,1[9CBot[32;1H[?12l[?25h[?25l[33;132H8,0-1[31;1H[?12l[?25h[?25l[33;132H7,1  [30;1H[?12l[?25h[?25l[33;132H6,0-1[29;1H[?12l[?25h[?25l[33;132H5,1  [28;1H[?12l[?25h[?25l[33;132H4[27;1H[?12l[?25h[?25l[33;132H3[26;1H[?12l[?25h[?25l[33;132H2,0-1[25;1H[?12l[?25h[?25l[33;132H1,1  [24;1H[?12l[?25h[?25l[33;132H0[23;1H[?12l[?25h[?25l[33;131H09,0-1[22;1H[?12l[?25h[?25l[33;132H8,1  [21;1H[?12l[?25h[?25l[33;132H7[20;1H[?12l[?25h[?25l[33;132H6[19;1H[?12l[?25h[?25l[33;132H5,0-1[18;1H[?12l[?25h[?25l[33;132H4,1  [17;1H[?12l[?25h[?25l[33;132H3[16;1H[?12l[?25h[?25l[33;132H2,0-1[15;1H[?12l[?25h[?25l[33;132H1,1  [14;1H[?12l[?25h[?25l[33;132H0,0-1[13;1H[?12l[?25h[?25l[33;130H299,1  [12;1H[?12l[?25h[?25l[33;132H8[11;1H[?12l[?25h[?25l[33;132H7,0-1[10;1H[?12l[?25h[?25l[33;132H6,1  [9;1H[?12l[?25h[?25l[33;132H5,0-1[8;1H[?12l[?25h[?25l[33;132H4,1  [7;1H[?12l[?25h[?25l[33;132H3[6;1H[?12l[?25h[?25l[33;132H2,0-1[5;1H[?12l[?25h[?25l[33;132H1,1  [4;1H[?12l[?25h[?25l[33;132H0[3;1H[?12l[?25h[?25l[33;131H89,0-1[2;1H[?12l[?25h[?25l[33;132H8,1  [1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H287,0-1[7C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H286,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_webserver &[33;130H[K[33;130H285,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H284,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H283,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H282,0-1[7C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H281,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#exec_auth &[m[33;130H[K[33;130H280,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H279,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H278,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H277,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H276,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#send_authscript &[m[33;130H[K[33;130H275,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H274,0-1[7C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m1[m[33;130H[K[33;130H273,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H272,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H271,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_ipaddress &[33;130H[K[33;130H270,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H269,0-1[7C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#echo "ManagerIP : ${MANAGER_IP}"[m[33;130H[K[33;130H268,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H267,0-1[7C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m###################[m[33;130H[K[33;130H266,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H265,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H264,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H263,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H262,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H261,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33melse[m[33;130H[K[33;130H260,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H259,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H258,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [36mHOST[m=[35m${STACK_HOST[$COUNT]}[m[33;130H[K[33;130H257,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H256,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H255,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H254,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H253,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H252,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H251,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H250,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#### db insert ####[m[33;130H[K[33;130H249,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H248,0-1[7C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H247,1[9C85%[1;1H[?12l[?25h[?25l[33;132H8,0-1[2;1H[?12l[?25h[?25l[33;132H7,1  [1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H246,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[2;1Hvice man_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H245,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H244,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H243,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H242,0-1[7C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H241,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H240,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H239,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H238,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H237,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H236,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H235,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${MAN_SERVICE_BIN}[m [35m${SSH_FORWARD_USS[2;1HER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H234,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H233,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H232,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H231,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H230,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mMAN_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/man_server[m[33m"[m[33;130H[K[33;130H229,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H228,0-1[7C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H227,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H226,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H225,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H224,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H223,1[9C76%[1;1H[?12l[?25h[?25l[33;132H4[2;1H[?12l[?25h[?25l[33;132H5[3;1H[?12l[?25h[?25l[33;132H6[4;1H[?12l[?25h[?25l[33;132H7[5;1H[?12l[?25h[?25l[33;132H8,0-1[6;1H[?12l[?25h[?25l[33;132H9,1  [7;1H[?12l[?25h[?25l[33;131H30[8;1H[?12l[?25h[?25l[33;132H1[9;1H[?12l[?25h[?25l[33;132H2[10;1H[?12l[?25h[?25l[33;132H3[11;1H[?12l[?25h[?25l[33;132H4[12;1H[?12l[?25h[?25l[33;132H5[14;1H[?12l[?25h[?25l[33;134H2[14;2H[?12l[?25h[?25l[33;134H3[14;3H[?12l[?25h[?25l[33;134H4[14;4H[?12l[?25h[?25l[33;134H5[14;5H[?12l[?25h[?25l[33;134H6[14;6H[?12l[?25h[?25l[33;134H7[14;7H[?12l[?25h[?25l[33;134H8[14;8H[?12l[?25h[?25l[33;134H9[14;9H[?12l[?25h[?25l[1C[33m[46m[[12C][m[33;134H10[14;10H[?12l[?25h[?25l[33m[[12C][m[33;135H1[14;11H[?12l[?25h[?25l[33;135H2[14;12H[?12l[?25h[?25l[33;135H3[14;13H[?12l[?25h[?25l[33;135H4[14;14H[?12l[?25h[?25l[33;135H5[14;15H[?12l[?25h[?25l[33;135H6[14;16H[?12l[?25h[?25l[33;132H4[12;16H[?12l[?25h[?25l[33;135H7[12;17H[?12l[?25h[?25l[33;132H5[14;17H[?12l[?25h[?25l[33;132H4[12;17H[?12l[?25h[?25l[33;134H202[13;55H[?12l[?25h[?25l[33;136H1[13;54H[?12l[?25h[?25l[33;136H0[13;53H[?12l[?25h[?25l[33;134H199[13;52H[?12l[?25h[?25l[33;136H8[13;51H[?12l[?25h[?25l[33;136H7[13;50H[?12l[?25h[?25l[33;136H6[13;49H[?12l[?25h[?25l[33;136H5[13;48H[?12l[?25h[?25l[33;136H4[13;47H[?12l[?25h[?25l[33;136H3[13;46H[?12l[?25h[?25l[33;136H2[13;45H[?12l[?25h[?25l[33;136H1[13;44H[?12l[?25h[?25l[33;136H0[13;43H[?12l[?25h[?25l[33;135H89[13;42H[?12l[?25h[?25l[33;136H8[13;41H[?12l[?25h[?25l[33;136H7[13;40H[?12l[?25h[?25l[33;136H6[13;39H[?12l[?25h[?25l[33;136H5[13;38H[?12l[?25h[?25l[33;136H4[13;37H[?12l[?25h[?25l[33;136H3[13;36H[?12l[?25h[?25l[33;136H2[13;35H[?12l[?25h[?25l[33;136H1[13;34H[?12l[?25h[?25l[33;136H0[13;33H[?12l[?25h[?25l[33;135H79[13;32H[?12l[?25h[?25l[33;136H8[13;31H[?12l[?25h[?25l[33;136H7[13;30H[?12l[?25h[?25l[33;136H6[13;29H[?12l[?25h[?25l[13;20H[35m[46m{[7C}[m[33;136H5[13;28H[?12l[?25h[?25l[13;20H[35m{[7C}[m[33;136H4[13;27H[?12l[?25h[?25l[33;136H3[13;26H[?12l[?25h[?25l[33;136H2[13;25H[?12l[?25h[?25l[33;136H1[13;24H[?12l[?25h[?25l[33;136H0[13;23H[?12l[?25h[?25l[33;135H69[13;22H[?12l[?25h[?25l[33;136H8[13;21H[?12l[?25h[?25l[35m[46m{[7C}[m[33;136H7[13;20H[?12l[?25h[?25l[35m{[7C}[m[33;136H6[13;19H[?12l[?25h[?25l:[35m[46m{[mSSH_DIR[35m[46m}[m[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[13;55H[K[13;19H[?12l[?25h[?25l:SSH_DIR[1m[37m[41m}[m[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[13;54H[K[13;19H[?12l[?25h[?25lSH_DIR[1m[37m[41m}[m[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[13;53H[K[13;19H[?12l[?25h[?25l:H_DIR[1m[37m[41m}[m[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[13;52H[K[13;19H[?12l[?25h[?25l:_DIR[1m[37m[41m}[m[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[13;51H[K[13;19H[?12l[?25h[?25l:DIR[1m[37m[41m}[m[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[13;50H[K[13;19H[?12l[?25h[?25l:IR[1m[37m[41m}[m[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[13;49H[K[13;19H[?12l[?25h[?25l:R[1m[37m[41m}[m[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[13;48H[K[13;19H[?12l[?25h[?25l[8;29H[36m[46m{[m[13;18H:[1m[37m[46m}[m[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[13;47H[K[13;19H[?12l[?25h[?25l[8;29H[36m{[m[13;18H:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[13;46H[K[13;19H[?12l[?25h[?25l[33;132H3,5  [11;5H[?12l[?25h[?25l[33;132H2,10[10;10H[?12l[?25h[?25l[33;132H1,58[9;58H[?12l[?25h[?25l[8;29H[36m[46m{[20;1H}[m[33;132H0,29[8;29H[?12l[?25h[?25l[36m{[20;1H}[m[33;131H29,5[7;59H[?12l[?25h[?25l[33;132H8,0-1[6;1H[?12l[?25h[?25l[33;132H7,1  [5;1H[?12l[?25h[?25l[33;132H6,7[4;7H[?12l[?25h[?25l[33;132H5,14[3;14H[?12l[?25h[?25l[33;132H4,8 [2;8H[?12l[?25h[?25l[33;132H3,14[1;14H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H222,22[8C76%[1;22H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H221,29[8C76%[1;29H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${MAN_SERVICE_SCRIPT}[m [35m${SSH_FORWARDD[2;1H_USER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H220,166[7C75%[2;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H219,5[9C75%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H218,10[8C74%[1;10H[?12l[?25h[?25l[33;132H9,5 [2;5H[?12l[?25h[?25l[33;131H20,166[4;19H[?12l[?25h[?25l[4;9H[35m[46m{[10C}[m[33;136H7[4;20H[?12l[?25h[?25l[4;9H[35m{[10C}[m[33;136H8[4;21H[?12l[?25h[?25l[33;136H9[4;22H[?12l[?25h[?25l:[35m[46m{[mSSH_DIR[35m[46m}[m[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[4;61H[K[4;22H[?12l[?25h[?25l:SSH_DIR[1m[37m[41m}[m[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[4;60H[K[4;22H[?12l[?25h[?25lSH_DIR[1m[37m[41m}[m[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[4;59H[K[4;22H[?12l[?25h[?25l:H_DIR[1m[37m[41m}[m[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[4;58H[K[4;22H[?12l[?25h[?25l:_DIR[1m[37m[41m}[m[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[4;57H[K[4;22H[?12l[?25h[?25l:DIR[1m[37m[41m}[m[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[4;56H[K[4;22H[?12l[?25h[?25l:IR[1m[37m[41m}[m[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[4;55H[K[4;22H[?12l[?25h[?25l:R[1m[37m[41m}[m[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[4;54H[K[4;22H[?12l[?25h[?25l:[1m[37m[41m}[m[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[4;53H[K[4;22H[?12l[?25h[?25l:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[4;52H[K[4;22H[?12l[?25h[?25l[33;131H19,5  [2;5H[?12l[?25h[?25l[33;132H8,10[1;10H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerService..[m[33m"[m[33;130H[K[33;130H217,62[8C74%[1;62H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service() [m[36m[46m{[13;1H}[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H216,25[8C74%[1;25H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mMAN_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/man_server[m[33m"[m[2;25H[36m{[14;1H}[m[33;130H[K[33;130H215,65[8C74%[1;65H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H214,0-1[7C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H213,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H212,16[8C73%[1;16H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31m/uss[2;1Hr/bin/python [m[35m${SSH_DIR}[m[31m/main_server.py &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H211,169[7C72%[2;22H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebServer..[m[33m"[m[33;130H[K[33;130H210,27[8C72%[1;27H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webserver() [m[36m[46m{[6;1H}[m[33;130H[K[33;130H209,27[8C71%[1;27H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[2;27H[36m{[7;1H}[m[33;130H[K[33;130H208,0-1[7C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H207,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H206,7[9C70%[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H205,14[8C70%[1;14H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H204,8[9C70%[1;8H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H203,14[8C69%[1;14H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H202,22[8C69%[1;22H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H201,29[8C69%[1;29H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${WEBSERVER_SCRIPT}[m [35m${SSH_FORWARD_UU[2;1HSER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H200,169[7C68%[2;22H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H199,5[9C68%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H198,10[8C67%[1;10H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServer..[m[33m"[m[33;130H[K[33;130H197,55[8C67%[1;55H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_webserver() [m[36m[46m{[13;1H}[m[33;130H[K[33;130H196,27[8C67%[1;27H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mWEBSERVER_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/man_server[m[33m"[m[2;27H[36m{[14;1H}[m[33;130H[K[33;130H195,52[8C66%[1;52H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"bootstrap" 319L, 9540C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ heat stack-list
+--------------------------------------+---------------------+-----------------+----------------------+
| id                                   | stack_name          | stack_status    | creation_time        |
+--------------------------------------+---------------------+-----------------+----------------------+
| 2843ec38-1b75-4d73-9caf-b982e60a973d | ubuntu-com1-ping-mn | CREATE_COMPLETE | 2013-10-17T06:52:58Z |
| 5b596a55-369b-49fd-9184-9b78d1662495 | ubuntu-com1-ping-ag | CREATE_COMPLETE | 2013-10-17T06:53:46Z |
| 9633faa1-cd33-42b7-8c7c-8c1b8d6eb099 | ubuntu-com2-ping-ag | CREATE_COMPLETE | 2013-10-17T06:54:23Z |
+--------------------------------------+---------------------+-----------------+----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ heat stack-delete 2843ec38-1b75-4d73-9caf-b982e60a973d
+--------------------------------------+---------------------+--------------------+----------------------+
| id                                   | stack_name          | stack_status       | creation_time        |
+--------------------------------------+---------------------+--------------------+----------------------+
| 2843ec38-1b75-4d73-9caf-b982e60a973d | ubuntu-com1-ping-mn | DELETE_IN_PROGRESS | 2013-10-17T06:52:58Z |
| 5b596a55-369b-49fd-9184-9b78d1662495 | ubuntu-com1-ping-ag | CREATE_COMPLETE    | 2013-10-17T06:53:46Z |
| 9633faa1-cd33-42b7-8c7c-8c1b8d6eb099 | ubuntu-com2-ping-ag | CREATE_COMPLETE    | 2013-10-17T06:54:23Z |
+--------------------------------------+---------------------+--------------------+----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ heat stack-delete 2843ec38-1b75-4d73-9caf-b982e60a973d[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K5b596a55-369b-49fd-9184-9b78d1662495
+--------------------------------------+---------------------+--------------------+----------------------+
| id                                   | stack_name          | stack_status       | creation_time        |
+--------------------------------------+---------------------+--------------------+----------------------+
| 5b596a55-369b-49fd-9184-9b78d1662495 | ubuntu-com1-ping-ag | DELETE_IN_PROGRESS | 2013-10-17T06:53:46Z |
| 9633faa1-cd33-42b7-8c7c-8c1b8d6eb099 | ubuntu-com2-ping-ag | CREATE_COMPLETE    | 2013-10-17T06:54:23Z |
+--------------------------------------+---------------------+--------------------+----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ heat stack-delete 5b596a55-369b-49fd-9184-9b78d1662495[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K9633faa1-cd33-42b7-8c7c-8c1b8d6eb099
+--------------------------------------+---------------------+--------------------+----------------------+
| id                                   | stack_name          | stack_status       | creation_time        |
+--------------------------------------+---------------------+--------------------+----------------------+
| 5b596a55-369b-49fd-9184-9b78d1662495 | ubuntu-com1-ping-ag | DELETE_IN_PROGRESS | 2013-10-17T06:53:46Z |
| 9633faa1-cd33-42b7-8c7c-8c1b8d6eb099 | ubuntu-com2-ping-ag | DELETE_IN_PROGRESS | 2013-10-17T06:54:23Z |
+--------------------------------------+---------------------+--------------------+----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ rm ../db/bootstrap.db 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ rm ../db/bootstrap.db heat stack-delete 9633faa1-cd33-42b7-8c7c-8c1b8d6eb0995b596a55-369b-49fd-9184-9b78d16624952843ec38-1b75-4d73-9caf-b982e60a973dlist[K

]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf ../log/ping2 
/home/openstack/bootstrap/scripts/../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
..........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................   : )
.

wait..
.Transferred to the Manager of the WebServer..
.................................   : )
.

wait..
.Transferred to the Manager of the WebServerService..
.....................................   : )
.

wait..
.Transferred to the Manager of the WebServerBin..
.....................................   : )
.

wait..
.Start WebService..
   : )
.

wait..
.Insert is Stacks..
.

bootstrap end..

^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ nova list
+--------------------------------------+----------------------------------------------+--------+-----------------------+
| ID                                   | Name                                         | Status | Networks              |
+--------------------------------------+----------------------------------------------+--------+-----------------------+
| 063f420c-8a56-4fd8-9529-1cd4632f1b51 | ubuntu-com1-ping2-ag-TestServer-kut6oujhckqv | ACTIVE | private01=10.10.10.17 |
| 7b189fc2-76e9-4a25-adfd-7abe280b2acd | ubuntu-com1-ping2-mn-TestServer-4bc6o7bltz47 | ACTIVE | private01=10.10.10.14 |
| 1ddaa3a9-4735-4ad8-9e32-0a4f04891766 | ubuntu-com2-ping2-ag-TestServer-ekqlqsgrgy7d | ACTIVE | private01=10.10.10.19 |
+--------------------------------------+----------------------------------------------+--------+-----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager
manager/                   manager_authentication.sh  
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager
manager/                   manager_authentication.sh  
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/
etc/                       manager_authentication.sh  man_server                 usr/                       
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/
etc/                       manager_authentication.sh  man_server                 usr/                       
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/ma[Kan
manager_authentication.sh  man_server                 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/man
manager_authentication.sh  man_server                 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/man_server 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"manager/man_server" [readonly] 28L, 725C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: UTF-8 -*-[m

[35mimport[m os
[35mimport[m cgi
[35mimport[m urlparse
[35mimport[m BaseHTTPServer,CGIHTTPServer

[34m#class Handle(CGIHTTPServer.CGIHTTPRequestHandler):[m

[33mdef[m [36mmain[m():
   server_class = BaseHTTPServer.HTTPServer
[34m#   httpd = server_class(("0.0.0.0", 18001), Handle)[m
   httpd = server_class(([31m"0.0.0.0"[m, [31m18001[m), CGIHTTPServer.CGIHTTPRequestHandler)
   httpd.serve_forever()

[33mclass[m [36mReq_handle[m([36mobject[m):[18;6H [33mdef[m [36m__init__[m(self,path):[19;10H self.path = path[20;6H [33mdef[m [36murl[m(self):[21;10H req_url = self.path.split([31m"/"[m)[22;10H self.reqd_url = req_url[-[31m1[m][23;6H [33mdef[m [36mfile_path[m(self):[24;10H [36mprint[m os.path.join(os.path.dirname(os.path.abspath(__file__)),self.reqd_url)


[33mif[m __name__ == [31m'__main__'[m:[28;8H main()
[1m[34m~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8,0-1[8;1H[?12l[?25h[?25l[33;130H9,1  [9;1H[?12l[?25h[?25l[33;130H10,0-1[10;1H[?12l[?25h[?25l[33;131H1,1  [11;1H[?12l[?25h[?25l[33;131H2[12;1H[?12l[?25h[?25l[33;131H3[13;1H[?12l[?25h[?25l[33;131H4[14;1H[?12l[?25h[?25l[33;133H2[14;2H[?12l[?25h[?25l[33;133H3[14;3H[?12l[?25h[?25l[33;133H4[14;4H[?12l[?25h[?25l[33;133H5[14;5H[?12l[?25h[?25l[33;133H6[14;6H[?12l[?25h[?25l[33;133H7[14;7H[?12l[?25h[?25l[33;133H8[14;8H[?12l[?25h[?25l[33;133H9[14;9H[?12l[?25h[?25l[33;133H10[14;10H[?12l[?25h[?25l[33;134H1[14;11H[?12l[?25h[?25l[33;134H2[14;12H[?12l[?25h[?25l[33;134H3[14;13H[?12l[?25h[?25l[33;134H4[14;14H[?12l[?25h[?25l[33;134H5[14;15H[?12l[?25h[?25l[33;134H6[14;16H[?12l[?25h[?25l[33;134H7[14;17H[?12l[?25h[?25l[33;134H8[14;18H[?12l[?25h[?25l[33;134H9[14;19H[?12l[?25h[?25l[33;133H20[14;20H[?12l[?25h[?25l[33;134H1[14;21H[?12l[?25h[?25l[33;134H2[14;22H[?12l[?25h[?25l[33;134H3[14;23H[?12l[?25h[?25ls[46m([55C)[m[33;134H4[14;24H[?12l[?25h[?25l([46m([16C)[m[37C)[33;134H5[14;25H[?12l[?25h[?25l([16C)[33;134H6[14;26H[?12l[?25h[?25l[33;134H7[14;27H[?12l[?25h[?25l[33;134H8[14;28H[?12l[?25h[?25l[33;134H9[14;29H[?12l[?25h[?25l[33;133H30[14;30H[?12l[?25h[?25l[33;134H1[14;31H[?12l[?25h[?25l[33;134H2[14;32H[?12l[?25h[?25l[33;134H3[14;33H[?12l[?25h[?25l[33;134H4[14;34H[?12l[?25h[?25l[33;134H5[14;35H[?12l[?25h[?25l[33;134H6[14;36H[?12l[?25h[?25l[33;134H7[14;37H[?12l[?25h[?25l[33;134H8[14;38H[?12l[?25h[?25l[33;134H9[14;39H[?12l[?25h[?25l[33;133H40[14;40H[?12l[?25h[?25l[33;134H1[14;41H[?12l[?25h[?25l[14;25H[46m([16C)[m[33;134H2[14;42H[?12l[?25h[?25l[14;25H([16C)[33;134H1[14;41H[?12l[?25h[?25l[33;1H[31mW10: Warning: Changing a readonly file[m[33;39H[K[14;25H[46m([m[14C[31m0[m[46m)[m, CGIHTTPServer.CGIHTTPRequestHandler)[14;80H[K[14;41H[?12l[?25h[?25l[14;25H([14C[31m0[m, CGIHTTPServer.CGIHTTPRequestHandler)[14;79H[K[14;41H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H14,41[9CAll[14;41H[?12l[?25h[?25l[31m00[m, CGIHTTPServer.CGIHTTPRequestHandler)[33;134H2[14;42H[?12l[?25h[33;1H[K[14;41H[?25l[33;130H14,41[9CAll[14;41H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"manager/man_server" 28L, 724C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/usr/bin/man_server 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"manager/usr/bin/man_server" 24L, 528C[>c[1;1H[34m#!/usr/bin/env python
# coding: utf-8[m

[35mimport[m os
[35mimport[m signal
[35mimport[m sys
[35mimport[m subprocess

[33mif[m __name__ == [31m"__main__"[m:[10;8H sys.path.append(sys.argv[[31m1[m])[11;8H os.chdir(sys.argv[[31m1[m])[12;8H log_path=sys.argv[[31m1[m] + [31m"/"[m + sys.argv[[31m2[m] + [31m".log"[m[13;8H [33mtry[m:[14;24H f=[36mopen[m(log_path, [31m"w"[m)[15;8H [33mexcept[m [32mIOError[m:[16;24H sys.exit([31m1[m)[17;8H [33mtry[m:[18;16H [36mprint[m [31m"test"[m
[34m#               bootstrap.main()[m[20;16H subprocess.Popen([[31m"/usr/bin/python"[m, sys.argv[[31m1[m] + [31m"/"[m + sys.argv[[31m2[m]], stdout=f, stderr=f)
[34m#               os.system("/usr/bin/python " + sys.argv[1] + "/" + sys.argv[2] + " &")[m[22;8H [33mexcept[m [32mOSError[m:[23;24H sys.exit([31m1[m)

[1m[34m~                                                                                                                                                  [26;1H~                                                                                                                                                  [27;1H~                                                                                                                                                  [28;1H~                                                                                                                                                  [29;1H~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8,0-1[8;1H[?12l[?25h[?25l[33;130H9,1  [9;1H[?12l[?25h[?25l[33;130H10,1-8[10;8H[?12l[?25h[?25l[33;131H1[11;8H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/usr/bin/man_server [8P[C[C[C[C[C[C[C[C[C[C[C[13Pnova listvi manager/man_server ^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrap
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"bootstrap" 319L, 9540C[>c[1;1H[34m#!/bin/bash

#set -e

#SCRIPT_HOME=`dirname $0`[m
[36mSCRIPT_HOME[m=[35m$([m[33mcd[m[35m $[m[33m([m[35mdirname $0[m[33m);pwd[m[35m)[m
[33msource[m [35m$SCRIPT_HOME[m/modules

[36mfunction[m [36mshow_options () {[m
    [33mecho[m[31m [m[33m"[m[31mOptions:[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mbootstrap <configure>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m             configure options.[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_FORWARD_USER    =<ssh login user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_USER            =<exec user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_PASSWORD        =<exec user password>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_DIR             =<exec user directory>[m[33m"[m[20;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_TEMPLATE    =<Manager Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mAGENT_TEMPLATE      =<Agent Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mMANAGER_CONFLICT    =<Agent Manager and conflictf>[m[33m"[m[24;4H [33mecho[m[31m [m[33m"[m[31mINSTANCE_TYPE       =<nova flavor name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mKEY_NAME            =<nova keypair name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSUBNET              =<neutron subnet name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mexit[m [31m0[m
[36m}

function[m [36mcheck_flavor() {[m
    [36mFLAVORS[m=[35m$(nova ${AUTH_PARAMETOR} flavor-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $4} [m[33m'[m[35m)[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[27m[m[H[2J[1;1H[33msleep[m [31m1[m

[34m#exec_webserver &
#progress[m

send_service &
progress

[33msleep[m [31m1[m

send_service_bin &
progress

[33msleep[m [31m1[m

exec_webservice &
progress

[34m#### db insert ####[m
insert_stacks &
progress

[33msleep[m [31m1[m
[34m###################

### update scenarios table ###[m
/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[34m##############################[m

[33mecho[m[31m [m[33m"[m[31mbootstrap end..[m[33m"[m

[34m#echo $COUNTER[m[33;130H319,1[9CBot[32;1H[?12l[?25h[?25l[33;132H8,0-1[31;1H[?12l[?25h[?25l[33;132H7,1  [30;1H[?12l[?25h[?25l[33;132H6,0-1[29;1H[?12l[?25h[?25l[33;132H5,1  [28;1H[?12l[?25h[?25l[33;132H4[27;1H[?12l[?25h[?25l[33;132H3[26;1H[?12l[?25h[?25l[33;132H2,0-1[25;1H[?12l[?25h[?25l[33;132H1,1  [24;1H[?12l[?25h[?25l[33;132H0[23;1H[?12l[?25h[?25l[33;131H09,0-1[22;1H[?12l[?25h[?25l[33;132H8,1  [21;1H[?12l[?25h[?25l[33;132H7[20;1H[?12l[?25h[?25l[33;132H6[19;1H[?12l[?25h[?25l[33;132H5,0-1[18;1H[?12l[?25h[?25l[33;132H4,1  [17;1H[?12l[?25h[?25l[33;132H3[16;1H[?12l[?25h[?25l[33;132H2,0-1[15;1H[?12l[?25h[?25l[33;132H1,1  [14;1H[?12l[?25h[?25l[33;132H0,0-1[13;1H[?12l[?25h[?25l[33;130H299,1  [12;1H[?12l[?25h[?25l[33;132H8[11;1H[?12l[?25h[?25l[33;132H7,0-1[10;1H[?12l[?25h[?25l[33;132H6,1  [9;1H[?12l[?25h[?25l[33;132H5,0-1[8;1H[?12l[?25h[?25l[33;132H4,1  [7;1H[?12l[?25h[?25l[33;132H3[6;1H[?12l[?25h[?25l[33;132H2,0-1[5;1H[?12l[?25h[?25l[33;132H1,1  [4;1H[?12l[?25h[?25l[33;132H0[3;1H[?12l[?25h[?25l[33;131H89,0-1[2;1H[?12l[?25h[?25l[33;132H8,1  [1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H287,0-1[7C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H286,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_webserver &[33;130H[K[33;130H285,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H284,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H283,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H282,0-1[7C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H281,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#exec_auth &[m[33;130H[K[33;130H280,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H279,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H278,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H277,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H276,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#send_authscript &[m[33;130H[K[33;130H275,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H274,0-1[7C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m1[m[33;130H[K[33;130H273,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H272,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H271,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_ipaddress &[33;130H[K[33;130H270,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H269,0-1[7C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#echo "ManagerIP : ${MANAGER_IP}"[m[33;130H[K[33;130H268,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H267,0-1[7C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m###################[m[33;130H[K[33;130H266,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H265,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H264,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H263,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H262,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H261,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33melse[m[33;130H[K[33;130H260,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H259,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H258,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [36mHOST[m=[35m${STACK_HOST[$COUNT]}[m[33;130H[K[33;130H257,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H256,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H255,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H254,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H253,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H252,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H251,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H250,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#### db insert ####[m[33;130H[K[33;130H249,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H248,0-1[7C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H247,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H246,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[2;1Hvice man_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H245,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H244,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H243,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H242,0-1[7C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H241,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H240,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H239,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H238,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H237,1[9C81%[1;1H[?12l[?25h[?25l[33;132H8[2;1H[?12l[?25h[?25l[33;132H9[3;1H[?12l[?25h[?25l[33;131H40[4;1H[?12l[?25h[?25l[33;132H1[5;1H[?12l[?25h[?25l[33;132H2,0-1[6;1H[?12l[?25h[?25l[33;132H3,1  [7;1H[?12l[?25h[?25l[33;132H4[8;1H[?12l[?25h[?25l[33;132H5[9;1H[?12l[?25h[?25l[33;132H6[11;1H[?12l[?25h[?25l[7;28H[36m[46m{[12;1H}[m[33;132H7[12;1H[?12l[?25h[?25l[7;28H[36m{[12;1H}[m[33;132H8,0-1[13;1H[?12l[?25h[?25l[33;132H9,1  [14;1H[?12l[?25h[?25l[33;131H50[15;1H[?12l[?25h[?25l[33;132H1[16;1H[?12l[?25h[?25l[33;132H2[17;1H[?12l[?25h[?25l[33;132H3[18;1H[?12l[?25h[?25l[33;132H4[19;1H[?12l[?25h[?25l[33;132H5[20;1H[?12l[?25h[?25l[33;132H6[21;1H[?12l[?25h[?25l[33;132H7[22;1H[?12l[?25h[?25l[33;132H8[23;1H[?12l[?25h[?25l[33;132H9[24;1H[?12l[?25h[?25l[33;131H60[25;1H[?12l[?25h[?25l[33;132H1[26;1H[?12l[?25h[?25l[33;132H2[27;1H[?12l[?25h[?25l[33;132H3[28;1H[?12l[?25h[?25l[33;132H4[29;1H[?12l[?25h[?25l[15;26H[36m[46m{[30;1H}[m[33;132H5[30;1H[?12l[?25h[?25l[15;26H[36m{[30;1H}[m[33;132H6[31;1H[?12l[?25h[?25l[33;132H7,0-1[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#echo "ManagerIP : ${MANAGER_IP}"[m[33;130H[K[33;130H268,1[9C82%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H269,0-1[7C82%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hsend_ipaddress &[33;130H[K[33;130H270,1[9C82%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hprogress[33;130H[K[33;130H271,1[9C83%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H272,0-1[7C83%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33msleep[m [31m1[m[33;130H[K[33;130H273,1[9C84%[32;1H[?12l[?25h[?25l[33;132H2,0-1[31;1H[?12l[?25h[?25l[33;132H1,1  [30;1H[?12l[?25h[?25l[33;132H0[29;1H[?12l[?25h[?25l[33;131H69,0-1[28;1H[?12l[?25h[?25l[33;132H8,1  [27;1H[?12l[?25h[?25l[33;132H7,0-1[26;1H[?12l[?25h[?25l[33;132H6,1  [25;1H[?12l[?25h[?25l[9;26H[36m[46m{[24;1H}[m[33;132H5[24;1H[?12l[?25h[?25l[9;26H[36m{[24;1H}[m[33;132H4[23;1H[?12l[?25h[?25l[33;132H3[22;1H[?12l[?25h[?25l[33;132H2[21;1H[?12l[?25h[?25l[33;132H1[20;1H[?12l[?25h[?25l[33;132H0[19;1H[?12l[?25h[?25l[33;131H59[18;1H[?12l[?25h[?25l[33;132H8[17;1H[?12l[?25h[?25l[33;132H7[16;1H[?12l[?25h[?25l[33;132H6[15;1H[?12l[?25h[?25l[33;132H5[14;1H[?12l[?25h[?25l[33;132H4[13;1H[?12l[?25h[?25l[33;132H3[12;1H[?12l[?25h[?25l[33;132H2[11;1H[?12l[?25h[?25l[33;132H1[10;1H[?12l[?25h[?25l[33;132H0[9;1H[?12l[?25h[?25l[33;131H49[8;1H[?12l[?25h[?25l[33;132H8,0-1[7;1H[?12l[?25h[?25l[1;28H[36m[46m{[6;1H}[m[33;132H7,1  [6;1H[?12l[?25h[?25l[1;28H[36m{[6;1H}[m[33;132H6[5;1H[?12l[?25h[?25l[33;132H5[3;1H[?12l[?25h[?25l[33;132H4[2;1H[?12l[?25h[?25l[33;132H3[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H242,0-1[7C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H241,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H240,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H239,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H238,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H237,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H236,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H235,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${MAN_SERVICE_BIN}[m [35m${SSH_FORWARD_USS[2;1HER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H234,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H233,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H232,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H231,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H230,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mMAN_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/man_server[m[33m"[m[33;130H[K[33;130H229,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H228,0-1[7C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H227,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H226,1[9C77%[1;1H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrap
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"bootstrap" 319L, 9540C[>c[1;1H[34m#!/bin/bash

#set -e

#SCRIPT_HOME=`dirname $0`[m
[36mSCRIPT_HOME[m=[35m$([m[33mcd[m[35m $[m[33m([m[35mdirname $0[m[33m);pwd[m[35m)[m
[33msource[m [35m$SCRIPT_HOME[m/modules

[36mfunction[m [36mshow_options () {[m
    [33mecho[m[31m [m[33m"[m[31mOptions:[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mbootstrap <configure>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m             configure options.[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_FORWARD_USER    =<ssh login user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_USER            =<exec user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_PASSWORD        =<exec user password>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_DIR             =<exec user directory>[m[33m"[m[20;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_TEMPLATE    =<Manager Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mAGENT_TEMPLATE      =<Agent Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mMANAGER_CONFLICT    =<Agent Manager and conflictf>[m[33m"[m[24;4H [33mecho[m[31m [m[33m"[m[31mINSTANCE_TYPE       =<nova flavor name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mKEY_NAME            =<nova keypair name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSUBNET              =<neutron subnet name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mexit[m [31m0[m
[36m}

function[m [36mcheck_flavor() {[m
    [36mFLAVORS[m=[35m$(nova ${AUTH_PARAMETOR} flavor-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $4} [m[33m'[m[35m)[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[33;130H2,0-1[2;1H[?12l[?25h[?25l[27m[m[H[2J[1;1H[33msleep[m [31m1[m

[34m#exec_webserver &
#progress[m

send_service &
progress

[33msleep[m [31m1[m

send_service_bin &
progress

[33msleep[m [31m1[m

exec_webservice &
progress

[34m#### db insert ####[m
insert_stacks &
progress

[33msleep[m [31m1[m
[34m###################

### update scenarios table ###[m
/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[34m##############################[m

[33mecho[m[31m [m[33m"[m[31mbootstrap end..[m[33m"[m

[34m#echo $COUNTER[m[33;130H319,1[9CBot[32;1H[?12l[?25h[?25l[33;132H8,0-1[31;1H[?12l[?25h[?25l[33;132H7,1  [30;1H[?12l[?25h[?25l[33;132H6,0-1[29;1H[?12l[?25h[?25l[33;132H5,1  [28;1H[?12l[?25h[?25l[33;132H4[27;1H[?12l[?25h[?25l[33;132H3[26;1H[?12l[?25h[?25l[33;132H2,0-1[25;1H[?12l[?25h[?25l[33;132H1,1  [24;1H[?12l[?25h[?25l[33;132H0[23;1H[?12l[?25h[?25l[33;131H09,0-1[22;1H[?12l[?25h[?25l[33;132H8,1  [21;1H[?12l[?25h[?25l[33;132H7[20;1H[?12l[?25h[?25l[33;132H6[19;1H[?12l[?25h[?25l[33;132H5,0-1[18;1H[?12l[?25h[?25l[33;132H4,1  [17;1H[?12l[?25h[?25l[33;132H3[16;1H[?12l[?25h[?25l[33;132H2,0-1[15;1H[?12l[?25h[?25l[33;132H1,1  [14;1H[?12l[?25h[?25l[33;132H0,0-1[13;1H[?12l[?25h[?25l[33;130H299,1  [12;1H[?12l[?25h[?25l[33;132H8[11;1H[?12l[?25h[?25l[33;132H7,0-1[10;1H[?12l[?25h[?25l[33;132H6,1  [9;1H[?12l[?25h[?25l[33;132H5,0-1[8;1H[?12l[?25h[?25l[33;132H4,1  [7;1H[?12l[?25h[?25l[33;132H3[6;1H[?12l[?25h[?25l[33;132H2,0-1[5;1H[?12l[?25h[?25l[33;132H1,1  [4;1H[?12l[?25h[?25l[33;132H0[3;1H[?12l[?25h[?25l[33;131H89,0-1[2;1H[?12l[?25h[?25l[33;132H8,1  [1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H287,0-1[7C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H286,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_webserver &[33;130H[K[33;130H285,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H284,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H283,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H282,0-1[7C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H281,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#exec_auth &[m[33;130H[K[33;130H280,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H279,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H278,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H277,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H276,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#send_authscript &[m[33;130H[K[33;130H275,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H274,0-1[7C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m1[m[33;130H[K[33;130H273,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H272,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H271,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_ipaddress &[33;130H[K[33;130H270,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H269,0-1[7C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#echo "ManagerIP : ${MANAGER_IP}"[m[33;130H[K[33;130H268,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H267,0-1[7C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m###################[m[33;130H[K[33;130H266,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H265,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H264,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H263,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H262,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H261,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33melse[m[33;130H[K[33;130H260,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H259,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H258,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [36mHOST[m=[35m${STACK_HOST[$COUNT]}[m[33;130H[K[33;130H257,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H256,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H255,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H254,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H253,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H252,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H251,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H250,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#### db insert ####[m[33;130H[K[33;130H249,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H248,0-1[7C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H247,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H246,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[2;1Hvice man_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H245,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H244,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H243,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H242,0-1[7C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H241,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H240,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H239,1[9C82%[1;1H[?12l[?25h[?25l[33;131H40[2;1H[?12l[?25h[?25l[33;132H1[3;1H[?12l[?25h[?25l[33;132H2,0-1[4;1H[?12l[?25h[?25l[33;132H3,1  [5;1H[?12l[?25h[?25l[33;132H4[6;1H[?12l[?25h[?25l[33;132H5[7;1H[?12l[?25h[?25l[33;132H6[9;1H[?12l[?25h[?25l[5;28H[36m[46m{[10;1H}[m[33;132H7[10;1H[?12l[?25h[?25l[5;28H[36m{[10;1H}[m[33;132H8,0-1[11;1H[?12l[?25h[?25l[33;132H9,1  [12;1H[?12l[?25h[?25l[33;131H50[13;1H[?12l[?25h[?25l[33;132H1[14;1H[?12l[?25h[?25l[33;132H2[15;1H[?12l[?25h[?25l[33;132H3[16;1H[?12l[?25h[?25l[33;132H4[17;1H[?12l[?25h[?25l[33;132H5[18;1H[?12l[?25h[?25l[33;132H6[19;1H[?12l[?25h[?25l[33;132H7[20;1H[?12l[?25h[?25l[33;132H8[21;1H[?12l[?25h[?25l[33;132H9[22;1H[?12l[?25h[?25l[33;134H2[22;2H[?12l[?25h[?25l[33;134H3[22;3H[?12l[?25h[?25l[33;134H4[22;4H[?12l[?25h[?25l[33;134H5[22;5H[?12l[?25h[?25l[33;134H6[22;6H[?12l[?25h[?25l[33;134H7[22;7H[?12l[?25h[?25l[33;134H8[22;8H[?12l[?25h[?25l[33;134H9[22;9H[?12l[?25h[?25l[33;134H10[22;10H[?12l[?25h[?25l[33;135H1[22;11H[?12l[?25h[?25l[33;135H2[22;12H[?12l[?25h[?25l[33;135H3[22;13H[?12l[?25h[?25l[33;135H4[22;14H[?12l[?25h[?25l[33;135H5[22;15H[?12l[?25h[?25l[33;132H8[21;15H[?12l[?25h[?25l[33;132H7[20;15H[?12l[?25h[?25l[33;132H6,5 [19;5H[?12l[?25h[?25l[18;15H[35m[46m{[11C}[m[33;132H5,15[18;15H[?12l[?25h[?25l[35m{[11C}[m[33;132H4[17;15H[?12l[?25h[?25l[33;132H3[16;15H[?12l[?25h[?25l[33;132H2[15;15H[?12l[?25h[?25l[33;132H1,10[14;10H[?12l[?25h[?25l[33;132H0,15[13;15H[?12l[?25h[?25l[33;131H49[12;15H[?12l[?25h[?25l[33;132H8,0-1[11;1H[?12l[?25h[?25l[5;28H[36m[46m{[10;1H}[m[33;132H7,1  [10;1H[?12l[?25h[?25l[5;28H[36m{[10;1H}[m[33;132H6,15[9;15H[?12l[?25h[?25l[33;132H5[7;15H[?12l[?25h[?25l[33;132H4[6;15H[?12l[?25h[?25l[33;132H3[5;15H[?12l[?25h[?25l[33;132H2,0-1[4;1H[?12l[?25h[?25l[33;132H1,1  [3;1H[?12l[?25h[?25l[33;132H0,7[2;7H[?12l[?25h[?25l[33;131H39,14[1;14H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H238,8[9C82%[1;8H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H237,14[8C81%[1;14H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H236,15[8C81%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H235,15[8C81%[1;15H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${MAN_SERVICE_BIN}[m [35m${SSH_FORWARD_USS[2;1HER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H234,15[8C80%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H233,5[9C80%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H232,10[8C79%[1;10H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H231,15[8C79%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H230,15[8C79%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mMAN_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/man_server[m[33m"[m[33;130H[K[33;130H229,15[8C78%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H228,0-1[7C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H227,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H226,7[9C77%[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H225,14[8C77%[1;14H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H224,8[9C77%[1;8H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H223,14[8C76%[1;14H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H222,15[8C76%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H221,15[8C76%[1;15H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${MAN_SERVICE_SCRIPT}[m [35m${SSH_FORWARDD[2;1H_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H220,15[8C75%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H219,5[9C75%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H218,10[8C74%[1;10H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerService..[m[33m"[m[33;130H[K[33;130H217,15[8C74%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service() {[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H216,15[8C74%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mMAN_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/man_server[m[33m"[m[33;130H[K[33;130H215,15[8C74%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H214,0-1[7C73%[1;1H[?12l[?25h[?25l[33;132H5,15 [2;15H[?12l[?25h[?25l[33;132H6[3;15H[?12l[?25h[?25l[33;132H7[4;15H[?12l[?25h[?25l[33;132H8,10[5;10H[?12l[?25h[?25l[33;132H9,5 [6;5H[?12l[?25h[?25l[33;131H20,15[7;15H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrapmanager/usr/bin/man_server [8P[C[C[C[C[C[C[C[C[C[C[C[13Pnova listtailf ../log/ping2 [4Pheat stack-listtailf ../log/ping2 
/home/openstack/bootstrap/scripts/../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
.........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi db_manager.py
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"db_manager.py" 54L, 1131C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sqlite3
[35mimport[m os
[35mimport[m log

_db_path=os.getcwd() + [31m"/../db/bootstrap.db"[m

[33mdef[m [36mexecute[m(sql):[11;8H con=sqlite3.connect(_db_path)[12;8H cur=con.cursor()[13;8H log.debug(sql)[14;8H cur.execute(sql)[15;8H [33mtry[m:[16;16H con.commit()[17;8H [33mfinally[m:[18;16H cur.close()[19;16H con.close()

[33mdef[m [36mselect[m(sql):[22;8H log.debug(sql)[23;8H con=sqlite3.connect(_db_path)[24;8H [33mtry[m:[25;16H cur=con.execute(sql)[26;16H ret=cur.fetchall()[27;16H log.debug(ret)[28;8H [33mfinally[m:[29;16H cur.close()[30;16H con.close()[31;8H [33mreturn[m ret[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[1;32r[1;1H[22M[1;33r[11;1H[33mdef[m [36mconnect[m():[12;8H [33mreturn[m sqlite3.connect(_db_path)

_is_new = [33mnot[m os.path.exists(_db_path)
[33mif[m _is_new:[16;8H con=sqlite3.connect(_db_path)[17;8H cur = con.cursor()[18;8H cur.execute([31m"""create table stacks (
                     id integer primary key  autoincrement not null,
                     uuid text not null,
                     deleted bool default 0,
                     scenario text not null,
                     ip text not null,
                     netns text,
                     manager bool default 0,
                     host text)"""[m)[28;8H cur.execute([31m"""create table scenarios (
                     scenario text primary key not null,
                     status integer default 0)"""[m)[31;8H con.commit()[32;8H con.close()[33;1H[K[33;130H54,2-9[8CBot[32;9H[?12l[?25h[?25l[33;131H3[31;9H[?12l[?25h[?25l[33;131H2[30;9H[?12l[?25h[?25l[33;131H1[29;9H[?12l[?25h[?25l[33;131H0[28;9H[?12l[?25h[?25l[33;130H49,0-1[27;1H[?12l[?25h[?25l[33;131H8,2-16[26;16H[?12l[?25h[?25l[33;131H7,2-9 [25;9H[?12l[?25h[?25l[33;131H6[24;9H[?12l[?25h[?25l[33;131H5[23;9H[?12l[?25h[?25l[33;131H4[22;9H[?12l[?25h[?25l[33;131H3[21;9H[?12l[?25h[?25l[33;131H2[20;9H[?12l[?25h[?25l[33;131H1[19;9H[?12l[?25h[?25l[33;131H0[18;9H[?12l[?25h[?25l[33;130H39[17;9H[?12l[?25h[?25l[33;131H8[16;9H[?12l[?25h[?25l[33;131H7,9  [15;9H[?12l[?25h[?25l[33;131H6[14;9H[?12l[?25h[?25l[33;131H5,0-1[13;1H[?12l[?25h[?25l[33;131H4,2-9[12;9H[?12l[?25h[?25l[33;131H3,9  [11;9H[?12l[?25h[?25l[33;131H2,0-1[10;1H[?12l[?25h[?25l[33;131H1,2-9[9;9H[?12l[?25h[?25l[33;131H0,2-16[8;16H[?12l[?25h[?25l[33;130H29[7;16H[?12l[?25h[?25l[33;131H8,2-9 [6;9H[?12l[?25h[?25l[33;131H7,2-16[5;16H[?12l[?25h[?25l[33;131H6[4;16H[?12l[?25h[?25l[33;131H5[3;16H[?12l[?25h[?25l[33;131H4,2-9 [2;9H[?12l[?25h[?25l[33;131H3,9  [1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H log.debug(sql)[33;130H[K[33;130H22,2-9[8C95%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mdef[m [36mselect[m(sql):[33;130H[K[33;130H21,9[10C90%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H20,0-1[8C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;16H con.close()[33;130H[K[33;130H19,2-16[7C81%[1;16H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;16H cur.close()[33;130H[K[33;130H18,2-16[7C77%[1;16H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H [33mfinally[m:[33;130H[K[33;130H17,2-9[8C72%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;16H con.commit()[33;130H[K[33;130H16,9-16[7C68%[1;16H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H [33mtry[m:[33;130H[K[33;130H15,2-9[8C63%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H cur.execute(sql)[33;130H[K[33;130H14,2-9[8C59%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H log.debug(sql)[33;130H[K[33;130H13,2-9[8C54%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H cur=con.cursor()[33;130H[K[33;130H12,2-9[8C50%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H con=sqlite3.connect(_db_path)[33;130H[K[33;130H11,2-9[8C45%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mdef[m [36mexecute[m(sql):[33;130H[K[33;130H10,9[10C40%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H9,0-1[9C36%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H_db_path=os.getcwd() + [31m"/../db/bootstrap.db"[m[33;130H[K[33;130H8,9[11C31%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H7,0-1[9C27%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[35mimport[m log[33;130H[K[33;130H6,9[11C22%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[35mimport[m os[33;130H[K[33;130H5,9[11C18%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[35mimport[m sqlite3[33;130H[K[33;130H4,9[11C13%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H3,0-1[10C9%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m# -*- coding: utf-8 -*-[m[33;130H[K[33;130H2,9[12C4%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#!/usr/bin/env python[m[33;130H[K[33;130H1,9[11CTop[1;9H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi db_wa[Krapper
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"db_wrapper" [New File][>c[2;1H[1m[34m~                                                                                                                                                  [3;1H~                                                                                                                                                  [4;1H~                                                                                                                                                  [5;1H~                                                                                                                                                  [6;1H~                                                                                                                                                  [7;1H~                                                                                                                                                  [8;1H~                                                                                                                                                  [9;1H~                                                                                                                                                  [10;1H~                                                                                                                                                  [11;1H~                                                                                                                                                  [12;1H~                                                                                                                                                  [13;1H~                                                                                                                                                  [14;1H~                                                                                                                                                  [15;1H~                                                                                                                                                  [16;1H~                                                                                                                                                  [17;1H~                                                                                                                                                  [18;1H~                                                                                                                                                  [19;1H~                                                                                                                                                  [20;1H~                                                                                                                                                  [21;1H~                                                                                                                                                  [22;1H~                                                                                                                                                  [23;1H~                                                                                                                                                  [24;1H~                                                                                                                                                  [25;1H~                                                                                                                                                  [26;1H~                                                                                                                                                  [27;1H~                                                                                                                                                  [28;1H~                                                                                                                                                  [29;1H~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H0,0-1[9CAll[1;1H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi db_wrapper.py
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"db_wrapper.py" 27L, 927C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m db_manager

argvs = sys.argv

[33mdef[m [36minsert_stacks[m(uuid, scenario, ip, netns, manager, host):[10;8H sql=[31mu"insert into stacks(uuid, scenario, ip, netns, manager, host) values (""'"[m + uuid + [31m"', '"[m + scenario + [31m"', '"[m + ip  + [31m"', '"[m + netns  [11;1H + [31m"', '"[m + manager + [31m"','"[m + host + [31m"')"[m[12;8H db_manager.execute(sql)

[33mdef[m [36mdelete_stack[m(uuid):[15;8H sql=[31mu"update stacks set deleted=1 where uuid='"[m + uuid  + [31m"'"[m[16;8H db_manager.execute(sql)

[33mdef[m [36minsert_scenarios[m(scenario, status):[19;8H sql=[31mu"insert into scenarios(scenario, status) values (""'"[m + scenario + [31m"', '"[m + status + [31m"')"[m[20;8H db_manager.execute(sql)

[33mdef[m [36mupdate_scenarios[m(scenario, status):[23;8H sql=[31mu"update scenarios set status='"[m + status + [31m"' where scenario='"[m + scenario + [31m"'"[m[24;8H db_manager.execute(sql)

[33mdef[m [36mdelete_scenario[m(scenario):[27;8H sql=[31mu"delete from scenarios where scenario='"[m + scenario + [31m"'"[m[28;8H db_manager.execute(sql)
[1m[34m~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6,0-1[6;1H[?12l[?25h[?25l[33;130H7,1  [7;1H[?12l[?25h[?25l[33;130H8,0-1[8;1H[?12l[?25h[?25l[33;130H9,1  [9;1H[?12l[?25h[?25l[33;130H10,1-8[10;8H[?12l[?25h[?25l[33;131H1[12;8H[?12l[?25h[?25l[33;131H2,0-1[13;1H[?12l[?25h[?25l[33;131H3,1  [14;1H[?12l[?25h[?25l[33;131H4,1-8[15;8H[?12l[?25h[?25l[33;131H5[16;8H[?12l[?25h[?25l[33;131H6,0-1[17;1H[?12l[?25h[?25l[33;131H7,1  [18;1H[?12l[?25h[?25l[33;131H8,1-8[19;8H[?12l[?25h[?25l[33;131H9[20;8H[?12l[?25h[?25l[33;130H20,0-1[21;1H[?12l[?25h[?25l[33;131H1,1  [22;1H[?12l[?25h[?25l[33;131H2[23;1H[?12l[?25h[?25l[33;131H3[24;1H[?12l[?25h[?25l[33;131H4,0-1[25;1H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ nova list
+--------------------------------------+----------------------------------------------+--------+-----------------------+
| ID                                   | Name                                         | Status | Networks              |
+--------------------------------------+----------------------------------------------+--------+-----------------------+
| 05792f42-ff0f-4261-9266-72a6e233ee12 | ubuntu-com1-ping2-ag-TestServer-glo5gmkwsj4a | ACTIVE | private01=10.10.10.17 |
| 6478dd66-f948-4748-a9ba-29869be1440f | ubuntu-com1-ping2-mn-TestServer-njmexkobmdmw | ACTIVE | private01=10.10.10.14 |
| 142ec384-2d1b-4d22-83d1-639487648392 | ubuntu-com2-ping2-ag-TestServer-gmh3xsqqhon5 | ACTIVE | private01=10.10.10.19 |
+--------------------------------------+----------------------------------------------+--------+-----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/usr/bin/man_server 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"manager/usr/bin/man_server" 24L, 528C[>c[1;1H[34m#!/usr/bin/env python
# coding: utf-8[m

[35mimport[m os
[35mimport[m signal
[35mimport[m sys
[35mimport[m subprocess

[33mif[m __name__ == [31m"__main__"[m:[10;8H sys.path.append(sys.argv[[31m1[m])[11;8H os.chdir(sys.argv[[31m1[m])[12;8H log_path=sys.argv[[31m1[m] + [31m"/"[m + sys.argv[[31m2[m] + [31m".log"[m[13;8H [33mtry[m:[14;24H f=[36mopen[m(log_path, [31m"w"[m)[15;8H [33mexcept[m [32mIOError[m:[16;24H sys.exit([31m1[m)[17;8H [33mtry[m:[18;16H [36mprint[m [31m"test"[m
[34m#               bootstrap.main()[m[20;16H subprocess.Popen([[31m"/usr/bin/python"[m, sys.argv[[31m1[m] + [31m"/"[m + sys.argv[[31m2[m]], stdout=f, stderr=f)
[34m#               os.system("/usr/bin/python " + sys.argv[1] + "/" + sys.argv[2] + " &")[m[22;8H [33mexcept[m [32mOSError[m:[23;24H sys.exit([31m1[m)

[1m[34m~                                                                                                                                                  [26;1H~                                                                                                                                                  [27;1H~                                                                                                                                                  [28;1H~                                                                                                                                                  [29;1H~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8,0-1[8;1H[?12l[?25h[?25l[33;130H9,1  [9;1H[?12l[?25h[?25l[33;132H2[9;2H[?12l[?25h[?25l[33;130H10,1-8[10;8H[?12l[?25h[?25l[33;131H1[11;8H[?12l[?25h[?25l[33;133H2-9[11;9H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/mann[K_server 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"manager/man_server" 28L, 724C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: UTF-8 -*-[m

[35mimport[m os
[35mimport[m cgi
[35mimport[m urlparse
[35mimport[m BaseHTTPServer,CGIHTTPServer

[34m#class Handle(CGIHTTPServer.CGIHTTPRequestHandler):[m

[33mdef[m [36mmain[m():
   server_class = BaseHTTPServer.HTTPServer
[34m#   httpd = server_class(("0.0.0.0", 18001), Handle)[m
   httpd = server_class(([31m"0.0.0.0"[m, [31m18000[m, CGIHTTPServer.CGIHTTPRequestHandler)
   httpd.serve_forever()

[33mclass[m [36mReq_handle[m([36mobject[m):[18;6H [33mdef[m [36m__init__[m(self,path):[19;10H self.path = path[20;6H [33mdef[m [36murl[m(self):[21;10H req_url = self.path.split([31m"/"[m)[22;10H self.reqd_url = req_url[-[31m1[m][23;6H [33mdef[m [36mfile_path[m(self):[24;10H [36mprint[m os.path.join(os.path.dirname(os.path.abspath(__file__)),self.reqd_url)


[33mif[m __name__ == [31m'__main__'[m:[28;8H main()
[1m[34m~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8,0-1[8;1H[?12l[?25h[?25l[33;130H9,1  [9;1H[?12l[?25h[?25l[33;130H10,0-1[10;1H[?12l[?25h[?25l[33;131H1,1  [11;1H[?12l[?25h[?25l[33;131H2[12;1H[?12l[?25h[?25l[33;131H3[13;1H[?12l[?25h[?25l[33;133H2[13;2H[?12l[?25h[?25l[33;133H3[13;3H[?12l[?25h[?25l[33;133H4[13;4H[?12l[?25h[?25l[33;133H5[13;5H[?12l[?25h[?25l[33;133H6[13;6H[?12l[?25h[?25l[33;133H7[13;7H[?12l[?25h[?25l[33;133H8[13;8H[?12l[?25h[?25l[33;133H9[13;9H[?12l[?25h[?25l[33;133H10[13;10H[?12l[?25h[?25l[33;134H1[13;11H[?12l[?25h[?25l[33;134H2[13;12H[?12l[?25h[?25l[33;134H3[13;13H[?12l[?25h[?25l[33;134H4[13;14H[?12l[?25h[?25l[33;134H5[13;15H[?12l[?25h[?25l[33;134H6[13;16H[?12l[?25h[?25l[33;134H7[13;17H[?12l[?25h[?25l[33;134H8[13;18H[?12l[?25h[?25l[33;134H9[13;19H[?12l[?25h[?25l[33;133H20[13;20H[?12l[?25h[?25l[33;134H1[13;21H[?12l[?25h[?25l[33;134H2[13;22H[?12l[?25h[?25l[33;134H3[13;23H[?12l[?25h[?25l[33;134H4[13;24H[?12l[?25h[?25l[1C[34m[46m([26C)[m[33;134H5[13;25H[?12l[?25h[?25l[34m([m[34m[46m([16C)[m[8C[34m)[m[33;134H6[13;26H[?12l[?25h[?25l[34m([16C)[m[33;131H4[14;26H[?12l[?25h[?25l[33;134H7[14;27H[?12l[?25h[?25l[33;134H8[14;28H[?12l[?25h[?25l[33;134H9[14;29H[?12l[?25h[?25l[33;133H30[14;30H[?12l[?25h[?25l[33;134H1[14;31H[?12l[?25h[?25l[33;134H2[14;32H[?12l[?25h[?25l[33;134H3[14;33H[?12l[?25h[?25l[33;134H4[14;34H[?12l[?25h[?25l[33;134H5[14;35H[?12l[?25h[?25l[33;134H6[14;36H[?12l[?25h[?25l[33;134H7[14;37H[?12l[?25h[?25l[33;134H8[14;38H[?12l[?25h[?25l[33;134H9[14;39H[?12l[?25h[?25l[33;133H40[14;40H[?12l[?25h[?25l[33;134H1[14;41H[?12l[?25h[?25l[33;134H2[14;42H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H14,42[9CAll[14;42H[?12l[?25h[?25l[31m0[m), CGIHTTPServer.CGIHTTPRequestHandler)[14;25H[46m([16C)[m[33;134H3[14;43H[?12l[?25h[33;1H[K[14;42H[?25l[33;130H14,42[9CAll[14;42H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"manager/man_server" 28L, 725C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ le[K[Kvi manager/^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi ../ma[K[K[K[K[K[K[K[Kvim [K[K db_wrapper.py
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"db_wrapper.py" 27L, 927C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m db_manager

argvs = sys.argv

[33mdef[m [36minsert_stacks[m(uuid, scenario, ip, netns, manager, host):[10;8H sql=[31mu"insert into stacks(uuid, scenario, ip, netns, manager, host) values (""'"[m + uuid + [31m"', '"[m + scenario + [31m"', '"[m + ip  + [31m"', '"[m + netns  [11;1H + [31m"', '"[m + manager + [31m"','"[m + host + [31m"')"[m[12;8H db_manager.execute(sql)

[33mdef[m [36mdelete_stack[m(uuid):[15;8H sql=[31mu"update stacks set deleted=1 where uuid='"[m + uuid  + [31m"'"[m[16;8H db_manager.execute(sql)

[33mdef[m [36minsert_scenarios[m(scenario, status):[19;8H sql=[31mu"insert into scenarios(scenario, status) values (""'"[m + scenario + [31m"', '"[m + status + [31m"')"[m[20;8H db_manager.execute(sql)

[33mdef[m [36mupdate_scenarios[m(scenario, status):[23;8H sql=[31mu"update scenarios set status='"[m + status + [31m"' where scenario='"[m + scenario + [31m"'"[m[24;8H db_manager.execute(sql)

[33mdef[m [36mdelete_scenario[m(scenario):[27;8H sql=[31mu"delete from scenarios where scenario='"[m + scenario + [31m"'"[m[28;8H db_manager.execute(sql)
[1m[34m~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6,0-1[6;1H[?12l[?25h[?25l[33;130H7,1  [7;1H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi db_wrapper.pymanager/man_server [8@usr/bin/[C[C[C[C[C[C[C[C[C[C[Cnova list[Kvi db_wrapper.py[Kmanager.pyls[Ktailf ../log/ping2 [7Pvi bootstrapmanager/usr/bin/man_server [18Pbootstraptailf ../log/ping2 ls[Kvi db_manager.py[3Pwrapper.py[K^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vo [K[Ki dummy_sqlite.py 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"dummy_sqlite.py" 16L, 214C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m os
[35mimport[m db_manager
[35mimport[m db_wrapper
[35mimport[m credentials
argvs = sys.argv
[35mimport[m log

ret=db_manager.select(argvs[[31m1[m])

[33mfor[m row [33min[m ret:[15;8H [36mprint[m row

[1m[34m~                                                                                                                                                  [18;1H~                                                                                                                                                  [19;1H~                                                                                                                                                  [20;1H~                                                                                                                                                  [21;1H~                                                                                                                                                  [22;1H~                                                                                                                                                  [23;1H~                                                                                                                                                  [24;1H~                                                                                                                                                  [25;1H~                                                                                                                                                  [26;1H~                                                                                                                                                  [27;1H~                                                                                                                                                  [28;1H~                                                                                                                                                  [29;1H~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi db_wrapper.py
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"db_wrapper.py" 27L, 927C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m db_manager

argvs = sys.argv

[33mdef[m [36minsert_stacks[m(uuid, scenario, ip, netns, manager, host):[10;8H sql=[31mu"insert into stacks(uuid, scenario, ip, netns, manager, host) values (""'"[m + uuid + [31m"', '"[m + scenario + [31m"', '"[m + ip  + [31m"', '"[m + netns  [11;1H + [31m"', '"[m + manager + [31m"','"[m + host + [31m"')"[m[12;8H db_manager.execute(sql)

[33mdef[m [36mdelete_stack[m(uuid):[15;8H sql=[31mu"update stacks set deleted=1 where uuid='"[m + uuid  + [31m"'"[m[16;8H db_manager.execute(sql)

[33mdef[m [36minsert_scenarios[m(scenario, status):[19;8H sql=[31mu"insert into scenarios(scenario, status) values (""'"[m + scenario + [31m"', '"[m + status + [31m"')"[m[20;8H db_manager.execute(sql)

[33mdef[m [36mupdate_scenarios[m(scenario, status):[23;8H sql=[31mu"update scenarios set status='"[m + status + [31m"' where scenario='"[m + scenario + [31m"'"[m[24;8H db_manager.execute(sql)

[33mdef[m [36mdelete_scenario[m(scenario):[27;8H sql=[31mu"delete from scenarios where scenario='"[m + scenario + [31m"'"[m[28;8H db_manager.execute(sql)
[1m[34m~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ pythond[K dummy_sqlite.py u"update scenarios set status='" + status + "' where scenario='" + scenario + "'[C[C[C[1P'[1P'[1P'[1P'[1P'[1P'[1P'[1P'[1P'[1P'[1P'[1P'[1P'[1P'[1P'[1P'p'i'n'g'2'[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1P[1@2[1P[1@1[1P[C[C[1P[1@ [C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C"
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi dummy_sqlite.py 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"dummy_sqlite.py" 16L, 214C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m os
[35mimport[m db_manager
[35mimport[m db_wrapper
[35mimport[m credentials
argvs = sys.argv
[35mimport[m log

ret=db_manager.select(argvs[[31m1[m])

[33mfor[m row [33min[m ret:[15;8H [36mprint[m row

[1m[34m~                                                                                                                                                  [18;1H~                                                                                                                                                  [19;1H~                                                                                                                                                  [20;1H~                                                                                                                                                  [21;1H~                                                                                                                                                  [22;1H~                                                                                                                                                  [23;1H~                                                                                                                                                  [24;1H~                                                                                                                                                  [25;1H~                                                                                                                                                  [26;1H~                                                                                                                                                  [27;1H~                                                                                                                                                  [28;1H~                                                                                                                                                  [29;1H~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8[8;1H[?12l[?25h[?25l[33;130H9[9;1H[?12l[?25h[?25l[33;130H10,1[10;1H[?12l[?25h[?25l[33;131H1,0-1[11;1H[?12l[?25h[?25l[33;131H2,1  [12;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H12,1[10CAll[12;1H[?12l[?25h[?25l[34m#ret=db_manager.select(argvs[1])[m[33;133H2[12;2H[?12l[?25h[?25l[33;131H3,1[13;1H[?12l[?25h[?25l[33;131H4,2[14;2H[?12l[?25h[?25l[33;133H1[14;1H[?12l[?25h[?25l[34m#for row in ret:[m[33;133H2[14;2H[?12l[?25h[?25l[33;131H5,1[15;1H[?12l[?25h[?25l[34m#       print row[m[33;133H2[15;2H[?12l[?25h[?25l[33;131H6,1[16;1H[?12l[?25h[?25l[17;1H[K[33;131H7[17;1H[?12l[?25h[?25ldb_manager.select(argvs[[31m1[m])[17;18H[46m([8C)[m[33;133H28[17;28H[?12l[?25h[?25l[33;134H7[17;27H[?12l[?25h[?25l[17;18H(argvs[46m[[1C][m)[33;134H6[17;26H[?12l[?25h[?25l[33;134H4[17;24H[?12l[?25h[?25l[[1C][33;134H2[17;22H[?12l[?25h[?25l[33;134H0[17;20H[?12l[?25h[?25l[46m([8C)[m[33;133H19[17;19H[?12l[?25h[?25l[33;134H8[17;18H[?12l[?25h[?25lc([46ma[mrgvs[[31m1[m])[46m [17;17H([ma[7C[46m)[m[17;27H[K[33;134H7[17;17H[?12l[?25h[?25le([46ma[mrgvs[[31m1[m])[46m [17;16H([ma[7C[46m)[m[17;26H[K[33;134H6[17;16H[?12l[?25h[?25ll([46ma[mrgvs[[31m1[m])[46m [17;15H([ma[7C[46m)[m[17;25H[K[33;134H5[17;15H[?12l[?25h[?25le([46ma[mrgvs[[31m1[m])[46m [17;14H([ma[7C[46m)[m[17;24H[K[33;134H4[17;14H[?12l[?25h[?25ls([46ma[mrgvs[[31m1[m])[46m [17;13H([ma[7C[46m)[m[17;23H[K[33;134H3[17;13H[?12l[?25h[?25l.([46ma[mrgvs[[31m1[m])[46m [17;12H([ma[7C[46m)[m[17;22H[K[33;134H2[17;12H[?12l[?25h[?25l.[46me[m(argvs[[31m1[m[46m][m)[17;12He[46m([m[7C][46m)[m[33;134H3[17;13H[?12l[?25h[?25le[46mx[m(argvs[[31m1[m[46m][m)[17;13Hx[46m([m[7C][46m)[m[33;134H4[17;14H[?12l[?25h[?25lx[46me[m(argvs[[31m1[m[46m][m)[17;14He[46m([m[7C][46m)[m[33;134H5[17;15H[?12l[?25h[?25l[36mexe[m[36m[46mc[m(argvs[[31m1[m[46m][m)[17;15H[36mc[m[46m([m[7C][46m)[m[33;134H6[17;16H[?12l[?25h[?25lexec[46mu[m(argvs[[31m1[m[46m][m)[17;16Hu[46m([m[7C][46m)[m[33;134H7[17;17H[?12l[?25h[?25lu[46mt[m(argvs[[31m1[m[46m][m)[17;17Ht[46m([m[7C][46m)[m[33;134H8[17;18H[?12l[?25h[?25lt[46me[m(argvs[[31m1[m[46m][m)[17;18He[46m([m[7C][46m)[m[33;134H9[17;19H[?12l[?25h[33;1H[K[17;18H[?25le([8C)[33;130H17,18[9CAll[17;18H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"dummy_sqlite.py" 17L, 246C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi dummy_sqlite.py python dummy_sqlite.py "update scenarios set status='1' where scenario='ping2'"
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py "update scenarios set status='1' where scenario='ping2'"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi dummy_sqlite.py [K
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"dummy_sqlite.py" 17L, 246C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m os
[35mimport[m db_manager
[35mimport[m db_wrapper
[35mimport[m credentials
argvs = sys.argv
[35mimport[m log

[34m#ret=db_manager.select(argvs[1])

#for row in ret:
#       print row[m

db_manager.execute(argvs[[31m1[m])
[1m[34m~                                                                                                                                                  [19;1H~                                                                                                                                                  [20;1H~                                                                                                                                                  [21;1H~                                                                                                                                                  [22;1H~                                                                                                                                                  [23;1H~                                                                                                                                                  [24;1H~                                                                                                                                                  [25;1H~                                                                                                                                                  [26;1H~                                                                                                                                                  [27;1H~                                                                                                                                                  [28;1H~                                                                                                                                                  [29;1H~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8[8;1H[?12l[?25h[?25l[33;130H9[9;1H[?12l[?25h[?25l[33;130H10,1[10;1H[?12l[?25h[?25l[33;131H1,0-1[11;1H[?12l[?25h[?25l[33;131H2,1  [12;1H[?12l[?25h[?25lret=db_manager.select(argvs[[31m1[m])[12;32H[K[12;1H[?12l[?25h[?25l[33;131H3,0-1[13;1H[?12l[?25h[?25l[33;131H4,1  [14;1H[?12l[?25h[?25l[33mfor[m row [33min[m ret:[14;16H[K[14;1H[?12l[?25h[?25l[33;131H5[15;1H[?12l[?25h[?25l        [36mprint[m row[33;134H-8[15;8H[?12l[?25h[?25l[33;131H6,0-1[16;1H[?12l[?25h[?25l[33;131H7,8  [17;8H[?12l[?25h[?25l[33;133H7[17;7H[?12l[?25h[?25l[33;133H6[17;6H[?12l[?25h[?25l[33;133H5[17;5H[?12l[?25h[?25l[33;133H4[17;4H[?12l[?25h[?25l[33;133H3[17;3H[?12l[?25h[?25l[33;133H2[17;2H[?12l[?25h[?25l[33;133H1[17;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H17,1[10CAll[17;1H[?12l[?25h[?25l[34m#db_manager.execute(argvs[1])[m[33;133H2[17;2H[?12l[?25h[33;1H[K[17;1H[?25l[33;130H17,1[10CAll[17;1H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"dummy_sqlite.py" 17L, 244C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi ../e[Kweb
web/        web.tar.gz  
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi ../web
web/        web.tar.gz  
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi ../web/
20131015_index.html  cgi-bin/             index.html           main_server.py       tmp/                 
bootstrap            css/                 js/                  main_server.pyc      
bootstrap.pyc        index2.html          log/                 template/            
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi ../web/
20131015_index.html  cgi-bin/             index.html           main_server.py       tmp/                 
bootstrap            css/                 js/                  main_server.pyc      
bootstrap.pyc        index2.html          log/                 template/            
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi ../web/
20131015_index.html  cgi-bin/             index.html           main_server.py       tmp/                 
bootstrap            css/                 js/                  main_server.pyc      
bootstrap.pyc        index2.html          log/                 template/            
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi ../web/cgi-bin/redirect_test.py [K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[KurlRequest.py 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"../web/cgi-bin/urlRequest.py" 37L, 1232C[>c[1;1H[34m#!/usr/bin/env python
# coding: utf-8[m

[35mimport[m os
[35mimport[m sys
[35mimport[m cgi
[35mimport[m cgitb; cgitb.enable()
[35mimport[m subprocess
[35mimport[m sys
[35mfrom[m string [35mimport[m Template
sys.path.append(os.getcwd() + [31m"/../scripts"[m)
[35mimport[m db_manager
[35mimport[m db_wrapper

form = cgi.FieldStorage()
[33mif[m [33mnot[m form.has_key([31m"scenario"[m):[17;8H sys.exit()
[33mif[m [33mnot[m form.has_key([31m"mode"[m):[19;8H sys.exit()

rows=db_manager.select([31mu"select ip, netns from stacks where deleted = '0' and manager = '1' and scenario = '"[m + form[[31m'scenario'[m].value  + [31m"'"[m)
[33mif[m form[[31m'mode'[m].value == [31m'verify'[m:[23;8H subprocess.call([[31m'sudo'[m, [31m'ip'[m, [31m'netns'[m, [31m'exec'[m,[24;24H rows[[31m0[m][[31m1[m],[25;24H [31m"/usr/bin/python"[m, [31m"/home/openstack/bootstrap/web/cgi-bin/scenario_verify.py"[m , rows[[31m0[m][[31m0[m]])[26;8H db_wrapper.update_scenarios(form[[31m'scenario'[m].value, [31m"2"[m)[27;8H f=[36mopen[m(os.getcwd() + [31m'/template/redirect.tmpl'[m)[28;8H data=f.read()[29;8H tmpl=Template([36municode[m(data, [31m'utf-8'[m, [31m'ignore'[m))[30;8H body=tmpl.substitute({[31m'url'[m:[31m'index.py'[m})[32;8H [36mprint[m [31m"Content-type: text/html[m[35m\n[m[31m"[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8[8;1H[?12l[?25h[?25l[33;130H9[9;1H[?12l[?25h[?25l[33;130H10,1[10;1H[?12l[?25h[?25l[33;131H1[11;1H[?12l[?25h[?25l[33;131H2[12;1H[?12l[?25h[?25l[33;131H3[13;1H[?12l[?25h[?25l[33;131H4,0-1[14;1H[?12l[?25h[?25l[33;131H5,1  [15;1H[?12l[?25h[?25l[33;131H6[16;1H[?12l[?25h[?25l[33;131H7[17;1H[?12l[?25h[?25l[33;131H8[18;1H[?12l[?25h[?25l[33;131H9,1-8[19;8H[?12l[?25h[?25l[33;130H20,0-1[20;1H[?12l[?25h[?25l[33;131H1,1  [21;1H[?12l[?25h[?25l[33;131H2[22;1H[?12l[?25h[?25l[33;131H3,1-8[23;8H[?12l[?25h[?25l[33;131H4,1  [24;1H[?12l[?25h[?25l[33;131H5[25;1H[?12l[?25h[?25l[33;131H6,1-8[26;8H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H26,1[10CTop[26;1H[?12l[?25h[?25l[34m#       db_wrapper.update_scenarios(form['scenario'].value, "2")[m[33;133H2[26;2H[?12l[?25h[33;1H[K[26;1H[?25l[33;130H26,1[10CTop[26;1H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"../web/cgi-bin/urlRequest.py" 37L, 1233C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ s
s: command not found
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/[K/
etc/                       manager_authentication.sh  man_server                 usr/                       
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ cd manager/
]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ ls
[0m[01;34metc[0m  [01;32mmanager_authentication.sh[0m  [01;32mman_server[0m  [01;34musr[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ mv man_server verify_sr[Kerer[K[K[K[K[Kserer[K[Kver
]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ vi verify_server 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"verify_server" 28L, 725C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: UTF-8 -*-[m

[35mimport[m os
[35mimport[m cgi
[35mimport[m urlparse
[35mimport[m BaseHTTPServer,CGIHTTPServer

[34m#class Handle(CGIHTTPServer.CGIHTTPRequestHandler):[m

[33mdef[m [36mmain[m():
   server_class = BaseHTTPServer.HTTPServer
[34m#   httpd = server_class(("0.0.0.0", 18001), Handle)[m
   httpd = server_class(([31m"0.0.0.0"[m, [31m18000[m), CGIHTTPServer.CGIHTTPRequestHandler)
   httpd.serve_forever()

[33mclass[m [36mReq_handle[m([36mobject[m):[18;6H [33mdef[m [36m__init__[m(self,path):[19;10H self.path = path[20;6H [33mdef[m [36murl[m(self):[21;10H req_url = self.path.split([31m"/"[m)[22;10H self.reqd_url = req_url[-[31m1[m][23;6H [33mdef[m [36mfile_path[m(self):[24;10H [36mprint[m os.path.join(os.path.dirname(os.path.abspath(__file__)),self.reqd_url)


[33mif[m __name__ == [31m'__main__'[m:[28;8H main()
[1m[34m~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8,0-1[8;1H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ vi verify_server 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"verify_server" 28L, 725C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: UTF-8 -*-[m

[35mimport[m os
[35mimport[m cgi
[35mimport[m urlparse
[35mimport[m BaseHTTPServer,CGIHTTPServer

[34m#class Handle(CGIHTTPServer.CGIHTTPRequestHandler):[m

[33mdef[m [36mmain[m():
   server_class = BaseHTTPServer.HTTPServer
[34m#   httpd = server_class(("0.0.0.0", 18001), Handle)[m
   httpd = server_class(([31m"0.0.0.0"[m, [31m18000[m), CGIHTTPServer.CGIHTTPRequestHandler)
   httpd.serve_forever()

[33mclass[m [36mReq_handle[m([36mobject[m):[18;6H [33mdef[m [36m__init__[m(self,path):[19;10H self.path = path[20;6H [33mdef[m [36murl[m(self):[21;10H req_url = self.path.split([31m"/"[m)[22;10H self.reqd_url = req_url[-[31m1[m][23;6H [33mdef[m [36mfile_path[m(self):[24;10H [36mprint[m os.path.join(os.path.dirname(os.path.abspath(__file__)),self.reqd_url)


[33mif[m __name__ == [31m'__main__'[m:[28;8H main()
[1m[34m~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8,0-1[8;1H[?12l[?25h[?25l[33;130H9,1  [9;1H[?12l[?25h[?25l[33;130H10,0-1[10;1H[?12l[?25h[?25l[33;131H1,1  [11;1H[?12l[?25h[?25l[33;131H2[12;1H[?12l[?25h[?25l[33;131H3[13;1H[?12l[?25h[?25l[13;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;1H[K[33;130H13,4[10CAll[13;4H[?12l[?25h[?25l[33;131H4[14;4H[?12l[?25h[?25l[33;131H5,0-1[15;1H[?12l[?25h[?25l[33;131H6,4  [16;4H[?12l[?25h[?25l[33;131H7[17;4H[?12l[?25h[?25l[33;131H6[16;4H[?12l[?25h[?25l[16;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H16,7[10CAll[16;7H[?12l[?25h[?25l[16;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H16,11[9CAll[16;11H[?12l[?25h[?25l[16;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H16,7[10CAll[16;7H[?12l[?25h[?25l[16;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H16,11[9CAll[16;11H[?12l[?25h[?25l[16;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H16,11[9CAll[16;11H[?12l[?25h[?25l[16;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H16,7[10CAll[16;7H[?12l[?25h[?25l[16;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H16,11[9CAll[16;11H[?12l[?25h[?25l[16;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H16,0-1[8CAll[16;1H[?12l[?25h[?25l[16;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H16,0-1[8CAll[16;1H[?12l[?25h[?25l[33;131H5[15;1H[?12l[?25h[?25l[33;131H4,1  [14;1H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"verify_server" 18L, 373C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ ls
[0m[01;34metc[0m  [01;32mmanager_authentication.sh[0m  [01;34musr[0m  [01;32mverify_server[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ vi usr/bin/man_server 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"usr/bin/man_server" 24L, 528C[>c[1;1H[34m#!/usr/bin/env python
# coding: utf-8[m

[35mimport[m os
[35mimport[m signal
[35mimport[m sys
[35mimport[m subprocess

[33mif[m __name__ == [31m"__main__"[m:[10;8H sys.path.append(sys.argv[[31m1[m])[11;8H os.chdir(sys.argv[[31m1[m])[12;8H log_path=sys.argv[[31m1[m] + [31m"/"[m + sys.argv[[31m2[m] + [31m".log"[m[13;8H [33mtry[m:[14;24H f=[36mopen[m(log_path, [31m"w"[m)[15;8H [33mexcept[m [32mIOError[m:[16;24H sys.exit([31m1[m)[17;8H [33mtry[m:[18;16H [36mprint[m [31m"test"[m
[34m#               bootstrap.main()[m[20;16H subprocess.Popen([[31m"/usr/bin/python"[m, sys.argv[[31m1[m] + [31m"/"[m + sys.argv[[31m2[m]], stdout=f, stderr=f)
[34m#               os.system("/usr/bin/python " + sys.argv[1] + "/" + sys.argv[2] + " &")[m[22;8H [33mexcept[m [32mOSError[m:[23;24H sys.exit([31m1[m)

[1m[34m~                                                                                                                                                  [26;1H~                                                                                                                                                  [27;1H~                                                                                                                                                  [28;1H~                                                                                                                                                  [29;1H~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8,0-1[8;1H[?12l[?25h[?25l[33;130H9,1  [9;1H[?12l[?25h[?25l[33;130H10,1-8[10;8H[?12l[?25h[?25l[33;131H1[11;8H[?12l[?25h[?25l[33;131H2[12;8H[?12l[?25h[?25l[33;131H3[13;8H[?12l[?25h[?25l[33;131H4[14;8H[?12l[?25h[?25l[33;131H5[15;8H[?12l[?25h[?25l[33;131H6[16;8H[?12l[?25h[?25l[33;131H7[17;8H[?12l[?25h[?25l[33;131H8[18;8H[?12l[?25h[?25l[33;131H9,1  [19;1H[?12l[?25h[?25l[19;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;1H[K[33;130H19,3-17[7CAll[19;17H[?12l[?25h[?25l[33;130H20,4[20;17H[?12l[?25h[?25l[20;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H20,2-9[8CAll[20;9H[?12l[?25h[?25l[33;130H19,2-16[19;16H[?12l[?25h[?25l[18;32r[18;1H[2M[1;33r[31;1H[1m[34m~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H[K[33;130H18,2-9[8CAll[18;9H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;2H[K[33;2H[?12l[?25h [?25l[128C18,2-9[8CAll[18;9H[?12l[?25h[?25l[33;1H2 more lines; before #3  3 seconds ago[33;130H[K[18;32r[18;1H[2L[1;33r[18;16H [36mprint[m [31m"test"[m[19;16H subprocess.Popen([[31m"/usr/bin/python"[m, sys.argv[[31m1[m] + [31m"/"[m + sys.argv[[31m2[m]], stdout=f, stderr=f)[33;1H[K[33;130H18,2-16[7CAll[18;16H[?12l[?25h[?25l[18;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H18,3-17[7CAll[18;17H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"usr/bin/man_server" 21L, 419C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ ls
[0m[01;34metc[0m  [01;32mmanager_authentication.sh[0m  [01;34musr[0m  [01;32mverify_server[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ mv usr/bin/man_server usr/bin/verigy[K[Kg[Kfy_mana[K[K[K[Ksere[Kver
]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ vi etc/init.d/man_server 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"etc/init.d/man_server" [readonly] 166L, 4545C[>c[1;1H[34m#! /bin/sh
### BEGIN INIT INFO
# Provides:          bootstrap
# Required-Start:    $remote_fs $syslog
# Required-Stop:     $remote_fs $syslog
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Starts is Bootstrap Server
# Description:       Starts Bootstrap using start-stop-daemon
#                    placed in /etc/init.d.
### END INIT INFO

# Author: Foo Bar <foobar@baz.org>
#
# Please remove the "Author" lines above and replace them
# with your own name if you copy and modify this script.

# Do NOT "set -e"

# PATH should only include /usr/* if it runs after the mountnfs.sh script[m
[36mPATH[m=/sbin:/usr/sbin:/bin:/usr/bin
[36mDESC[m=[33m"[m[31mBootstrap Server Process[m[33m"[m
[36mNAME[m=man_server
[36mDAEMON[m=/usr/bin/[35m$NAME[m
[36mDAEMON_ARGS[m=[33m"[m[31m/home/openstack [m[33m"[m[35m$NAME[m
[36mPIDFILE[m=/var/run/[35m$NAME[m.pid
[36mSCRIPTNAME[m=/etc/init.d/[35m$NAME[m

[34m# Exit if the package is not installed[m
[33m[[m [33m-x[m [33m"[m[35m$DAEMON[m[33m"[m [33m][m || [33mexit[m [31m0[m

[34m# Read configuration variable file if it is present[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3[3;1H[?12l[?25h[?25l[33;130H4[4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8[8;1H[?12l[?25h[?25l[33;130H9[9;1H[?12l[?25h[?25l[33;130H10,1[10;1H[?12l[?25h[?25l[33;131H1[11;1H[?12l[?25h[?25l[33;131H2,0-1[12;1H[?12l[?25h[?25l[33;131H3,1  [13;1H[?12l[?25h[?25l[33;131H4[14;1H[?12l[?25h[?25l[33;131H5[15;1H[?12l[?25h[?25l[33;131H6[16;1H[?12l[?25h[?25l[33;131H7,0-1[17;1H[?12l[?25h[?25l[33;131H8,1  [18;1H[?12l[?25h[?25l[33;131H9,0-1[19;1H[?12l[?25h[?25l[33;130H20,1  [20;1H[?12l[?25h[?25l[33;131H1[21;1H[?12l[?25h[?25l[33;131H2[22;1H[?12l[?25h[?25l[33;131H3[23;1H[?12l[?25h[?25l[33;133H2[23;2H[?12l[?25h[?25l[33;133H3[23;3H[?12l[?25h[?25l[33;133H4[23;4H[?12l[?25h[?25l[33;133H5[23;5H[?12l[?25h[?25l[33;133H6[23;6H[?12l[?25h[?25l[33;133H7[23;7H[?12l[?25h[?25l[33;133H6[23;6H[?12l[?25h[?25l[33;1H[31mW10: Warning: Changing a readonly file[m[33;39H[K[23;5H=an_server[23;15H[K[23;6H[?12l[?25h[?25l=n_server[23;14H[K[23;6H[?12l[?25h[?25l=_server[23;13H[K[23;6H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H23,6[10CTop[23;6H[?12l[?25h[?25l=v_server[33;133H7[23;7H[?12l[?25h[?25lve_server[33;133H8[23;8H[?12l[?25h[?25ler_server[33;133H9[23;9H[?12l[?25h[?25lri_server[33;133H10[23;10H[?12l[?25h[?25lig_server[33;134H1[23;11H[?12l[?25h[?25lgy_server[33;134H2[23;12H[?12l[?25h[33;1H[K[23;11H[?25l[33;130H23,11[9CTop[23;11H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"etc/init.d/man_server" 166L, 4548C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ mv etc/init.d/man_server etc/init.d/verigy[K[Kfy_manager
]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ ls
[0m[01;34metc[0m  [01;32mmanager_authentication.sh[0m  [01;34musr[0m  [01;32mverify_server[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scripts/manageropenstack@ubuntu-ct:~/bootstrap/scripts/manager$ cd ../
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrap
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"bootstrap" 319L, 9540C[>c[1;1H[34m#!/bin/bash

#set -e

#SCRIPT_HOME=`dirname $0`[m
[36mSCRIPT_HOME[m=[35m$([m[33mcd[m[35m $[m[33m([m[35mdirname $0[m[33m);pwd[m[35m)[m
[33msource[m [35m$SCRIPT_HOME[m/modules

[36mfunction[m [36mshow_options () {[m
    [33mecho[m[31m [m[33m"[m[31mOptions:[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mbootstrap <configure>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m             configure options.[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_FORWARD_USER    =<ssh login user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_USER            =<exec user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_PASSWORD        =<exec user password>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_DIR             =<exec user directory>[m[33m"[m[20;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_TEMPLATE    =<Manager Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mAGENT_TEMPLATE      =<Agent Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mMANAGER_CONFLICT    =<Agent Manager and conflictf>[m[33m"[m[24;4H [33mecho[m[31m [m[33m"[m[31mINSTANCE_TYPE       =<nova flavor name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mKEY_NAME            =<nova keypair name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSUBNET              =<neutron subnet name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mexit[m [31m0[m
[36m}

function[m [36mcheck_flavor() {[m
    [36mFLAVORS[m=[35m$(nova ${AUTH_PARAMETOR} flavor-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $4} [m[33m'[m[35m)[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[27m[m[H[2J[1;1H[33msleep[m [31m1[m

[34m#exec_webserver &
#progress[m

send_service &
progress

[33msleep[m [31m1[m

send_service_bin &
progress

[33msleep[m [31m1[m

exec_webservice &
progress

[34m#### db insert ####[m
insert_stacks &
progress

[33msleep[m [31m1[m
[34m###################

### update scenarios table ###[m
/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[34m##############################[m

[33mecho[m[31m [m[33m"[m[31mbootstrap end..[m[33m"[m

[34m#echo $COUNTER[m[33;130H319,1[9CBot[32;1H[?12l[?25h[?25l[33;132H8,0-1[31;1H[?12l[?25h[?25l[33;132H7,1  [30;1H[?12l[?25h[?25l[33;132H6,0-1[29;1H[?12l[?25h[?25l[33;132H5,1  [28;1H[?12l[?25h[?25l[33;132H4[27;1H[?12l[?25h[?25l[33;132H3[26;1H[?12l[?25h[?25l[33;132H2,0-1[25;1H[?12l[?25h[?25l[33;132H1,1  [24;1H[?12l[?25h[?25l[33;132H0[23;1H[?12l[?25h[?25l[33;131H09,0-1[22;1H[?12l[?25h[?25l[33;132H8,1  [21;1H[?12l[?25h[?25l[33;132H7[20;1H[?12l[?25h[?25l[33;132H6[19;1H[?12l[?25h[?25l[33;132H5,0-1[18;1H[?12l[?25h[?25l[33;132H4,1  [17;1H[?12l[?25h[?25l[33;132H3[16;1H[?12l[?25h[?25l[33;132H2,0-1[15;1H[?12l[?25h[?25l[33;132H1,1  [14;1H[?12l[?25h[?25l[33;132H0,0-1[13;1H[?12l[?25h[?25l[33;130H299,1  [12;1H[?12l[?25h[?25l[33;132H8[11;1H[?12l[?25h[?25l[33;132H7,0-1[10;1H[?12l[?25h[?25l[33;132H6,1  [9;1H[?12l[?25h[?25l[33;132H5,0-1[8;1H[?12l[?25h[?25l[33;132H4,1  [7;1H[?12l[?25h[?25l[33;132H3[6;1H[?12l[?25h[?25l[33;132H2,0-1[5;1H[?12l[?25h[?25l[33;132H1,1  [4;1H[?12l[?25h[?25l[33;132H0[3;1H[?12l[?25h[?25l[33;131H89,0-1[2;1H[?12l[?25h[?25l[33;132H8,1  [1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H287,0-1[7C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H286,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_webserver &[33;130H[K[33;130H285,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H284,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H283,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H282,0-1[7C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H281,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#exec_auth &[m[33;130H[K[33;130H280,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H279,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H278,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H277,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H276,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#send_authscript &[m[33;130H[K[33;130H275,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H274,0-1[7C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m1[m[33;130H[K[33;130H273,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H272,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H271,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_ipaddress &[33;130H[K[33;130H270,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H269,0-1[7C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#echo "ManagerIP : ${MANAGER_IP}"[m[33;130H[K[33;130H268,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H267,0-1[7C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m###################[m[33;130H[K[33;130H266,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H265,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H264,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H263,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H262,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H261,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33melse[m[33;130H[K[33;130H260,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H259,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H258,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [36mHOST[m=[35m${STACK_HOST[$COUNT]}[m[33;130H[K[33;130H257,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H256,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H255,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H254,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H253,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H252,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H251,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H250,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#### db insert ####[m[33;130H[K[33;130H249,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H248,0-1[7C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H247,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H246,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[2;1Hvice man_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H245,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H244,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H243,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H242,0-1[7C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H241,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H240,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H239,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H238,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H237,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H236,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H235,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${MAN_SERVICE_BIN}[m [35m${SSH_FORWARD_USS[2;1HER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H234,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H233,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H232,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H231,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H230,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mMAN_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/man_server[m[33m"[m[33;130H[K[33;130H229,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H228,0-1[7C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H227,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H226,1[9C77%[1;1H[?12l[?25h[?25l[33;132H7[2;1H[?12l[?25h[?25l[33;132H8,0-1[3;1H[?12l[?25h[?25l[33;132H9,1  [4;1H[?12l[?25h[?25l[33;134H2[4;2H[?12l[?25h[?25l[33;134H3[4;3H[?12l[?25h[?25l[33;134H4[4;4H[?12l[?25h[?25l[33;134H5[4;5H[?12l[?25h[?25l[33;134H6[4;6H[?12l[?25h[?25l[33;134H7[4;7H[?12l[?25h[?25l[33;134H8[4;8H[?12l[?25h[?25l[33;134H9[4;9H[?12l[?25h[?25l[33;134H10[4;10H[?12l[?25h[?25l[33;135H1[4;11H[?12l[?25h[?25l[33;135H2[4;12H[?12l[?25h[?25l[33;135H3[4;13H[?12l[?25h[?25l[33;135H4[4;14H[?12l[?25h[?25l[33;135H5[4;15H[?12l[?25h[?25l[33;135H6[4;16H[?12l[?25h[?25l[33;135H7[4;17H[?12l[?25h[?25l[33;135H8[4;18H[?12l[?25h[?25l[1C[35m[46m{[11C}[m[33;135H9[4;19H[?12l[?25h[?25l[35m{[11C}[m[33;134H20[4;20H[?12l[?25h[?25l[33;135H1[4;21H[?12l[?25h[?25l[33;135H2[4;22H[?12l[?25h[?25l[33;135H3[4;23H[?12l[?25h[?25l[33;135H4[4;24H[?12l[?25h[?25l[33;135H5[4;25H[?12l[?25h[?25l[33;135H6[4;26H[?12l[?25h[?25l[33;135H7[4;27H[?12l[?25h[?25l[33;135H8[4;28H[?12l[?25h[?25l[33;135H9[4;29H[?12l[?25h[?25l[33;134H30[4;30H[?12l[?25h[?25l[4;19H[35m[46m{[11C}[m[33;135H1[4;31H[?12l[?25h[?25l[4;19H[35m{[11C}[m[33;135H2[4;32H[?12l[?25h[?25l[33;135H3[4;33H[?12l[?25h[?25l[33;135H4[4;34H[?12l[?25h[?25l[33;135H5[4;35H[?12l[?25h[?25l[33;135H6[4;36H[?12l[?25h[?25l[33;135H7[4;37H[?12l[?25h[?25l[33;135H8[4;38H[?12l[?25h[?25l[33;135H9[4;39H[?12l[?25h[?25l[33;134H40[4;40H[?12l[?25h[?25l[33;135H1[4;41H[?12l[?25h[?25l[33;135H2[4;42H[?12l[?25h[?25l[33;135H3[4;43H[?12l[?25h[?25l[33;135H4[4;44H[?12l[?25h[?25l[33;135H5[4;45H[?12l[?25h[?25l[33;135H6[4;46H[?12l[?25h[?25l[33;135H7[4;47H[?12l[?25h[?25l[33;135H8[4;48H[?12l[?25h[?25l[33;135H9[4;49H[?12l[?25h[?25l[33;134H50[4;50H[?12l[?25h[?25l[33;134H49[4;49H[?12l[?25h[?25l[31m/an_server[m[33m"[m[4;59H[K[4;49H[?12l[?25h[?25l[31m/n_server[m[33m"[m[4;58H[K[4;49H[?12l[?25h[?25l[31m/_server[m[33m"[m[4;57H[K[4;49H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H229,49[8C77%[4;49H[?12l[?25h[?25l[31m/v_server[m[33m"[m[33;134H50[4;50H[?12l[?25h[?25l[31mve_server[m[33m"[m[33;135H1[4;51H[?12l[?25h[?25l[31mer_server[m[33m"[m[33;135H2[4;52H[?12l[?25h[?25l[31mri_server[m[33m"[m[33;135H3[4;53H[?12l[?25h[?25l[31mig_server[m[33m"[m[33;135H4[4;54H[?12l[?25h[?25l[31mgy_server[m[33m"[m[33;135H5[4;55H[?12l[?25h[?25l[33;135H4[4;54H[?12l[?25h[?25l[31miy_server[m[33m"[m[4;62H[K[33;135H3[4;53H[?12l[?25h[?25l[31mify_server[m[33m"[m[33;135H4[4;54H[?12l[?25h[?25l[33;135H3[4;53H[?12l[?25h[?25l[33;135H2[4;52H[?12l[?25h[?25l[33;135H0[4;50H[?12l[?25h[?25l[33;134H48[4;48H[?12l[?25h[?25l[33;135H6[4;46H[?12l[?25h[?25l[33;135H4[4;44H[?12l[?25h[?25l[33;135H1[4;41H[?12l[?25h[?25l[33;134H39[4;39H[?12l[?25h[?25l[33;135H7[4;37H[?12l[?25h[?25l[33;135H5[4;35H[?12l[?25h[?25l[33;135H3[4;33H[?12l[?25h[?25l[4;19H[35m[46m{[11C}[m[33;135H1[4;31H[?12l[?25h[?25l[4;19H[35m{[11C}[m[33;134H28[4;28H[?12l[?25h[?25l[33;135H6[4;26H[?12l[?25h[?25l[33;135H3[4;23H[?12l[?25h[?25l[33;135H1[4;21H[?12l[?25h[?25l[35m[46m{[11C}[m[33;134H19[4;19H[?12l[?25h[?25l[35m{[11C}[m[33;135H7[4;17H[?12l[?25h[?25l[33;135H4[4;14H[?12l[?25h[?25l[33;135H2[4;12H[?12l[?25h[?25l[33;135H0[4;10H[?12l[?25h[?25l[33;134H8 [4;8H[?12l[?25h[?25l[33;134H6[4;6H[?12l[?25h[?25l[33;134H5[4;5H[?12l[?25h[?25l[33;134H4[4;4H[?12l[?25h[?25l[36mA_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[4;62H[K[33;134H3[4;3H[?12l[?25h[?25l[36mM_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[4;61H[K[33;134H2[4;2H[?12l[?25h[?25l[36m_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[4;60H[K[33;134H1[4;1H[?12l[?25h[?25l[36mV_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[33;134H2[4;2H[?12l[?25h[?25l[36mVE_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[33;134H3[4;3H[?12l[?25h[?25l[36mER_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[33;134H4[4;4H[?12l[?25h[?25l[36mRI_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[33;134H5[4;5H[?12l[?25h[?25l[36mIF_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[33;134H6[4;6H[?12l[?25h[?25l[36mFY_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[33;134H7[4;7H[?12l[?25h[?25l[33;132H8,1[3;1H[?12l[?25h[?25l[33;132H7,2[2;2H[?12l[?25h[?25l[33;132H6,7[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H225,7[9C77%[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H224,7[9C77%[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H223,7[9C76%[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H222,7[9C76%[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H221,7[9C76%[1;7H[?12l[?25h[?25l[33;132H2[2;7H[?12l[?25h[?25l[33;132H3[3;7H[?12l[?25h[?25l[33;132H5[5;7H[?12l[?25h[?25l[33;132H7,2[7;2H[?12l[?25h[?25l[33;132H9,7[9;7H[?12l[?25h[?25l[33;131H31[11;7H[?12l[?25h[?25l[33;132H3,6[13;6H[?12l[?25h[?25l[33;132H5,7[16;7H[?12l[?25h[?25l[33;132H7[18;7H[?12l[?25h[?25l[33;132H9[20;7H[?12l[?25h[?25l[33;131H42,1[23;1H[?12l[?25h[?25l[33;132H4,7[25;7H[?12l[?25h[?25l[33;132H6[28;7H[?12l[?25h[?25l[33;132H8,1[30;1H[?12l[?25h[?25l[33;132H9,7[31;7H[?12l[?25h[?25l[33;132H8,1[30;1H[?12l[?25h[?25l[24;28H[36m[46m{[29;1H}[m[33;132H7,2[29;2H[?12l[?25h[?25l[24;28H[36m{[29;1H}[m[33;132H6,7[28;7H[?12l[?25h[?25l[33;132H5[26;7H[?12l[?25h[?25l[33;134H8[26;8H[?12l[?25h[?25l[33;132H6[28;8H[?12l[?25h[?25l[33;134H9[28;9H[?12l[?25h[?25l[33;132H5[26;9H[?12l[?25h[?25l[33;134H190[27;43H[?12l[?25h[?25l[33;135H89[27;42H[?12l[?25h[?25l[33;136H8[27;41H[?12l[?25h[?25l[33;136H6[27;39H[?12l[?25h[?25l[33;136H4[27;37H[?12l[?25h[?25l[33;136H2[27;35H[?12l[?25h[?25l[33;136H0[27;33H[?12l[?25h[?25l[33;135H78[27;31H[?12l[?25h[?25l[33;136H6[27;29H[?12l[?25h[?25l[33;136H4[27;27H[?12l[?25h[?25l[33;136H2[27;25H[?12l[?25h[?25l[33;135H69[27;22H[?12l[?25h[?25l[33;136H7[27;20H[?12l[?25h[?25l[33;136H5[27;18H[?12l[?25h[?25l[33;136H3[27;16H[?12l[?25h[?25l[33;136H1[27;14H[?12l[?25h[?25l[33;135H59[27;12H[?12l[?25h[?25l[33;136H8[27;11H[?12l[?25h[?25l[33;136H7[27;10H[?12l[?25h[?25l[33;136H6[27;9H[?12l[?25h[?25l[31ma_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[27;42H[K[33;136H5[27;8H[?12l[?25h[?25l[31mm_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[27;41H[K[33;136H4[27;7H[?12l[?25h[?25l[31m _server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[27;40H[K[33;136H3[27;6H[?12l[?25h[?25l[31m v_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;136H4[27;7H[?12l[?25h[?25l[31mve_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;136H5[27;8H[?12l[?25h[?25l[31mer_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;136H6[27;9H[?12l[?25h[?25l[31mri_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;136H7[27;10H[?12l[?25h[?25l[31mif_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;136H8[27;11H[?12l[?25h[?25l[31mfy_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;136H9[27;12H[?12l[?25h[?25l[33;132H4,29 [25;29H[?12l[?25h[?25l[33;131H37,15[18;15H[?12l[?25h[?25l[33;131H23[3;15H[?12l[?25h[?25l[33;132H2,23[2;23H[?12l[?25h[?25l[33;132H1,30[1;30H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${MAN_SERVICE_SCRIPT}[m [35m${SSH_FORWARDD[2;1H_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H220,159[7C75%[2;12H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H219,6[9C75%[1;6H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H218,11[8C74%[1;11H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerService..[m[33m"[m[33;130H[K[33;130H217,63[8C74%[1;63H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service() {[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H216,26[8C74%[1;25H[36m[46m{[13;1H}[1;26H[?12l[?25h[?25l[1;32r[m[1;1H[L[1;33r[1;1H[36mMAN_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/man_server[m[33m"[m[33;130H[K[33;130H215,66[8C74%[2;25H[36m{[14;1H}[1;66H[?12l[?25h[?25l[1;32r[m[1;1H[L[1;33r[33;130H[K[33;130H214,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H213,2[9C73%[1;2H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H212,17[8C73%[1;17H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31m/uss[2;1Hr/bin/python [m[35m${SSH_DIR}[m[31m/main_server.py &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H211,159[7C72%[2;12H[?12l[?25h[?25l[33;132H2,17 [3;17H[?12l[?25h[?25l[33;132H3,2 [4;2H[?12l[?25h[?25l[33;132H4,1[5;1H[?12l[?25h[?25l[33;132H5,66[6;66H[?12l[?25h[?25l[33;135H5[6;65H[?12l[?25h[?25l[33;135H4[6;64H[?12l[?25h[?25l[33;135H2[6;62H[?12l[?25h[?25l[33;135H0[6;60H[?12l[?25h[?25l[33;134H58[6;58H[?12l[?25h[?25l[33;135H6[6;56H[?12l[?25h[?25l[33;135H7[6;57H[?12l[?25h[?25l[33;135H8[6;58H[?12l[?25h[?25l[31ma_server[m[33m"[m[6;65H[K[33;135H7[6;57H[?12l[?25h[?25l[31mm_server[m[33m"[m[6;64H[K[33;135H6[6;56H[?12l[?25h[?25l[31m/_server[m[33m"[m[6;63H[K[33;135H5[6;55H[?12l[?25h[?25l[31m/v_server[m[33m"[m[33;135H6[6;56H[?12l[?25h[?25l[31mve_server[m[33m"[m[33;135H7[6;57H[?12l[?25h[?25l[31mer_server[m[33m"[m[33;135H8[6;58H[?12l[?25h[?25l[31mri_server[m[33m"[m[33;135H9[6;59H[?12l[?25h[?25l[31mig_server[m[33m"[m[33;134H60[6;60H[?12l[?25h[?25l[31mgy_server[m[33m"[m[33;135H1[6;61H[?12l[?25h[?25l[31mg_server[m[33m"[m[6;68H[K[33;135H0[6;60H[?12l[?25h[?25l[31mi_server[m[33m"[m[6;67H[K[33;134H59[6;59H[?12l[?25h[?25l[31mif_server[m[33m"[m[33;134H60[6;60H[?12l[?25h[?25l[31mfy_server[m[33m"[m[33;135H1[6;61H[?12l[?25h[?25l[33;135H0[6;60H[?12l[?25h[?25l[33;134H59[6;59H[?12l[?25h[?25l[33;135H7[6;57H[?12l[?25h[?25l[33;135H5[6;55H[?12l[?25h[?25l[33;135H2[6;52H[?12l[?25h[?25l[33;135H0[6;50H[?12l[?25h[?25l[33;134H48[6;48H[?12l[?25h[?25l[33;135H6[6;46H[?12l[?25h[?25l[33;135H4[6;44H[?12l[?25h[?25l[33;135H2[6;42H[?12l[?25h[?25l[33;134H39[6;39H[?12l[?25h[?25l[33;135H7[6;37H[?12l[?25h[?25l[6;22H[35m[46m{[11C}[m[33;135H5[6;35H[?12l[?25h[?25l[6;22H[35m{[11C}[m[33;135H2[6;32H[?12l[?25h[?25l[33;135H0[6;30H[?12l[?25h[?25l[33;134H28[6;28H[?12l[?25h[?25l[33;135H6[6;26H[?12l[?25h[?25l[35m[46m{[11C}[m[33;135H3[6;23H[?12l[?25h[?25l[35m{[11C}[m[33;135H1[6;21H[?12l[?25h[?25l[33;134H18[6;18H[?12l[?25h[?25l[33;135H6[6;16H[?12l[?25h[?25l[33;135H3[6;13H[?12l[?25h[?25l[33;135H1[6;11H[?12l[?25h[?25l[33;134H9 [6;9H[?12l[?25h[?25l[33;134H8[6;8H[?12l[?25h[?25l[33;134H7[6;7H[?12l[?25h[?25l[33;134H6[6;6H[?12l[?25h[?25l[33;134H5[6;5H[?12l[?25h[?25l[33;134H4[6;4H[?12l[?25h[?25l[36mA_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[6;68H[K[33;134H3[6;3H[?12l[?25h[?25l[36mM_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[6;67H[K[33;134H2[6;2H[?12l[?25h[?25l[36m_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[6;66H[K[33;134H1[6;1H[?12l[?25h[?25l[36mV_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;134H2[6;2H[?12l[?25h[?25l[36mVE_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;134H3[6;3H[?12l[?25h[?25l[36mER_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;134H4[6;4H[?12l[?25h[?25l[36mRI_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;134H5[6;5H[?12l[?25h[?25l[36mIF_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;134H6[6;6H[?12l[?25h[?25l[36mFY_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;134H7[6;7H[?12l[?25h[?25l[33;132H6[7;7H[?12l[?25h[?25l[33;132H7[8;7H[?12l[?25h[?25l[33;132H8[9;7H[?12l[?25h[?25l[33;132H9,6[10;6H[?12l[?25h[?25l[33;131H20,7[11;7H[?12l[?25h[?25l[33;132H1[13;7H[?12l[?25h[?25l[33;132H0[11;7H[?12l[?25h[?25l[33;134H8[11;8H[?12l[?25h[?25l[33;134H9[11;9H[?12l[?25h[?25l[33;134H11[11;11H[?12l[?25h[?25l[33;135H3[11;13H[?12l[?25h[?25l[33;135H5[11;15H[?12l[?25h[?25l[33;135H7[11;17H[?12l[?25h[?25l[33;135H9[11;19H[?12l[?25h[?25l[33;134H21[11;21H[?12l[?25h[?25l[33;135H4[11;24H[?12l[?25h[?25l[33;135H6[11;26H[?12l[?25h[?25l[1C[35m[46m{[8C}[m[110C[35mDD[12;1H_[m[33;135H8[11;28H[?12l[?25h[?25l[35m{[8C}[110CDD[12;1H_[m[33;134H31[11;31H[?12l[?25h[?25l[33;135H3[11;33H[?12l[?25h[?25l[35m[46m{[8C}[m[110C[35mDD[12;1H_[m[33;135H6[11;36H[?12l[?25h[?25l[11;27H[35m{[8C}[110CDD[12;1H_[m[33;135H9[11;39H[?12l[?25h[?25l[33;134H42[11;42H[?12l[?25h[?25l[33;135H4[11;44H[?12l[?25h[?25l[33;135H6[11;46H[?12l[?25h[?25l[33;135H8[11;48H[?12l[?25h[?25l[33;134H50[11;50H[?12l[?25h[?25l[33;135H2[11;52H[?12l[?25h[?25l[33;135H4[11;54H[?12l[?25h[?25l[33;135H7[11;57H[?12l[?25h[?25l[33;135H9[11;59H[?12l[?25h[?25l[33;134H61[11;61H[?12l[?25h[?25l[33;135H3[11;63H[?12l[?25h[?25l[33;135H5[11;65H[?12l[?25h[?25l[33;135H7[11;67H[?12l[?25h[?25l[33;135H9[11;69H[?12l[?25h[?25l[33;134H71[11;71H[?12l[?25h[?25l[3C[35m[46m{[11C}[m[60C[35mDD[12;1H_[m[33;135H4[11;74H[?12l[?25h[?25l[35m{[11C}[60CDD[12;1H_[m[33;135H6[11;76H[?12l[?25h[?25l[33;135H9[11;79H[?12l[?25h[?25l[33;134H81[11;81H[?12l[?25h[?25l[33;135H3[11;83H[?12l[?25h[?25l[33;135H5[11;85H[?12l[?25h[?25l[11;74H[35m[46m{[11C}[m[60C[35mDD[12;1H_[m[33;135H7[11;87H[?12l[?25h[?25l[11;74H[35m{[11C}[60CDD[12;1H_[m[33;134H90[11;90H[?12l[?25h[?25l[33;135H3[11;93H[?12l[?25h[?25l[33;135H5[11;95H[?12l[?25h[?25l[2C[35m[46m{[8C}[m[40C[35mDD[12;1H_[m[33;135H7[11;97H[?12l[?25h[?25l[35m{[8C}[40CDD[12;1H_[m[33;134H100[11;100H[?12l[?25h[?25l[33;136H2[11;102H[?12l[?25h[?25l[33;136H5[11;105H[?12l[?25h[?25l[11;97H[35m[46m{[8C}[m[40C[35mDD[12;1H_[m[33;136H7[11;107H[?12l[?25h[?25l[11;97H[35m{[8C}[40CDD[12;1H_[m[33;135H10[11;110H[?12l[?25h[?25l[33;136H1[11;111H[?12l[?25h[?25l[33;136H2[11;112H[?12l[?25h[?25l[33;136H3[11;113H[?12l[?25h[?25l[1C[35m[46m{[18C}[m[13C[35mDD[12;1H_[m[33;136H4[11;114H[?12l[?25h[?25l[33C[35mDD[12;1H_[m[33;136H5[11;115H[?12l[?25h[?25l[35m{[18C}[13CDD[12;1H_[m[33;136H6[11;116H[?12l[?25h[?25l[33;136H7[11;117H[?12l[?25h[?25l[33;136H8[11;118H[?12l[?25h[?25l[33;136H9[11;119H[?12l[?25h[?25l[33;136H8[11;118H[?12l[?25h[?25l[35mA_SERVICE_SCRIPT}[m [35m${SSH_FORWARD__[12;1HUSER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[12;51H[K[33;136H7[11;117H[?12l[?25h[?25l[35mM_SERVICE_SCRIPT}[m [35m${SSH_FORWARD_UU[12;1HSER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[12;50H[K[33;136H6[11;116H[?12l[?25h[?25l[35m{_SERVICE_SCRIPT}[m [35m${SSH_FORWARD_USS[12;1HER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[12;49H[K[11;114H[35m[46m{[15C}[m[16C[35mSS[12;1HE[m[33;136H5[11;115H[?12l[?25h[?25l[35m[46m{[m[35mV_SERVICE_SCRIP[m[35m[46mT[m[35m}[m [35m${SSH_FORWARD_UU[12;1HSER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[11;114H[35m{[15CT[16CUU[12;1HS[m[33;136H6[11;116H[?12l[?25h[?25l[35mVE_SERVICE_SCRIPT}[m [35m${SSH_FORWARD__[12;1HUSER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;136H7[11;117H[?12l[?25h[?25l[35mER_SERVICE_SCRIPT}[m [35m${SSH_FORWARDD[12;1H_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;136H8[11;118H[?12l[?25h[?25l[35mRI_SERVICE_SCRIPT}[m [35m${SSH_FORWARR[12;1HD_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;136H9[11;119H[?12l[?25h[?25l[35mIF_SERVICE_SCRIPT}[m [35m${SSH_FORWAA[12;1HRD_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;135H20[11;120H[?12l[?25h[?25l[35mFY_SERVICE_SCRIPT}[m [35m${SSH_FORWW[12;1HARD_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;136H1[11;121H[?12l[?25h[?25l[33;136H2[11;122H[?12l[?25h[?25l[33;136H3[11;123H[?12l[?25h[?25l[33;136H5[11;125H[?12l[?25h[?25l[33;136H7[11;127H[?12l[?25h[?25l[33;136H9[11;129H[?12l[?25h[?25l[33;135H31[11;131H[?12l[?25h[?25l[33;136H3[11;133H[?12l[?25h[?25l[33;136H5[11;135H[?12l[?25h[?25l[4C[35m[46m{[m[7C[35mWW[12;1HA[m[7C[35m[46m}[m[33;136H9[11;139H[?12l[?25h[?25l[35m{[7CWW[12;1HA[7C}[m[33;135H42[11;142H[?12l[?25h[?25l[33;136H5[11;145H[?12l[?25h[?25l[33;136H7[11;147H[?12l[?25h[?25l[33;136H9[12;2H[?12l[?25h[?25l[33;135H50[12;3H[?12l[?25h[?25l[33;136H1[12;4H[?12l[?25h[?25l[33;136H2[12;5H[?12l[?25h[?25l[33;136H3[12;6H[?12l[?25h[?25l[33;136H5[12;8H[?12l[?25h[?25l[11;139H[35m[46m{[m[7C[35mWW[12;1HA[m[7C[35m[46m}[m[33;136H7[12;10H[?12l[?25h[?25l[11;139H[35m{[7CWW[12;1HA[7C}[m[2C[35m[46m{[10C}[m[33;135H60[12;13H[?12l[?25h[?25l[35m{[10C}[m[33;136H3[12;16H[?12l[?25h[?25l[33;136H5[12;18H[?12l[?25h[?25l[33;136H8[12;21H[?12l[?25h[?25l[12;12H[35m[46m{[10C}[m[33;135H70[12;23H[?12l[?25h[?25l[12;12H[35m{[10C}[m[33;136H4[12;27H[?12l[?25h[?25l[33;136H6[12;29H[?12l[?25h[?25l[33;136H8[12;31H[?12l[?25h[?25l[33;135H80[12;33H[?12l[?25h[?25l[33;136H2[12;35H[?12l[?25h[?25l[33;136H5[12;38H[?12l[?25h[?25l[33;136H7[12;40H[?12l[?25h[?25l[33;136H9[12;42H[?12l[?25h[?25l[33;135H91[12;44H[?12l[?25h[?25l[33;136H3[12;46H[?12l[?25h[?25l[33;136H5[12;48H[?12l[?25h[?25l[33;136H7[12;50H[?12l[?25h[?25l[33;136H9[12;52H[?12l[?25h[?25l[33;132H1,30 [13;30H[?12l[?25h[?25l[33;132H2,23[14;23H[?12l[?25h[?25l[33;132H3,15[15;15H[?12l[?25h[?25l[33;132H4,9 [16;9H[?12l[?25h[?25l[33;132H5,15[17;15H[?12l[?25h[?25l[33;132H6,8 [18;8H[?12l[?25h[?25l[7;25H[36m[46m{[19;1H}[m[33;132H7,2[19;2H[?12l[?25h[?25l[7;25H[36m{[19;1H}[m[33;132H8,1[20;1H[?12l[?25h[?25l[33;132H9,66[21;66H[?12l[?25h[?25l[33;131H30,30[22;30H[?12l[?25h[?25l[33;132H1,59[23;59H[?12l[?25h[?25l[33;132H2,11[24;11H[?12l[?25h[?25l[33;132H3,6 [25;6H[?12l[?25h[?25l[33;132H4,193[27;46H[?12l[?25h[?25l[33;132H3,6  [25;6H[?12l[?25h[?25l[33;132H4,193[27;46H[?12l[?25h[?25l[33;132H3,6  [25;6H[?12l[?25h[?25l[33;132H4,193[27;46H[?12l[?25h[?25l[33;136H2[27;45H[?12l[?25h[?25l[33;136H1[27;44H[?12l[?25h[?25l[33;135H89[27;42H[?12l[?25h[?25l[33;136H7[27;40H[?12l[?25h[?25l[33;136H5[27;38H[?12l[?25h[?25l[33;136H3[27;36H[?12l[?25h[?25l[33;136H0[27;33H[?12l[?25h[?25l[33;135H78[27;31H[?12l[?25h[?25l[33;136H6[27;29H[?12l[?25h[?25l[33;136H4[27;27H[?12l[?25h[?25l[33;136H2[27;25H[?12l[?25h[?25l[33;136H0[27;23H[?12l[?25h[?25l[33;135H68[27;21H[?12l[?25h[?25l[33;136H6[27;19H[?12l[?25h[?25l[27;6H[35m[46m{[10C}[m[33;136H4[27;17H[?12l[?25h[?25l[27;6H[35m{[10C}[m[33;136H1[27;14H[?12l[?25h[?25l[33;135H58[27;11H[?12l[?25h[?25l[33;136H6[27;9H[?12l[?25h[?25l[35m[46m{[10C}[m[33;136H4[27;7H[?12l[?25h[?25l[26;133H[35m[46m{[m[13C[35mSS[27;1HE[m[1C[35m[46m}[m[2C[35m{[10C}[m[33;136H1[27;4H[?12l[?25h[?25l[26;133H[35m{[13CSS[27;1HER}[m[33;135H48[27;1H[?12l[?25h[?25l[33;136H6[26;146H[?12l[?25h[?25l[33;136H4[26;144H[?12l[?25h[?25l[33;136H1[26;141H[?12l[?25h[?25l[33;135H39[26;139H[?12l[?25h[?25l[33;136H7[26;137H[?12l[?25h[?25l[33;136H5[26;135H[?12l[?25h[?25l[35m[46m{[m[13C[35mSS[27;1HE[m[1C[35m[46m}[m[33;136H3[26;133H[?12l[?25h[?25l[26;114H[35m[46m{[15C}[m[2C[35m{[13CSS[27;1HER}[m[33;136H0[26;130H[?12l[?25h[?25l[26;114H[35m{[15C}[16CSS[27;1HE[m[33;135H27[26;127H[?12l[?25h[?25l[33;136H5[26;125H[?12l[?25h[?25l[33;136H2[26;122H[?12l[?25h[?25l[33;136H0[26;120H[?12l[?25h[?25l[33;135H19[26;119H[?12l[?25h[?25l[33;136H8[26;118H[?12l[?25h[?25l[35mA_SERVICE_BIN}[m [35m${SSH_FORWARD_USEE[27;1HR}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[27;45H[K[33;136H7[26;117H[?12l[?25h[?25l[35mM_SERVICE_BIN}[m [35m${SSH_FORWARD_USERR[27;1H}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[27;44H[K[33;136H6[26;116H[?12l[?25h[?25l[35m{_SERVICE_BIN}[m [35m${SSH_FORWARD_USER}}[m[27;1H@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[27;43H[K[26;114H[35m[46m{[12C}[m[19C[35m}}[m[27;1H@[33;136H5[26;115H[?12l[?25h[?25l[35m[46m{[m[35mV_SERVICE_BI[m[35m[46mN[m[35m}[m [35m${SSH_FORWARD_USERR[27;1H}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[26;114H[35m{[12CN[19CRR[27;1H}[m[33;136H6[26;116H[?12l[?25h[?25l[35mVE_SERVICE_BIN}[m [35m${SSH_FORWARD_USEE[27;1HR}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;136H7[26;117H[?12l[?25h[?25l[35mER_SERVICE_BIN}[m [35m${SSH_FORWARD_USS[27;1HER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;136H8[26;118H[?12l[?25h[?25l[35mRI_SERVICE_BIN}[m [35m${SSH_FORWARD_UU[27;1HSER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;136H9[26;119H[?12l[?25h[?25l[35mIF_SERVICE_BIN}[m [35m${SSH_FORWARD__[27;1HUSER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;135H20[26;120H[?12l[?25h[?25l[35mFY_SERVICE_BIN}[m [35m${SSH_FORWARDD[27;1H_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;136H1[26;121H[?12l[?25h[?25l[33;132H3,6  [25;6H[?12l[?25h[?25l[33;132H2,11[24;11H[?12l[?25h[?25l[33;132H0,30[22;30H[?12l[?25h[?25l[33;131H28,1 [20;1H[?12l[?25h[?25l[33;132H6,8[18;8H[?12l[?25h[?25l[33;132H4,9[16;9H[?12l[?25h[?25l[33;132H2,23[14;23H[?12l[?25h[?25l[33;132H1,30[13;30H[?12l[?25h[?25l[33;132H0,121[11;121H[?12l[?25h[?25l[33;131H18,11 [9;11H[?12l[?25h[?25l[7;25H[36m[46m{[19;1H}[m[33;132H6,26[7;26H[?12l[?25h[?25l[36m{[19;1H}[m[33;132H3,2 [4;2H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebServer..[m[33m"[m[33;130H[K[33;130H210,28[8C72%[1;28H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webserver() {[m[33;130H[K[33;130H209,28[8C71%[1;27H[36m[46m{[6;1H}[1;28H[?12l[?25h[?25l[1;32r[m[1;1H[L[1;33r[33;130H[K[33;130H208,1[9C71%[2;27H[36m{[7;1H}[1;1H[?12l[?25h[?25l[1;32r[m[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H207,2[9C71%[1;2H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H206,8[9C70%[1;8H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H205,15[8C70%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H204,9[9C70%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H203,15[8C69%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H202,23[8C69%[1;23H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H201,30[8C69%[1;30H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${WEBSERVER_SCRIPT}[m [35m${SSH_FORWARD_UU[2;1HSER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H200,121[7C68%[1;121H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H199,6[9C68%[1;6H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H198,11[8C67%[1;11H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServer..[m[33m"[m[33;130H[K[33;130H197,56[8C67%[1;56H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_webserver() {[m[33;130H[K[33;130H196,28[8C67%[1;27H[36m[46m{[13;1H}[1;28H[?12l[?25h[?25l[1;32r[m[1;1H[L[1;33r[1;1H[36mWEBSERVER_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/man_server[m[33m"[m[33;130H[K[33;130H195,53[8C66%[2;27H[36m{[14;1H}[1;53H[?12l[?25h[?25l[1;32r[m[1;1H[L[1;33r[1;1H[34m#WEBSERVER_SCRIPT="${SCRIPT_HOME}/../web/main_server.py"[m[33;130H[K[33;130H194,57[8C66%[1;57H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H193,1[9C66%[1;1H[?12l[?25h[?25l[33;132H4,57[2;57H[?12l[?25h[?25l[33;132H5,53[3;53H[?12l[?25h[?25l[33;135H2[3;52H[?12l[?25h[?25l[33;135H1[3;51H[?12l[?25h[?25l[33;135H0[3;50H[?12l[?25h[?25l[33;134H49[3;49H[?12l[?25h[?25l[33;135H8[3;48H[?12l[?25h[?25l[33;135H7[3;47H[?12l[?25h[?25l[33;135H6[3;46H[?12l[?25h[?25l[33;135H5[3;45H[?12l[?25h[?25l[31ma_server[m[33m"[m[3;52H[K[33;135H4[3;44H[?12l[?25h[?25l[31mm_server[m[33m"[m[3;51H[K[33;135H3[3;43H[?12l[?25h[?25l[31m/_server[m[33m"[m[3;50H[K[33;135H2[3;42H[?12l[?25h[?25l[31m/v_server[m[33m"[m[33;135H3[3;43H[?12l[?25h[?25l[31mve_server[m[33m"[m[33;135H4[3;44H[?12l[?25h[?25l[31mer_server[m[33m"[m[33;135H5[3;45H[?12l[?25h[?25l[31mri_server[m[33m"[m[33;135H6[3;46H[?12l[?25h[?25l[31mig_server[m[33m"[m[33;135H7[3;47H[?12l[?25h[?25l[31mgy_server[m[33m"[m[33;135H8[3;48H[?12l[?25h[?25l[31mg_server[m[33m"[m[3;55H[K[33;135H7[3;47H[?12l[?25h[?25l[31mi_server[m[33m"[m[3;54H[K[33;135H6[3;46H[?12l[?25h[?25l[31mif_server[m[33m"[m[33;135H7[3;47H[?12l[?25h[?25l[31mfy_server[m[33m"[m[33;135H8[3;48H[?12l[?25h[?25l[33;135H7[3;47H[?12l[?25h[?25l[33;135H6[3;46H[?12l[?25h[?25l[33;134H3[3;36H[?12l[?25h[?25l[33;135H4[3;34H[?12l[?25h[?25l[33;134H26[3;26H[?12l[?25h[?25l[33;135H3[3;23H[?12l[?25h[?25l[33;134H15[3;15H[?12l[?25h[?25l[33;132H6[4;15H[?12l[?25h[?25l[33;132H7[5;15H[?12l[?25h[?25l[33;135H6[5;16H[?12l[?25h[?25l[33;135H7[5;17H[?12l[?25h[?25l[33;135H8[5;18H[?12l[?25h[?25l[33;134H20[5;20H[?12l[?25h[?25l[33;135H2[5;22H[?12l[?25h[?25l[33;135H4[5;24H[?12l[?25h[?25l[33;135H6[5;26H[?12l[?25h[?25l[33;135H8[5;28H[?12l[?25h[?25l[33;134H30[5;30H[?12l[?25h[?25l[33;135H1[5;31H[?12l[?25h[?25l[33;135H2[5;32H[?12l[?25h[?25l[33;135H3[5;33H[?12l[?25h[?25l[33;135H4[5;34H[?12l[?25h[?25l[33;135H5[5;35H[?12l[?25h[?25l[33;135H6[5;36H[?12l[?25h[?25l[31me of the WebServer..[m[33m"[m[5;55H[K[33;135H5[5;35H[?12l[?25h[?25l[31mg of the WebServer..[m[33m"[m[5;54H[K[33;135H4[5;34H[?12l[?25h[?25l[31ma of the WebServer..[m[33m"[m[5;53H[K[33;135H3[5;33H[?12l[?25h[?25l[31mn of the WebServer..[m[33m"[m[5;52H[K[33;135H2[5;32H[?12l[?25h[?25l[31ma of the WebServer..[m[33m"[m[5;51H[K[33;135H1[5;31H[?12l[?25h[?25l[31mM of the WebServer..[m[33m"[m[5;50H[K[33;135H0[5;30H[?12l[?25h[?25l[31m  of the WebServer..[m[33m"[m[5;49H[K[33;134H29[5;29H[?12l[?25h[?25l[31m V of the WebServer..[m[33m"[m[33;134H30[5;30H[?12l[?25h[?25l[31mVe of the WebServer..[m[33m"[m[33;135H1[5;31H[?12l[?25h[?25l[31mer of the WebServer..[m[33m"[m[33;135H2[5;32H[?12l[?25h[?25l[31mri of the WebServer..[m[33m"[m[33;135H3[5;33H[?12l[?25h[?25l[31mif of the WebServer..[m[33m"[m[33;135H4[5;34H[?12l[?25h[?25l[31mfy of the WebServer..[m[33m"[m[33;135H5[5;35H[?12l[?25h[?25l[31mf of the WebServer..[m[33m"[m[5;54H[K[33;135H4[5;34H[?12l[?25h[?25l[31mi of the WebServer..[m[33m"[m[5;53H[K[33;135H3[5;33H[?12l[?25h[?25l[31mr of the WebServer..[m[33m"[m[5;52H[K[33;135H2[5;32H[?12l[?25h[?25l[31me of the WebServer..[m[33m"[m[5;51H[K[33;135H1[5;31H[?12l[?25h[?25l[31mV of the WebServer..[m[33m"[m[5;50H[K[33;135H0[5;30H[?12l[?25h[?25l[31m  of the WebServer..[m[33m"[m[5;49H[K[33;134H29[5;29H[?12l[?25h[?25l[31m V of the WebServer..[m[33m"[m[33;134H30[5;30H[?12l[?25h[?25l[31mVe of the WebServer..[m[33m"[m[33;135H1[5;31H[?12l[?25h[?25l[31mV of the WebServer..[m[33m"[m[5;50H[K[33;135H0[5;30H[?12l[?25h[?25l[31mVM of the WebServer..[m[33m"[m[33;135H1[5;31H[?12l[?25h[?25l[31mV of the WebServer..[m[33m"[m[5;50H[K[33;135H0[5;30H[?12l[?25h[?25l[31m  of the WebServer..[m[33m"[m[5;49H[K[33;134H29[5;29H[?12l[?25h[?25l[31m Virtual machine of the WebServer..[m[33m"[m[33;134H44[5;44H[?12l[?25h[?25l[33;132H8,11[6;11H[?12l[?25h[?25l[33;132H9,6 [7;6H[?12l[?25h[?25l[33;130H200,44[8;44H[?12l[?25h[?25l[33;132H1,30[10;30H[?12l[?25h[?25l[33;132H2,23[11;23H[?12l[?25h[?25l[33;132H3,15[12;15H[?12l[?25h[?25l[33;132H4,9 [13;9H[?12l[?25h[?25l[33;132H5,15[14;15H[?12l[?25h[?25l[33;132H6,8 [15;8H[?12l[?25h[?25l[4;27H[36m[46m{[16;1H}[m[33;132H7,2[16;2H[?12l[?25h[?25l[4;27H[36m{[16;1H}[m[33;132H8,1[17;1H[?12l[?25h[?25l[18;27H[36m[46m{[23;1H}[m[33;132H9,28[18;28H[?12l[?25h[?25l[36m{[23;1H}[m[33;131H10[19;28H[?12l[?25h[?25l[33;132H1,44[20;44H[?12l[?25h[?25l[33;132H2,17[22;17H[?12l[?25h[?25l[18;27H[36m[46m{[23;1H}[m[33;132H3,2 [23;2H[?12l[?25h[?25l[18;27H[36m{[23;1H}[m[33;132H4,1[24;1H[?12l[?25h[?25l[33;132H5,44[25;44H[?12l[?25h[?25l[33;132H6,26[26;26H[?12l[?25h[?25l[33;132H7,44[27;44H[?12l[?25h[?25l[33;135H3[27;43H[?12l[?25h[?25l[33;135H2[27;42H[?12l[?25h[?25l[33;135H1[27;41H[?12l[?25h[?25l[33;135H0[27;40H[?12l[?25h[?25l[33;134H39[27;39H[?12l[?25h[?25l[33;135H8[27;38H[?12l[?25h[?25l[33;135H7[27;37H[?12l[?25h[?25l[33;135H6[27;36H[?12l[?25h[?25l[33;135H5[27;35H[?12l[?25h[?25l[33;135H6[27;36H[?12l[?25h[?25l[31me of the WebServerService..[m[33m"[m[27;62H[K[33;135H5[27;35H[?12l[?25h[?25l[31mg of the WebServerService..[m[33m"[m[27;61H[K[33;135H4[27;34H[?12l[?25h[?25l[31ma of the WebServerService..[m[33m"[m[27;60H[K[33;135H3[27;33H[?12l[?25h[?25l[31mn of the WebServerService..[m[33m"[m[27;59H[K[33;135H2[27;32H[?12l[?25h[?25l[31ma of the WebServerService..[m[33m"[m[27;58H[K[33;135H1[27;31H[?12l[?25h[?25l[31mM of the WebServerService..[m[33m"[m[27;57H[K[33;135H0[27;30H[?12l[?25h[?25l[31m  of the WebServerService..[m[33m"[m[27;56H[K[33;134H29[27;29H[?12l[?25h[?25l[31m Virtual machine of the WebServerService..[m[33m"[m[33;134H44[27;44H[?12l[?25h[?25l[33;132H6,26[26;26H[?12l[?25h[?25l[33;132H5,44[25;44H[?12l[?25h[?25l[33;132H4,1 [24;1H[?12l[?25h[?25l[18;27H[36m[46m{[23;1H}[m[33;132H3,2[23;2H[?12l[?25h[?25l[18;27H[36m{[23;1H}[m[33;132H2,17[22;17H[?12l[?25h[33;1H[K[22;16H[?25l[33;130H212,16[8C66%[22;16H[?12l[?25h[?25l[33;132H1[20;16H[?12l[?25h[?25l[33;132H0[19;16H[?12l[?25h[?25l[33;131H09[18;16H[?12l[?25h[?25l[33;132H8,0-1[17;1H[?12l[?25h[?25l[4;27H[36m[46m{[16;1H}[m[33;132H7,1  [16;1H[?12l[?25h[?25l[4;27H[36m{[16;1H}[m[33;132H6,7[15;7H[?12l[?25h[?25l[33;132H5,14[14;14H[?12l[?25h[?25l[33;132H4,8 [13;8H[?12l[?25h[?25l[33;132H3,14[12;14H[?12l[?25h[?25l[33;132H2,16[11;16H[?12l[?25h[?25l[33;132H3,14[12;14H[?12l[?25h[?25l[33;132H4,8 [13;8H[?12l[?25h[?25l[33;132H5,14[14;14H[?12l[?25h[?25l[33;132H6,7 [15;7H[?12l[?25h[?25l[4;27H[36m[46m{[16;1H}[m[33;132H7,1[16;1H[?12l[?25h[?25l[4;27H[36m{[16;1H}[m[33;132H8,0-1[17;1H[?12l[?25h[?25l[4;27H[36m[46m{[16;1H}[m[33;132H7,1  [16;1H[?12l[?25h[?25l[4;27H[36m{[16;1H}[m[33;132H6,7[15;7H[?12l[?25h[?25l[33;132H5,14[14;14H[?12l[?25h[?25l[33;132H4,8 [13;8H[?12l[?25h[?25l[33;132H3,14[12;14H[?12l[?25h[?25l[33;132H2,16[11;16H[?12l[?25h[?25l[33;132H1[10;16H[?12l[?25h[?25l[33;132H0[8;16H[?12l[?25h[?25l[33;130H199,5 [7;5H[?12l[?25h[?25l[33;132H8,10[6;10H[?12l[?25h[?25l[33;132H7,16[5;16H[?12l[?25h[?25l[33;132H6[4;16H[?12l[?25h[?25l[33;132H5[3;16H[?12l[?25h[?25l[33;132H4[2;16H[?12l[?25h[?25l[33;132H3,0-1[1;1H[?12l[?25h[?25l[33;132H4,16 [2;16H[?12l[?25h[?25l[33;132H5[3;16H[?12l[?25h[?25l[33;135H5[3;15H[?12l[?25h[?25l[33;135H4[3;14H[?12l[?25h[?25l[33;135H3[3;13H[?12l[?25h[?25l[33;135H2[3;12H[?12l[?25h[?25l[33;135H1[3;11H[?12l[?25h[?25l[33;135H0[3;10H[?12l[?25h[?25l[33;134H9 [3;9H[?12l[?25h[?25l[33;134H8[3;8H[?12l[?25h[?25l[33;134H7[3;7H[?12l[?25h[?25l[33;134H6[3;6H[?12l[?25h[?25l[33;134H5[3;5H[?12l[?25h[?25l[33;134H4[3;4H[?12l[?25h[?25l[33;134H3[3;3H[?12l[?25h[?25l[33;134H2[3;2H[?12l[?25h[?25l[33;132H6[4;2H[?12l[?25h[?25l[33;134H1[4;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H196,1[9C66%[4;1H[?12l[?25h[?25l[5;32r[5;1H[L[1;33r[4;1H[K[5;1H[36mfunction[m [36msend_webserver() {[m[33;130H[K[33;130H197,1[9C65%[5;1H[?12l[?25h[?25l[6;32r[6;1H[L[1;33r[5;1H[K[6;1H[36mfunction[m [36msend_webserver() {[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H198,1[9C65%[6;1H[?12l[?25h[?25l\[36mfunction[m [36msend_webserver() {[m[33;134H2[6;2H[?12l[?25h[?25l[36mfunction[m [36msend_webserver() {[m[6;28H[K[33;134H1[6;1H[?12l[?25h[33;1H[K[6;1H[?25l[33;130H198,1[9C65%[6;1H[?12l[?25h[?25l[33;132H7,0-1[5;1H[?12l[?25h[?25l[33;132H6[4;1H[?12l[?25h[?25l[33;132H5,1  [3;1H[?12l[?25h[?25l[33;132H4[2;1H[?12l[?25h[?25l[33;132H3,0-1[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[33;130H[K[33;130H192,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H191,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H190,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H189,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H188,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H187,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H186,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP}  [2;1H${SSH_DIR}/manager_authentication.sh >/dev/null 2>&1[m[33;130H[K[33;130H185,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H184,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H183,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "Replace start an RSA key between applications.."[m[33;130H[K[33;130H182,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#function exec_auth() {[m[33;130H[K[33;130H181,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H180,0-1[7C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[33;130H[K[33;130H179,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H178,1[9C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H177,1[9C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H176,1[9C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H175,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H174,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H173,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${AUTH_SCRIPT} ${SSH_FORWARD_USER}}[2;1H@${MANAGER_IP}:${SSH_DIR} >/dev/null 2>&1[m[33;130H[K[33;130H172,1[9C58%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H171,1[9C58%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H170,1[9C58%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "Transferred to the Manager of the shell RSA key.."[m[33;130H[K[33;130H169,1[9C57%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#function send_authscript() {[m[33;130H[K[33;130H168,1[9C57%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#AUTH_SCRIPT="${SCRIPT_HOME}/manager_authentication.sh"[m[33;130H[K[33;130H167,1[9C57%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H166,0-1[7C56%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H165,1[9C56%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H164,1[9C56%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNTER[m=[35m${COUNTER}[m+[31m1[m[33;130H[K[33;130H163,1[9C55%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H162,1[9C55%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H161,1[9C54%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H160,1[9C54%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H159,1[9C54%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H158,1[9C53%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${OUTPUT_IPADDRESS}[m [35m${SSH_FORWARD_UU[2;1HSER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H157,1[9C53%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H156,1[9C53%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H155,1[9C52%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransfer of App IPs information to Manager..[m[33m"[m[33;130H[K[33;130H154,1[9C52%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   sudo ssh-keygen -f "/root/.ssh/known_hosts" -R ${MANAGER_IP}[m[33;130H[K[33;130H153,1[9C52%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_ipaddress() {[m[33;130H[K[33;130H152,1[9C51%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H151,0-1[7C51%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mCOUNTER[m=[31m0[m[33;130H[K[33;130H150,1[9C51%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H149,0-1[7C50%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mNETNS_ID[m=[35m`get_netns $SUBNET_UUID`[m[33;130H[K[33;130H148,1[9C50%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hget_ipaddress[33;130H[K[33;130H147,1[9C50%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m15[m[33;130H[K[33;130H146,1[9C49%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H145,0-1[7C49%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mdone[m[33;130H[K[33;130H144,1[9C49%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mlet[m [36mCOUNTER[m=[35m${COUNTER}[m+[31m1[m[33;130H[K[33;130H143,1[9C48%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [36mSTACK_HOST+[m=([35m${HOST}[m[1m[37m[41m)[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H142,1[9C48%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H create_heat [33m"[m[31maz-[m[35m${HOST}[m[33m"[m [35m$INSTANCE_TYPE[m [35m$KEY_NAME[m [35m$SUBNET_UUID[m [35m$AGENT_TEMPLATE[m [33m"[m[35m${HOST}[m[31m-[m[35m${SCENARIO}[m[31m-ag[m[33m"[m[33;130H[K[33;130H141,1[9C48%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mfi[m[33;130H[K[33;130H140,1[9C47%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;7H [36mSTACK_HOST+[m=([35m${HOST}[m[1m[37m[41m)[m[33;130H[K[33;130H139,1[9C47%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;7H create_heat [33m"[m[31maz-[m[35m${HOST}[m[33m"[m [35m$INSTANCE_TYPE[m [35m$KEY_NAME[m [35m$SUBNET_UUID[m [35m$MANAGER_TEMPLATE[m [33m"[m[35m${HOST}[m[31m-[m[35m${SCENARIO}[m[31m-mn[m[33m"[m[33;130H[K[33;130H138,1[9C47%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mif [[m [35m$COUNTER[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H137,1[9C46%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mProvisioning Host ([m[35m$HOST[m[31m)[m[33m"[m[33;130H[K[33;130H136,1[9C46%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mfor [mHOST [33min[m [35m$HOSTS[m; [33mdo[m[33;130H[K[33;130H135,1[9C46%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H134,0-1[7C45%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mSTACK_HOST[m=[35m()[m[33;130H[K[33;130H133,1[9C45%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mCOUNTER[m=[31m0[m[33;130H[K[33;130H132,1[9C45%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mSUBNET_UUID[m=[35m`get_subnet_uuid $SUBNET`[m[33;130H[K[33;130H131,1[9C44%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mHOSTS[m=[35m$(sudo nova-manage service list [m[33m|[m[35m awk [m[33m"[m[31m/nova-compute/ {print [m[35m\$[m[31m2}[m[33m"[m[35m)[m[33;130H[K[33;130H130,1[9C44%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H129,0-1[7C44%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mfi[m[33;130H[K[33;130H128,1[9C43%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mexit[m [31m1[m[33;130H[K[33;130H127,1[9C43%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31moptions fail.[m[33m"[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H126,1[9C43%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mif [[m [33m"[m[31m0[m[33m"[m [33m=[m [35m`check_flavor [m[33m"[m[35m${INSTANCE_TYPE}[m[33m"[m[35m`[m [33m];[m [33mthen[m[33;130H[K[33;130H125,1[9C42%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H124,0-1[7C42%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[35m${SCRIPT_HOME}[m/keypair_create [35m$KEY_NAME[m [35m$2[m[33;130H[K[33;130H123,1[9C42%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[35m${SCRIPT_HOME}[m/availability_zone_create [35m$2[m[33;130H[K[33;130H122,1[9C41%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H121,0-1[7C41%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m##############################[m[33;130H[K[33;130H120,1[9C41%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_in[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m[33;130H[K[33;130H119,1[9C40%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m### insert scenarios table ###[m[33;130H[K[33;130H118,1[9C40%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H117,0-1[7C40%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mfi[m[33;130H[K[33;130H116,1[9C39%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H show_options[33;130H[K[33;130H115,1[9C39%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mif [[m [33m-z[m [33m"[m[35m$INSTANCE_TYPE[m[33m"[m [33m-o[m [33m-z[m [33m"[m[35m$KEY_NAME[m[33m"[m [33m-o[m [33m-z[m [33m"[m[35m$SUBNET[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H114,1[9C39%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H113,0-1[7C38%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mOUTPUT_IPADDRESS[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/../tmp/ipaddress.txt[m[33m"[m[33;130H[K[33;130H112,1[9C38%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H111,0-1[7C38%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mAUTH_PARAMETOR[m=[33m"[m[31m--os-auth-url=[m[35m${os_auth_url}[m[31m --os-tenant-name=[m[35m${os_tenant_name}[m[31m --os-username=[m[35m${os_username}[m[31m --os-password=[m[35m${os_password}[m[31m [m[33m"[m[33;130H[K[33;130H110,1[9C37%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H109,0-1[7C37%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mSCENARIO[m=[35m$1[m[33;130H[K[33;130H108,1[9C37%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H107,0-1[7C36%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msource[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../settings/[m[33m"[m[35m$2[m[33;130H[K[33;130H106,1[9C36%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msource[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../configure/[m[33m"[m[35m$1[m[33;130H[K[33;130H105,1[9C35%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H104,0-1[7C35%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#SUBNET=${3:-""}[m[33;130H[K[33;130H103,1[9C35%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#KEY_NAME=${2:-""}[m[33;130H[K[33;130H102,1[9C34%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#INSTANCE_TYPE=${1:-""}[m[33;130H[K[33;130H101,1[9C34%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H100,0-1[7C34%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H99,1[10C33%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H98,1[10C33%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H97,1[10C33%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H96,1[10C32%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[35m$ret[m[31m [m[33m>>[m [35m${OUTPUT_IPADDRESS}[m[33;130H[K[33;130H95,1[10C32%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;9H [36mret[m=[35m$(sudo /usr/bin/python [m[33m"[m[35m${SCRIPT_HOME}[m[31m/db_neutron_sh.py[m[33m"[m[35m [m[33m"[m[31mselect[m[33m"[m[35m [m[33m"[m[31mselect ip.ip_address from ipallocations as ip, ports as port where  [2;1Hip.port_id=port.id and port.device_id='[m[35m${ID}[m[31m'[m[33m"[m[35m)[m[33;130H[K[33;130H94,1[10C32%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#         mysql -u ${MYSQL_PARAM[0]} -p${MYSQL_PARAM[1]} ovs_quantum -N -e "select ip.ip_address from ipallocations as ip, ports as port where ip.pp[2;1Hort_id=port.id and port.device_id='${ID}';" >> ${OUTPUT_IPADDRESS} [m[33;130H[K[33;130H93,1[10C31%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33melse[m[33;130H[K[33;130H92,1[10C31%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;9H [36mMANAGER_IP[m=[35m$(sudo /usr/bin/python [m[33m"[m[35m${SCRIPT_HOME}[m[31m/db_neutron_sh.py[m[33m"[m[35m [m[33m"[m[31mselect[m[33m"[m[35m [m[33m"[m[31mselect ip.ip_address from ipallocations as ip, ports as portt[2;1H where ip.port_id=port.id and port.device_id='[m[35m${DEVICE_ID}[m[31m'[m[33m"[m[35m)[m[33;130H[K[33;130H91,1[10C30%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#         MANAGER_IP=`mysql -u ${MYSQL_PARAM[0]} -p${MYSQL_PARAM[1]} ovs_quantum -N -e "select ip.ip_address from ipallocations as ip, ports as porr[2;1Ht where ip.port_id=port.id and port.device_id='${DEVICE_ID}';"`[m[33;130H[K[33;130H90,1[10C30%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H89,1[10C30%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H88,1[10C29%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mID [33min[m [35m${DEVICE_ID[[m@[35m]}[m[33;130H[K[33;130H87,1[10C29%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H86,1[10C29%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H85,1[10C28%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;5H [36mDEVICE_ID+[m=([35m$(/usr/bin/python [m[33m"[m[35m${SCRIPT_HOME}[m[31m/db_heat_sh.py[m[33m"[m[35m [m[33m"[m[31mselect[m[33m"[m[35m [m[33m"[m[31mselect nova_instance from resource where stack_id='[m[35m${ID}[m[31m'[m[33m"[m[35m)[m[1m[37m[41m)[m[33;130H[K[33;130H84,1[10C28%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      DEVICE_ID+=(`mysql -u ${MYSQL_PARAM[0]} -p${MYSQL_PARAM[1]} heat -N -e "select nova_instance from resource where stack_id='${ID}';"`)[m[33;130H[K[33;130H83,1[10C27%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H82,1[10C27%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H81,1[10C27%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H80,0-1[8C26%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfi[m[33;130H[K[33;130H79,1[10C26%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mrm[m [33m-r[m [35m${OUTPUT_IPADDRESS}[m[33;130H[K[33;130H78,1[10C26%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mif [[m [33m-e[m [35m${OUTPUT_IPADDRESS}[m [33m];[m [33mthen[m[33;130H[K[33;130H77,1[10C25%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H76,1[10C25%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   MYSQL_PARAM=(`cat "$CONF"`)[m[33;130H[K[33;130H75,1[10C25%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   CONF="${SCRIPT_HOME}/../configure/mysql.conf"  # 0:id 1:pass[m[33;130H[K[33;130H74,1[10C24%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mget_ipaddress() {[m[33;130H[K[33;130H73,1[10C24%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H72,0-1[8C24%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mDEVICE_ID[m=[35m()[m[33;130H[K[33;130H71,1[10C23%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H70,0-1[8C23%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H69,1[10C23%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[35m$netnsid[m[33;130H[K[33;130H68,1[10C22%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [36mnetnsid[m=[33m"[m[31mqdhcp-[m[35m$(neutron ${AUTH_PARAMETOR} net-list [m[33m|[m[35m [m[33mgrep[m[35m $1 [m[33m|[m[35m awk [m[33m'[m[31m{print $2}[m[33m'[m[35m)[m[33m"[m[33;130H[K[33;130H67,1[10C22%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mget_netns() {[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H66,1[10C22%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H65,0-1[8C21%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H64,1[10C21%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mtemplate that booting, [m[35m$5[m[33m"[m[33;130H[K[33;130H63,1[10C21%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "InstanceType=$2;KeyName=$3;ProvHost=$1;SubnetId=$4;Template=$5"[m[33;130H[K[33;130H62,1[10C20%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H [36mSTACK_ID+[m=([35m$(heat ${AUTH_PARAMETOR} stack-create $6 -f ${SCRIPT_HOME}/../templates/$5 --[m[36mparameters[m=[33m"[m[31mInstanceType=[m[35m$2[m[31m;KeyName=[m[35m$3[m[31m;ProvHost=[m[35m$1[m[31m;Subnee[2;1HtId=[m[35m$4[m[33m"[m[35m [m[33m|[m[35m [m[33mgrep[m[35m ${6} [m[33m|[m[35m awk [m[33m'[m[31m{print $2}[m[33m'[m[35m)[m)[33;130H[K[33;130H61,1[10C20%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mcreate_heat() {[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H60,1[10C20%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H59,0-1[8C20%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mSTACK_ID[m=[35m()[m[33;130H[K[33;130H58,1[10C19%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H57,0-1[8C19%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H56,1[10C18%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[35m$UUID[m[33m"[m[33;130H[K[33;130H55,1[10C18%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [36mUUID[m=[35m$(neutron ${AUTH_PARAMETOR} subnet-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $2} [m[33m'[m[35m)[m[33;130H[K[33;130H54,1[10C18%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mget_subnet_uuid() {[m[33;130H[K[33;130H53,1[10C17%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H52,0-1[8C17%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H51,1[10C17%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31m0[m[33m"[m[33;130H[K[33;130H50,1[10C16%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mdone[m[33;130H[K[33;130H49,1[10C16%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H [33mfi[m[33;130H[K[33;130H48,1[10C16%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;11H [33mexit[m [31m0[m[33;130H[K[33;130H47,1[10C15%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;11H [33mecho[m[31m [m[33m"[m[31m1[m[33m"[m[33;130H[K[33;130H46,1[10C15%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H [33mif [m[35m[[[m [33m"[m[35m$KEY[m[33m"[m [33m=[m [31m"$1"[m [35m]][m[33m;[m [33mthen[m[33;130H[K[33;130H45,1[10C15%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mfor [mKEY [33min[m [35m$KEYS[m[33m;[m [33mdo[m[33;130H[K[33;130H44,1[10C14%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [36mKEYS[m=[35m$(nova ${AUTH_PARAMETOR} keypair-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $2} [m[33m'[m[35m)[m[33;130H[K[33;130H43,1[10C14%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mcheck_keypair() {[m[33;130H[K[33;130H42,1[10C14%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H41,0-1[8C13%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H40,1[10C13%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31m0[m[33m"[m[33;130H[K[33;130H39,1[10C13%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mdone[m[33;130H[K[33;130H38,1[10C12%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H [33mfi[m[33;130H[K[33;130H37,1[10C12%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;11H [33mexit[m [31m0[m[33;130H[K[33;130H36,1[10C12%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;11H [33mecho[m[31m [m[33m"[m[31m1[m[33m"[m[33;130H[K[33;130H35,1[10C11%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H [33mif [m[35m[[[m [33m"[m[35m$FLAVOR[m[33m"[m [33m=[m [31m"$1"[m [35m]][m[33m;[m [33mthen[m[33;130H[K[33;130H34,1[10C11%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mfor [mFLAVOR [33min[m [35m$FLAVORS[m[33m;[m [33mdo[m[33;130H[K[33;130H33,1[10C11%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [36mFLAVORS[m=[35m$(nova ${AUTH_PARAMETOR} flavor-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $4} [m[33m'[m[35m)[m[33;130H[K[33;130H32,1[10C10%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mcheck_flavor() {[m[33;130H[K[33;130H31,1[10C10%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H30,0-1[8C10%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H29,1[11C9%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mexit[m [31m0[m[33;130H[K[33;130H28,1[11C9%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m[33;130H[K[33;130H27,1[11C8%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mSUBNET              =<neutron subnet name>[m[33m"[m[33;130H[K[33;130H26,1[11C8%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mKEY_NAME            =<nova keypair name>[m[33m"[m[33;130H[K[33;130H25,1[11C8%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mINSTANCE_TYPE       =<nova flavor name>[m[33m"[m[33;130H[K[33;130H24,1[11C7%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H23,1[11C7%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_CONFLICT    =<Agent Manager and conflictf>[m[33m"[m[33;130H[K[33;130H22,1[11C7%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mAGENT_TEMPLATE      =<Agent Heat template file name>[m[33m"[m[33;130H[K[33;130H21,1[11C6%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_TEMPLATE    =<Manager Heat template file name>[m[33m"[m[33;130H[K[33;130H20,1[11C6%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H19,1[11C6%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mSSH_DIR             =<exec user directory>[m[33m"[m[33;130H[K[33;130H18,1[11C5%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mSSH_PASSWORD        =<exec user password>[m[33m"[m[33;130H[K[33;130H17,1[11C5%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mSSH_USER            =<exec user>[m[33m"[m[33;130H[K[33;130H16,1[11C5%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mSSH_FORWARD_USER    =<ssh login user>[m[33m"[m[33;130H[K[33;130H15,1[11C4%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m[33;130H[K[33;130H14,1[11C4%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31m             configure options.[m[33m"[m[33;130H[K[33;130H13,1[11C4%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m[33;130H[K[33;130H12,1[11C3%[1;1H[?12l[?25h[?25l[33;131H3[2;1H[?12l[?25h[?25l[33;131H4[3;1H[?12l[?25h[?25l[33;131H5[4;1H[?12l[?25h[?25l[33;131H6[5;1H[?12l[?25h[?25l[33;131H7[6;1H[?12l[?25h[?25l[33;131H8[7;1H[?12l[?25h[?25l[33;131H9[8;1H[?12l[?25h[?25l[33;130H20[9;1H[?12l[?25h[?25l[33;131H1[10;1H[?12l[?25h[?25l[33;131H2[11;1H[?12l[?25h[?25l[33;131H3[12;1H[?12l[?25h[?25l[33;131H4[13;1H[?12l[?25h[?25l[33;131H5[14;1H[?12l[?25h[?25l[33;131H6[15;1H[?12l[?25h[?25l[33;131H7[16;1H[?12l[?25h[?25l[33;131H8[17;1H[?12l[?25h[?25l[33;131H9[18;1H[?12l[?25h[?25l[33;130H30,0-1[19;1H[?12l[?25h[?25l[33;131H1,1  [20;1H[?12l[?25h[?25l[33;131H2[21;1H[?12l[?25h[?25l[33;131H3[22;1H[?12l[?25h[?25l[33;131H4[23;1H[?12l[?25h[?25l[33;131H5[24;1H[?12l[?25h[?25l[33;131H6[25;1H[?12l[?25h[?25l[33;131H7[26;1H[?12l[?25h[?25l[33;131H8[27;1H[?12l[?25h[?25l[33;131H9[28;1H[?12l[?25h[?25l[20;25H[36m[46m{[29;1H}[m[33;130H40[29;1H[?12l[?25h[?25l[20;25H[36m{[29;1H}[m[33;131H1,0-1[30;1H[?12l[?25h[?25l[33;131H2,1  [31;1H[?12l[?25h[?25l[33;131H3[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mfor [mKEY [33min[m [35m$KEYS[m[33m;[m [33mdo[m[33;130H[K[33;130H44,1[11C4%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;8H [33mif [m[35m[[[m [33m"[m[35m$KEY[m[33m"[m [33m=[m [31m"$1"[m [35m]][m[33m;[m [33mthen[m[33;130H[K[33;130H45,1[11C4%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;11H [33mecho[m[31m [m[33m"[m[31m1[m[33m"[m[33;130H[K[33;130H46,1[11C4%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;11H [33mexit[m [31m0[m[33;130H[K[33;130H47,1[11C5%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;8H [33mfi[m[33;130H[K[33;130H48,1[11C5%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mdone[m[33;130H[K[33;130H49,1[11C5%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mecho[m[31m [m[33m"[m[31m0[m[33m"[m[33;130H[K[33;130H50,1[11C6%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[23;26H[36m[46m{[32;1H}[m[33;130H[K[33;130H51,1[11C6%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[22;26H[36m{[31;1H}[m[33;130H[K[33;130H52,0-1[9C6%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36mget_subnet_uuid() {[m[33;130H[K[33;130H53,1[11C7%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [36mUUID[m=[35m$(neutron ${AUTH_PARAMETOR} subnet-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $2} [m[33m'[m[35m)[m[33;130H[K[33;130H54,1[11C7%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mecho[m[31m [m[33m"[m[35m$UUID[m[33m"[m[33;130H[K[33;130H55,1[11C7%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[29;28H[36m[46m{


}[m[33;130H[K[33;130H56,1[11C8%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[28;28H[36m{


}[m[33;130H[K[33;130H57,0-1[9C8%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mSTACK_ID[m=[35m()[m[33;130H[K[33;130H58,1[11C8%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H59,0-1[9C9%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36mcreate_heat() {[m[33;130H[K[33;130H60,1[11C9%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;3H [36mSTACK_ID+[m=([35m$(heat ${AUTH_PARAMETOR} stack-create $6 -f ${SCRIPT_HOME}/../templates/$5 --[m[36mparameters[m=[33m"[m[31mInstanceType=[m[35m$2[m[31m;KeyName=[m[35m$3[m[31m;ProvHost=[m[35m$1[m[31m;Subnee[32;1HtId=[m[35m$4[m[33m"[m[35m [m[33m|[m[35m [m[33mgrep[m[35m ${6} [m[33m|[m[35m awk [m[33m'[m[31m{print $2}[m[33m'[m[35m)[m)[33;130H[K[33;130H61,1[10C10%[31;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   echo "InstanceType=$2;KeyName=$3;ProvHost=$1;SubnetId=$4;Template=$5"[m[33;130H[K[33;130H62,1[10C10%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mecho[m[31m [m[33m"[m[31mtemplate that booting, [m[35m$5[m[33m"[m[33;130H[K[33;130H63,1[10C11%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[27;24H[36m[46m{[32;1H}[m[33;130H[K[33;130H64,1[10C11%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[26;24H[36m{[31;1H}[m[33;130H[K[33;130H65,0-1[8C11%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36mget_netns() {[m[33;130H[K[33;130H66,1[10C12%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [36mnetnsid[m=[33m"[m[31mqdhcp-[m[35m$(neutron ${AUTH_PARAMETOR} net-list [m[33m|[m[35m [m[33mgrep[m[35m $1 [m[33m|[m[35m awk [m[33m'[m[31m{print $2}[m[33m'[m[35m)[m[33m"[m[33;130H[K[33;130H67,1[10C12%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mecho[m[31m [m[35m$netnsid[m[33;130H[K[33;130H68,1[10C12%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[29;22H[36m[46m{


}[m[33;130H[K[33;130H69,1[10C13%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[28;22H[36m{


}[m[33;130H[K[33;130H70,0-1[8C13%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mDEVICE_ID[m=[35m()[m[33;130H[K[33;130H71,1[10C13%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H72,0-1[8C14%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36mget_ipaddress() {[m[33;130H[K[33;130H73,1[10C14%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   CONF="${SCRIPT_HOME}/../configure/mysql.conf"  # 0:id 1:pass[m[33;130H[K[33;130H74,1[10C14%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   MYSQL_PARAM=(`cat "$CONF"`)[m[33;130H[K[33;130H75,1[10C15%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H76,1[10C15%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mif [[m [33m-e[m [35m${OUTPUT_IPADDRESS}[m [33m];[m [33mthen[m[33;130H[K[33;130H77,1[10C15%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mrm[m [33m-r[m [35m${OUTPUT_IPADDRESS}[m[33;130H[K[33;130H78,1[10C16%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mfi[m[33;130H[K[33;130H79,1[10C16%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H80,0-1[8C16%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H81,1[10C17%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdo[m[33;130H[K[33;130H82,1[10C17%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#      DEVICE_ID+=(`mysql -u ${MYSQL_PARAM[0]} -p${MYSQL_PARAM[1]} heat -N -e "select nova_instance from resource where stack_id='${ID}';"`)[m[33;130H[K[33;130H83,1[10C17%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;5H [36mDEVICE_ID+[m=([35m$(/usr/bin/python [m[33m"[m[35m${SCRIPT_HOME}[m[31m/db_heat_sh.py[m[33m"[m[35m [m[33m"[m[31mselect[m[33m"[m[35m [m[33m"[m[31mselect nova_instance from resource where stack_id='[m[35m${ID}[m[31m'[m[33m"[m[35m)[m[1m[37m[41m)[m[33;130H[K[33;130H84,1[10C18%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdone[m[33;130H[K[33;130H85,1[10C18%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H86,1[10C18%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mfor [mID [33min[m [35m${DEVICE_ID[[m@[35m]}[m[33;130H[K[33;130H87,1[10C19%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdo[m[33;130H[K[33;130H88,1[10C19%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H89,1[10C20%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[34m#         MANAGER_IP=`mysql -u ${MYSQL_PARAM[0]} -p${MYSQL_PARAM[1]} ovs_quantum -N -e "select ip.ip_address from ipallocations as ip, ports as porr[32;1Ht where ip.port_id=port.id and port.device_id='${DEVICE_ID}';"`[m[33;130H[K[33;130H90,1[10C20%[31;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;9H [36mMANAGER_IP[m=[35m$(sudo /usr/bin/python [m[33m"[m[35m${SCRIPT_HOME}[m[31m/db_neutron_sh.py[m[33m"[m[35m [m[33m"[m[31mselect[m[33m"[m[35m [m[33m"[m[31mselect ip.ip_address from ipallocations as ip, ports as portt[32;1H where ip.port_id=port.id and port.device_id='[m[35m${DEVICE_ID}[m[31m'[m[33m"[m[35m)[m[33;130H[K[33;130H91,1[10C20%[31;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33melse[m[33;130H[K[33;130H92,1[10C21%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[34m#         mysql -u ${MYSQL_PARAM[0]} -p${MYSQL_PARAM[1]} ovs_quantum -N -e "select ip.ip_address from ipallocations as ip, ports as port where ip.pp[32;1Hort_id=port.id and port.device_id='${ID}';" >> ${OUTPUT_IPADDRESS} [m[33;130H[K[33;130H93,1[10C21%[31;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;9H [36mret[m=[35m$(sudo /usr/bin/python [m[33m"[m[35m${SCRIPT_HOME}[m[31m/db_neutron_sh.py[m[33m"[m[35m [m[33m"[m[31mselect[m[33m"[m[35m [m[33m"[m[31mselect ip.ip_address from ipallocations as ip, ports as port where  [32;1Hip.port_id=port.id and port.device_id='[m[35m${ID}[m[31m'[m[33m"[m[35m)[m[33;130H[K[33;130H94,1[10C22%[31;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mecho[m[31m [m[35m$ret[m[31m [m[33m>>[m [35m${OUTPUT_IPADDRESS}[m[33;130H[K[33;130H95,1[10C22%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H96,1[10C23%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H97,1[10C23%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdone[m[33;130H[K[33;130H98,1[10C23%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[2;26H[36m[46m{[32;1H}[m[33;130H[K[33;130H99,1[10C24%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[1;26H[36m{[31;1H}[m[33;130H[K[33;130H100,0-1[7C24%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#INSTANCE_TYPE=${1:-""}[m[33;130H[K[33;130H101,1[9C24%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#KEY_NAME=${2:-""}[m[33;130H[K[33;130H102,1[9C25%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#SUBNET=${3:-""}[m[33;130H[K[33;130H103,1[9C25%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H104,0-1[7C25%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33msource[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../configure/[m[33m"[m[35m$1[m[33;130H[K[33;130H105,1[9C26%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33msource[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../settings/[m[33m"[m[35m$2[m[33;130H[K[33;130H106,1[9C26%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H107,0-1[7C26%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mSCENARIO[m=[35m$1[m[33;130H[K[33;130H108,1[9C27%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H109,0-1[7C27%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mAUTH_PARAMETOR[m=[33m"[m[31m--os-auth-url=[m[35m${os_auth_url}[m[31m --os-tenant-name=[m[35m${os_tenant_name}[m[31m --os-username=[m[35m${os_username}[m[31m --os-password=[m[35m${os_password}[m[31m [m[33m"[m[33;130H[K[33;130H110,1[9C27%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H111,0-1[7C28%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mOUTPUT_IPADDRESS[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/../tmp/ipaddress.txt[m[33m"[m[33;130H[K[33;130H112,1[9C28%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H113,0-1[7C29%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mif [[m [33m-z[m [33m"[m[35m$INSTANCE_TYPE[m[33m"[m [33m-o[m [33m-z[m [33m"[m[35m$KEY_NAME[m[33m"[m [33m-o[m [33m-z[m [33m"[m[35m$SUBNET[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H114,1[9C29%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H show_options[33;130H[K[33;130H115,1[9C29%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mfi[m[33;130H[K[33;130H116,1[9C30%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H117,0-1[7C30%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[34m### insert scenarios table ###[m
/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_in[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m[33;130H[K[33;130H118,1[9C30%[31;1H[?12l[?25h[?25l[33;132H9[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[34m##############################[m[33;130H[K[33;130H120,1[9C31%[31;1H[?12l[?25h[?25l[33;132H1,0-1[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[35m${SCRIPT_HOME}[m/availability_zone_create [35m$2[m[33;130H[K[33;130H122,1[9C31%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[35m${SCRIPT_HOME}[m/keypair_create [35m$KEY_NAME[m [35m$2[m[33;130H[K[33;130H123,1[9C32%[31;1H[?12l[?25h[?25l[33;132H4,0-1[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[33mif [[m [33m"[m[31m0[m[33m"[m [33m=[m [35m`check_flavor [m[33m"[m[35m${INSTANCE_TYPE}[m[33m"[m[35m`[m [33m];[m [33mthen[m
    [33mecho[m[31m [m[33m"[m[31moptions fail.[m[33m"[m[33;130H[K[33;130H125,1[9C32%[31;1H[?12l[?25h[?25l[33;132H6[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mexit[m [31m1[m[33;130H[K[33;130H127,1[9C32%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mfi[m[33;130H[K[33;130H128,1[9C33%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H129,0-1[7C33%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mHOSTS[m=[35m$(sudo nova-manage service list [m[33m|[m[35m awk [m[33m"[m[31m/nova-compute/ {print [m[35m\$[m[31m2}[m[33m"[m[35m)[m[33;130H[K[33;130H130,1[9C33%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mSUBNET_UUID[m=[35m`get_subnet_uuid $SUBNET`[m[33;130H[K[33;130H131,1[9C34%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mCOUNTER[m=[31m0[m[33;130H[K[33;130H132,1[9C34%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mSTACK_HOST[m=[35m()[m[33;130H[K[33;130H133,1[9C34%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H134,0-1[7C35%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mfor [mHOST [33min[m [35m$HOSTS[m; [33mdo[m[33;130H[K[33;130H135,1[9C35%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mecho[m[31m [m[33m"[m[31mProvisioning Host ([m[35m$HOST[m[31m)[m[33m"[m[33;130H[K[33;130H136,1[9C35%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mif [[m [35m$COUNTER[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H137,1[9C36%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;7H create_heat [33m"[m[31maz-[m[35m${HOST}[m[33m"[m [35m$INSTANCE_TYPE[m [35m$KEY_NAME[m [35m$SUBNET_UUID[m [35m$MANAGER_TEMPLATE[m [33m"[m[35m${HOST}[m[31m-[m[35m${SCENARIO}[m[31m-mn[m[33m"[m[33;130H[K[33;130H138,1[9C36%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;7H [36mSTACK_HOST+[m=([35m${HOST}[m[1m[37m[41m)[m[33;130H[K[33;130H139,1[9C37%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mfi[m[33;130H[K[33;130H140,1[9C37%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H create_heat [33m"[m[31maz-[m[35m${HOST}[m[33m"[m [35m$INSTANCE_TYPE[m [35m$KEY_NAME[m [35m$SUBNET_UUID[m [35m$AGENT_TEMPLATE[m [33m"[m[35m${HOST}[m[31m-[m[35m${SCENARIO}[m[31m-ag[m[33m"[m[33;130H[K[33;130H141,1[9C37%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [36mSTACK_HOST+[m=([35m${HOST}[m[1m[37m[41m)[m[33;130H[K[33;130H142,1[9C38%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;4H [33mlet[m [36mCOUNTER[m=[35m${COUNTER}[m+[31m1[m[33;130H[K[33;130H143,1[9C38%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33mdone[m[33;130H[K[33;130H144,1[9C38%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H145,0-1[7C39%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33msleep[m [31m15[m[33;130H[K[33;130H146,1[9C39%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hget_ipaddress[33;130H[K[33;130H147,1[9C39%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mNETNS_ID[m=[35m`get_netns $SUBNET_UUID`[m[33;130H[K[33;130H148,1[9C40%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H149,0-1[7C40%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mCOUNTER[m=[31m0[m[33;130H[K[33;130H150,1[9C40%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H151,0-1[7C41%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36msend_ipaddress() {[m[33;130H[K[33;130H152,1[9C41%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   sudo ssh-keygen -f "/root/.ssh/known_hosts" -R ${MANAGER_IP}[m[33;130H[K[33;130H153,1[9C41%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mTransfer of App IPs information to Manager..[m[33m"[m[33;130H[K[33;130H154,1[9C42%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mwhile :[m[33;130H[K[33;130H155,1[9C42%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33m   do[m[33;130H[K[33;130H156,1[9C42%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${OUTPUT_IPADDRESS}[m [35m${SSH_FORWARD_UU[32;1HSER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H157,1[9C43%[31;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H158,1[9C43%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H159,1[9C44%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mbreak[m[33;130H[K[33;130H160,1[9C44%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H161,1[9C44%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33msleep[m [31m10[m[33;130H[K[33;130H162,1[9C45%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mlet[m [36mCOUNTER[m=[35m${COUNTER}[m+[31m1[m[33;130H[K[33;130H163,1[9C45%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdone[m[33;130H[K[33;130H164,1[9C45%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[18;27H[36m[46m{[32;1H}[m[33;130H[K[33;130H165,1[9C46%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[17;27H[36m{[31;1H}[m[33;130H[K[33;130H166,0-1[7C46%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#AUTH_SCRIPT="${SCRIPT_HOME}/manager_authentication.sh"[m[33;130H[K[33;130H167,1[9C46%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#function send_authscript() {[m[33;130H[K[33;130H168,1[9C47%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   echo "Transferred to the Manager of the shell RSA key.."[m[33;130H[K[33;130H169,1[9C47%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   while :[m[33;130H[K[33;130H170,1[9C47%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   do[m[33;130H[K[33;130H171,1[9C48%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${AUTH_SCRIPT} ${SSH_FORWARD_USER}}[32;1H@${MANAGER_IP}:${SSH_DIR} >/dev/null 2>&1[m[33;130H[K[33;130H172,1[9C48%[31;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H173,1[9C49%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#         echo "   : )"[m[33;130H[K[33;130H174,1[9C49%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#         break[m[33;130H[K[33;130H175,1[9C49%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#      fi[m[33;130H[K[33;130H176,1[9C50%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#      sleep 10[m[33;130H[K[33;130H177,1[9C50%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   done[m[33;130H[K[33;130H178,1[9C50%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#}[m[33;130H[K[33;130H179,1[9C51%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H180,0-1[7C51%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#function exec_auth() {[m[33;130H[K[33;130H181,1[9C51%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   echo "Replace start an RSA key between applications.."[m[33;130H[K[33;130H182,1[9C52%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   while :[m[33;130H[K[33;130H183,1[9C52%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   do[m[33;130H[K[33;130H184,1[9C52%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[34m#      sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP}  [32;1H${SSH_DIR}/manager_authentication.sh >/dev/null 2>&1[m[33;130H[K[33;130H185,1[9C53%[31;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[34m#      if [ $? -eq "0" ]; then
#         echo "   : )"[m[33;130H[K[33;130H186,1[9C53%[31;1H[?12l[?25h[?25l[33;132H7[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#         break[m[33;130H[K[33;130H188,1[9C54%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#      fi[m[33;130H[K[33;130H189,1[9C54%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#      sleep 10[m[33;130H[K[33;130H190,1[9C54%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#   done[m[33;130H[K[33;130H191,1[9C55%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#}[m[33;130H[K[33;130H192,1[9C55%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H193,0-1[7C56%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#WEBSERVER_SCRIPT="${SCRIPT_HOME}/../web/main_server.py"[m[33;130H[K[33;130H194,1[9C56%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mWEBSERVER_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/verify_server[m[33m"[m[33;130H[K[33;130H195,1[9C56%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H196,0-1[7C57%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H197,0-1[7C57%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36msend_webserver() {[m[33;130H[K[33;130H198,1[9C57%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServer..[m[33m"[m[33;130H[K[33;130H199,1[9C58%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mwhile :[m[33;130H[K[33;130H200,1[9C58%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33m   do[m[33;130H[K[33;130H201,1[9C58%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${WEBSERVER_SCRIPT}[m [35m${SSH_FORWARD_UU[32;1HSER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H202,1[9C59%[31;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H203,1[9C59%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H204,1[9C59%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mbreak[m[33;130H[K[33;130H205,1[9C60%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H206,1[9C60%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33msleep[m [31m10[m[33;130H[K[33;130H207,1[9C60%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdone[m[33;130H[K[33;130H208,1[9C61%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[20;27H[36m[46m{[32;1H}[m[33;130H[K[33;130H209,1[9C61%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[19;27H[36m{[31;1H}[m[33;130H[K[33;130H210,0-1[7C61%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36mexec_webserver() {[m[33;130H[K[33;130H211,1[9C62%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mStart WebServer..[m[33m"[m[33;130H[K[33;130H212,1[9C62%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31m/uss[32;1Hr/bin/python [m[35m${SSH_DIR}[m[31m/main_server.py &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H213,1[9C63%[31;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m
[36m}[m[33;130H[K[33;130H214,1[9C63%[31;1H[?12l[?25h[?25l[27;27H[36m[46m{[32;1H}[m[33;132H5[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[26;27H[36m{[31;1H}[m[33;130H[K[33;130H216,0-1[7C63%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mVERIFY_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;130H[K[33;130H217,1[9C64%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36msend_service() {[m[33;130H[K[33;130H218,1[9C64%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServerService..[m[33m"[m[33;130H[K[33;130H219,1[9C64%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mwhile :[m[33;130H[K[33;130H220,1[9C65%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33m   do[m[33;130H[K[33;130H221,1[9C65%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${VERIFY_SERVICE_SCRIPT}[m [35m${SSH_FORWW[32;1HARD_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H222,1[9C66%[31;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H223,1[9C66%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H224,1[9C66%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mbreak[m[33;130H[K[33;130H225,1[9C67%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H226,1[9C67%[32;1H[?12l[?25h[?25l[33;132H5[31;1H[?12l[?25h[?25l[33;132H4[30;1H[?12l[?25h[?25l[33;132H3[29;1H[?12l[?25h[?25l[33;132H2[27;1H[?12l[?25h[?25l[33;132H1[26;1H[?12l[?25h[?25l[33;132H0[25;1H[?12l[?25h[?25l[33;131H19[24;1H[?12l[?25h[?25l[33;132H8[23;1H[?12l[?25h[?25l[33;132H7[22;1H[?12l[?25h[?25l[33;132H6,0-1[21;1H[?12l[?25h[?25l[15;27H[36m[46m{[20;1H}[m[33;132H5,1  [20;1H[?12l[?25h[?25l[15;27H[36m{[20;1H}[m[33;132H4[19;1H[?12l[?25h[?25l[33;132H3[17;1H[?12l[?25h[?25l[33;132H2[16;1H[?12l[?25h[?25l[33;132H1[15;1H[?12l[?25h[?25l[33;132H0,0-1[14;1H[?12l[?25h[?25l[1;27H[36m[46m{[13;1H}[m[33;131H09,1  [13;1H[?12l[?25h[?25l[1;27H[36m{[13;1H}[m[33;132H8[12;1H[?12l[?25h[?25l[33;132H7[11;1H[?12l[?25h[?25l[33;132H6[10;1H[?12l[?25h[?25l[33;132H5[9;1H[?12l[?25h[?25l[33;132H4[8;1H[?12l[?25h[?25l[33;132H3[7;1H[?12l[?25h[?25l[33;132H2[5;1H[?12l[?25h[?25l[33;132H1[4;1H[?12l[?25h[?25l[33;132H0[3;1H[?12l[?25h[?25l[33;130H199[2;1H[?12l[?25h[?25l[33;132H8[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H197,0-1[7C67%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H196,0-1[7C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mWEBSERVER_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/verify_server[m[33m"[m[33;130H[K[33;130H195,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#WEBSERVER_SCRIPT="${SCRIPT_HOME}/../web/main_server.py"[m[33;130H[K[33;130H194,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H193,0-1[7C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[33;130H[K[33;130H192,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H191,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H190,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H189,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H188,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H187,1[9C63%[1;1H[?12l[?25h[?25l[33;132H8[2;1H[?12l[?25h[?25l[33;132H9[3;1H[?12l[?25h[?25l[33;131H90[4;1H[?12l[?25h[?25l[33;132H1[5;1H[?12l[?25h[?25l[33;132H2[6;1H[?12l[?25h[?25l[33;132H3,0-1[7;1H[?12l[?25h[?25l[33;132H4,1  [8;1H[?12l[?25h[?25l[33;132H5[9;1H[?12l[?25h[?25l[33;132H6,0-1[10;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H196,1[9C63%[10;1H[?12l[?25h[?25l[11;32r[11;1H[L[1;33r[33;130H[K[33;130H197,1[9C63%[11;1H[?12l[?25h[?25lf[33;134H2[11;2H[?12l[?25h[?25lfu[33;134H3[11;3H[?12l[?25h[?25lun[33;134H4[11;4H[?12l[?25h[?25lnc[33;134H5[11;5H[?12l[?25h[?25lct[33;134H6[11;6H[?12l[?25h[?25lti[33;134H7[11;7H[?12l[?25h[?25lio[33;134H8[11;8H[?12l[?25h[?25l[36mfunction[m[33;134H9[11;9H[?12l[?25h[?25l[33;134H10[11;10H[?12l[?25h[?25l s[33;135H1[11;11H[?12l[?25h[?25lse[33;135H2[11;12H[?12l[?25h[?25l[33msed[m[33;135H3[11;13H[?12l[?25h[?25lsedn[33;135H4[11;14H[?12l[?25h[?25l[33msed[m[11;13H[K[33;135H3[11;13H[?12l[?25h[?25lse[11;12H[K[33;135H2[11;12H[?12l[?25h[?25len[33;135H3[11;13H[?12l[?25h[?25l[11;12H[K[33;135H2[11;12H[?12l[?25h[?25len[33;135H3[11;13H[?12l[?25h[?25lnd[33;135H4[11;14H[?12l[?25h[?25ld_[33;135H5[11;15H[?12l[?25h[?25l_w[33;135H6[11;16H[?12l[?25h[?25lwe[33;135H7[11;17H[?12l[?25h[?25leb[33;135H8[11;18H[?12l[?25h[?25l[11;17H[K[33;135H7[11;17H[?12l[?25h[?25l[11;16H[K[33;135H6[11;16H[?12l[?25h[?25l[11;15H[K[33;135H5[11;15H[?12l[?25h[?25l[11;14H[K[33;135H4[11;14H[?12l[?25h[?25l[11;13H[K[33;135H3[11;13H[?12l[?25h[?25l[11;12H[K[33;135H2[11;12H[?12l[?25h[?25l[11;11H[K[33;135H1[11;11H[?12l[?25h[?25l[11;10H[K[33;135H0[11;10H[?12l[?25h[?25l s[33;135H1[11;11H[?12l[?25h[?25lsc[33;135H2[11;12H[?12l[?25h[?25lcp[33;135H3[11;13H[?12l[?25h[?25lp_[33;135H4[11;14H[?12l[?25h[?25l_d[33;135H5[11;15H[?12l[?25h[?25lda[33;135H6[11;16H[?12l[?25h[?25lat[33;135H7[11;17H[?12l[?25h[?25lta[33;135H8[11;18H[?12l[?25h[?25l[11;17H[K[33;135H7[11;17H[?12l[?25h[?25l[11;16H[K[33;135H6[11;16H[?12l[?25h[?25l[11;15H[K[33;135H5[11;15H[?12l[?25h[?25l[11;14H[K[33;135H4[11;14H[?12l[?25h[?25l[11;13H[K[33;135H3[11;13H[?12l[?25h[?25l[11;12H[K[33;135H2[11;12H[?12l[?25h[?25l[11;11H[K[33;135H1[11;11H[?12l[?25h[?25l[11;10H[K[33;135H0[11;10H[?12l[?25h[?25l e[33;135H1[11;11H[?12l[?25h[?25lex[33;135H2[11;12H[?12l[?25h[?25lxe[33;135H3[11;13H[?12l[?25h[?25l[33mexec[m[33;135H4[11;14H[?12l[?25h[?25lexec_[33;135H5[11;15H[?12l[?25h[?25l_s[33;135H6[11;16H[?12l[?25h[?25lsc[33;135H7[11;17H[?12l[?25h[?25lcp[33;135H8[11;18H[?12l[?25h[?25lp[35m(

function send_webserver() {
   
   while :
   do
      sudo ip netns [4C [11C scp [m[1C[36moStrictHostKeyChecking[m=[35mno -i [40C [19C [14CUU[18;1HSER}@[13C:[10C [1C/dev/null [m[3C[33m1[m
[35m      if [ $? -eq [3C ][1C then
         
         
      fi
      [5C 
   done
}

function exec_webserver() {
   
   sudo ip netns [4C [11C ssh [m[1C[36moStrictHostKeyChecking[m=[35mno -i [40C [19C@[13C [m[3C[31mss[30;1Hr[m[40C[35m [1C/dev/null [4C 
   
}[m[11;18H[35m[46m([m[20;21H[31m[46m)[m[33;135H9[11;19H[?12l[?25h[?25l[35m[46m([m[35m)[m

[36mfunction[m [36msend_webserver() {[m
   
   [33mwhile :
   do[m
      sudo ip netns [4C [11C scp [1C[35moStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [40C [19C [14C[35mUU[18;1HS[m[3C@[13C:[10C [1C/dev/null [3C[31m1[m
      [33mif [[m [2C [33m-eq[m [3C [33m][m[1C [33mthen[m
         
         
      [33mfi[m
      [5C 
   [33mdone[m
[36m}

function[m [36mexec_webserver() {[m
   
   sudo ip netns [4C [11C ssh [1C[35moStrictHostKeyChecking[m[33m=[mno [2C [40C [19C@[13C [3C[31mss[30;1Hr[m[40C [1C/dev/null [4C 
   
[36m}[m[11;19H[35m[46m)[m[20;21H[31m)[m[33;134H20[11;20H[?12l[?25h[?25l[35m()[m[33;135H1[11;21H[?12l[?25h[?25l[11;10H[36mexec_scp() {[m[33;135H2[11;22H[?12l[?25h[?25l[12;32r[12;1H[L[1;33r[33;130H[K[33;130H198,1[9C63%[12;1H[?12l[?25h[?25l[36m}[m[11;21H[36m[46m{
}[m[33;134H2[12;2H[?12l[?25h[?25l[33;134H1[12;1H[?12l[?25h[?25l[13;32r[13;1H[L[1;33r[12;1H[46m [m
[36m}[m[33;130H[K[33;130H199,1[9C63%[12;1H[K[13;1H[36m[46m}[?12l[?25h[?25l[m[11;21H[36m{

}[m[33;132H8[12;1H[?12l[?25h[?25l[33;132H7[11;1H[?12l[?25h[?25l[33;132H6[10;1H[?12l[?25h[?25l[33;132H7[11;1H[?12l[?25h[?25l[33;132H8[12;1H[?12l[?25h[?25l[13;32r[13;1H[L[1;33r[12;3H [33mwhile :[m

[1m[37m[41m}[m

[33mfunction send_webserver() [m[35m{[m
[33m   
   

      sudo ip netns exec [11C scp [26C -i [40C [19C [m[14C[35mUU[21;1HS[m[3C[33m@[13C:[10C >/dev/null 
      [18C 
         
         
      
      sleep 
   [m
[35m}[m

[33mfunction exec_webserver() [m[35m{[m
[33m   [m
[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H199,1[9C63%[13;1H[?12l[?25h[?25l[14;32r[14;1H[5L[1;33r[13;1H[33m   do[m[14;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${WEBSERVER_SCRIPT}[m [35m${SSH_FORWARD_UU[15;1HSER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[16;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[17;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[21;1H[36mfunction[m [36msend_webserver() {[m
   
   

      sudo ip netns [4C [11C scp [26C [2C [40C [19C [14C[35mUU[26;1HS[m[3C@[13C:[10C [1C/dev/null 
      [18C 
         
         
      
      [5C 
   [33;130H[K[33;130H203,1[9C62%[18;1H[?12l[?25h[?25l[19;32r[19;1H[3L[1;33r[18;9H [33mbreak[m[19;6H [33mfi[m[20;6H [33msleep[m [31m10[m
   [33mdone[m
[36m}[m[33;130H[K[33;130H206,8[9C61%[21;8H[?12l[?25h[?25l[33;132H5[20;8H[?12l[?25h[?25l[33;132H4[19;8H[?12l[?25h[?25l[33;132H3[18;8H[?12l[?25h[?25l[33;132H2[17;8H[?12l[?25h[?25l[33;132H1[16;8H[?12l[?25h[?25l[33;132H0[14;8H[?12l[?25h[?25l[33;130H199,6[13;6H[?12l[?25h[?25l[33;132H8,8[12;8H[?12l[?25h[?25l[33;132H7[11;8H[?12l[?25h[?25l[33;132H8[12;8H[?12l[?25h[?25l[33;132H9,6[13;6H[?12l[?25h[?25l[33;130H200,8[14;8H[?12l[?25h[?25l[33;132H1[16;8H[?12l[?25h[?25l[33;134H9[16;9H[?12l[?25h[?25l[33;132H0[14;9H[?12l[?25h[?25l[33;134H10[14;10H[?12l[?25h[?25l[137C[35mUU[15;1HS[m[16;10H[33m[46m[[12C][m[33;132H1[16;10H[?12l[?25h[?25l[33m[[12C][m[33;132H0[14;10H[?12l[?25h[?25l[33;135H1[14;11H[?12l[?25h[?25l[33;135H2[14;12H[?12l[?25h[?25l[33;135H4[14;14H[?12l[?25h[?25l[33;135H6[14;16H[?12l[?25h[?25l[33;135H8[14;18H[?12l[?25h[?25l[33;134H20[14;20H[?12l[?25h[?25l[33;135H2[14;22H[?12l[?25h[?25l[33;135H4[14;24H[?12l[?25h[?25l[33;135H6[14;26H[?12l[?25h[?25l[1C[35m[46m{[8C}[m[110C[35mUU[15;1HS[m[33;135H8[14;28H[?12l[?25h[?25l[35m{[8C}[110CUU[15;1HS[m[33;134H31[14;31H[?12l[?25h[?25l[33;135H3[14;33H[?12l[?25h[?25l[35m[46m{[8C}[m[110C[35mUU[15;1HS[m[33;135H6[14;36H[?12l[?25h[?25l[14;27H[35m{[8C}[110CUU[15;1HS[m[33;135H9[14;39H[?12l[?25h[?25l[33;134H41[14;41H[?12l[?25h[?25l[33;135H3[14;43H[?12l[?25h[?25l[33;135H5[14;45H[?12l[?25h[?25l[33;135H8[14;48H[?12l[?25h[?25l[33;134H50[14;50H[?12l[?25h[?25l[33;135H2[14;52H[?12l[?25h[?25l[33;135H4[14;54H[?12l[?25h[?25l[33;135H6[14;56H[?12l[?25h[?25l[33;135H8[14;58H[?12l[?25h[?25l[33;134H60[14;60H[?12l[?25h[?25l[33;135H2[14;62H[?12l[?25h[?25l[33;135H4[14;64H[?12l[?25h[?25l[33;135H7[14;67H[?12l[?25h[?25l[33;135H9[14;69H[?12l[?25h[?25l[33;134H71[14;71H[?12l[?25h[?25l[33;135H2[14;72H[?12l[?25h[?25l[33;135H3[14;73H[?12l[?25h[?25l[1C[35m[46m{[11C}[m[60C[35mUU[15;1HS[m[33;135H5[14;75H[?12l[?25h[?25l[35m{[11C}[60CUU[15;1HS[m[33;135H7[14;77H[?12l[?25h[?25l[33;134H80[14;80H[?12l[?25h[?25l[33;135H2[14;82H[?12l[?25h[?25l[33;135H4[14;84H[?12l[?25h[?25l[14;74H[35m[46m{[11C}[m[60C[35mUU[15;1HS[m[33;135H6[14;86H[?12l[?25h[?25l[14;74H[35m{[11C}[60CUU[15;1HS[m[33;135H9[14;89H[?12l[?25h[?25l[33;134H91[14;91H[?12l[?25h[?25l[33;135H3[14;93H[?12l[?25h[?25l[33;135H6[14;96H[?12l[?25h[?25l[1C[35m[46m{[8C}[m[40C[35mUU[15;1HS[m[33;135H8[14;98H[?12l[?25h[?25l[35m{[8C}[40CUU[15;1HS[m[33;134H100[14;100H[?12l[?25h[?25l[33;136H3[14;103H[?12l[?25h[?25l[33;136H5[14;105H[?12l[?25h[?25l[14;97H[35m[46m{[8C}[m[40C[35mUU[15;1HS[m[33;136H7[14;107H[?12l[?25h[?25l[14;97H[35m{[8C}[40CUU[15;1HS[m[33;136H8[14;108H[?12l[?25h[?25l[33;136H9[14;109H[?12l[?25h[?25l[33;135H10[14;110H[?12l[?25h[?25l[33;136H1[14;111H[?12l[?25h[?25l[33;136H2[14;112H[?12l[?25h[?25l[33;136H3[14;113H[?12l[?25h[?25l[1C[35m[46m{[16C}[m[15C[35mUU[15;1HS[m[33;136H4[14;114H[?12l[?25h[?25l[35m{[16C}[15CUU[15;1HS[m[33;136H6[14;116H[?12l[?25h[?25l[33;136H9[14;119H[?12l[?25h[?25l[33;135H21[14;121H[?12l[?25h[?25l[33;136H3[14;123H[?12l[?25h[?25l[33;136H4[14;124H[?12l[?25h[?25l[33;136H5[14;125H[?12l[?25h[?25l[33;136H6[14;126H[?12l[?25h[?25l[33;136H7[14;127H[?12l[?25h[?25l[33;136H8[14;128H[?12l[?25h[?25l[33;136H9[14;129H[?12l[?25h[?25l[33;135H30[14;130H[?12l[?25h[?25l[14;114H[35m[46m{[16C}[m[15C[35mUU[15;1HS[m[33;136H1[14;131H[?12l[?25h[?25l[35mP}[m[46m [m[35m${SSH_FORWARD_USS[15;1HER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;45H[K[14;130H[35m[46m}[m [15C[35mSS[15;1HE[m[33;136H0[14;130H[?12l[?25h[?25l[35mI}[m[46m [m[35m${SSH_FORWARD_USEE[15;1HR}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;44H[K[14;129H[35m[46m}[m [16C[35mEE[15;1HR[m[33;135H29[14;129H[?12l[?25h[?25l[35mC}[m [35m[46m$[m[35m{SSH_FORWARD_USER}}[m[15;1H@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;42H[K[14;127H[35m[46m}[m [35m$[17C}}[m[15;1H@[33;136H7[14;127H[?12l[?25h[?25l[35mR}[m [35m$[m[35m[46m{[m[35mSSH_FORWARD_USER}[m@[35m${{[15;1HMANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;39H[K[14;124H[35m[46m}[m[2C[35m{[19C{{[15;1HM[m[33;136H4[14;124H[?12l[?25h[?25l[35mR}[m [35m$[m[35m[46m{[m[35mSSH_FORWARD_USER}[m@[35m${MANN[15;1HAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;36H[K[14;121H[35m[46m}[m[2C[35m{[22CNN[15;1HA[m[33;136H1[14;121H[?12l[?25h[?25l[35mE}[m[46m [m[35m${SSH_FORWARD_USER}[m@[35m${MANAA[15;1HGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;35H[K[14;120H[35m[46m}[m [25C[35mAA[15;1HG[m[33;136H0[14;120H[?12l[?25h[?25l[35mS}[m[46m [m[35m${SSH_FORWARD_USER}[m@[35m${MANAGG[15;1HER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;34H[K[14;119H[35m[46m}[m [26C[35mGG[15;1HE[m[33;135H19[14;119H[?12l[?25h[?25l[35mB}[m[46m [m[35m${SSH_FORWARD_USER}[m@[35m${MANAGEE[15;1HR_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;33H[K[14;118H[35m[46m}[m [27C[35mEE[15;1HR[m[33;136H8[14;118H[?12l[?25h[?25l[35mE}[m[46m [m[35m${SSH_FORWARD_USER}[m@[35m${MANAGERR[15;1H_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;32H[K[14;117H[35m[46m}[m [28C[35mRR[15;1H_[m[33;136H7[14;117H[?12l[?25h[?25l[35mW}[m[46m [m[35m${SSH_FORWARD_USER}[m@[35m${MANAGER__[15;1HIP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;31H[K[14;116H[35m[46m}[m [29C[35m__[15;1HI[m[33;136H6[14;116H[?12l[?25h[?25l[35m[46m{[m[35m}[m[46m [m[35m${SSH_FORWARD_USER}[m@[35m${MANAGER_II[15;1HP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;30H[K[14;115H[35m[46m}[m [30C[35mII[15;1HP[m[33;136H5[14;115H[?12l[?25h[?25l[35m[46m{1[m[35m}[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER__[15;1HIP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[14;115H[35m1[m[35m[46m}[m[30C[35m__[15;1HI[m[33;136H6[14;116H[?12l[?25h[?25l[31C[35m__[15;1HI[m[33;136H7[14;117H[?12l[?25h[?25l[35m{1}[30C__[15;1HI[m[33;136H8[14;118H[?12l[?25h[?25l[1C[35m[46m{[16C}[m[10C[35m__[15;1HI[m[33;135H20[14;120H[?12l[?25h[?25l[35m{[16C}[10C__[15;1HI[m[33;136H3[14;123H[?12l[?25h[?25l[33;136H5[14;125H[?12l[?25h[?25l[33;136H7[14;127H[?12l[?25h[?25l[33;136H9[14;129H[?12l[?25h[?25l[33;135H31[14;131H[?12l[?25h[?25l[33;136H3[14;133H[?12l[?25h[?25l[33;136H5[14;135H[?12l[?25h[?25l[33;136H8[14;138H[?12l[?25h[?25l[1C[35m[46m{[m[7C[35m__[15;1HI[m[1C[35m[46m}[m[33;135H40[14;140H[?12l[?25h[?25l[35m{[7C__[15;1HIP}[m[33;136H2[14;142H[?12l[?25h[?25l[33;136H4[14;144H[?12l[?25h[?25l[33;136H5[14;145H[?12l[?25h[?25l[33;136H6[14;146H[?12l[?25h[?25l[33;136H7[14;147H[?12l[?25h[?25l[33;136H8[15;1H[?12l[?25h[?25l[33;136H9[15;2H[?12l[?25h[?25l[14;139H[35m[46m{[m[7C[35m__[15;1HI[m[1C[35m[46m}[m[33;135H50[15;3H[?12l[?25h[?25l[35mI}[m[46m:[m[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;30H[K[15;2H[35m[46m}[m:[33;135H49[15;2H[?12l[?25h[?25l[35m}[m[46m:[m[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;29H[K[15;1H[35m[46m}[m:[33;136H8[15;1H[?12l[?25h[?25l[14;146H[35mR}}[m[15;1H[46m:[m[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;28H[K[14;147H[35m[46m}}[m[15;1H:[33;136H7[14;147H[?12l[?25h[?25l[35mE}[m[46m::[m[15;1H[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;27H[K[14;146H[35m[46m}[m::[15;1H[35m$[m[33;136H6[14;146H[?12l[?25h[?25l[35mG}[m[46m:[m[35m$$[15;1H{SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;26H[K[14;145H[35m[46m}[m:[35m$$[15;1H{[m[33;136H5[14;145H[?12l[?25h[?25l[35mA}[m[46m:[m[35m${{[15;1HSSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;25H[K[14;144H[35m[46m}[m:[1C[35m{{[15;1HS[m[33;136H4[14;144H[?12l[?25h[?25l[35mN}[m[46m:[m[35m${SS[15;1HSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;24H[K[14;143H[35m[46m}[m:[2C[35mSS[15;1HS[m[33;136H3[14;143H[?12l[?25h[?25l[35mA}[m[46m:[m[35m${SSS[15;1HH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;23H[K[14;142H[35m[46m}[m:[3C[35mSS[15;1HH[m[33;136H2[14;142H[?12l[?25h[?25l[35mM}[m[46m:[m[35m${SSHH[15;1H_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;22H[K[14;141H[35m[46m}[m:[4C[35mHH[15;1H_[m[33;136H1[14;141H[?12l[?25h[?25l[35m[46m{[m[35m}[m[46m:[m[35m${SSH__[15;1HDIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;21H[K[14;140H[35m[46m}[m:[5C[35m__[15;1HD[m[33;136H0[14;140H[?12l[?25h[?25l[35m[46m{2[m[35m}[m:[35m${SSHH[15;1H_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[14;140H[35m2[m[35m[46m}[m[5C[35mHH[15;1H_[m[33;136H1[14;141H[?12l[?25h[?25l[6C[35mHH[15;1H_[m[33;136H2[14;142H[?12l[?25h[?25l[35m{2}[5CHH[15;1H_[m[33;136H3[14;143H[?12l[?25h[?25l[1C[35m[46m{[m[2C[35mHH[15;1H_[m[3C[35m[46m}[m[33;136H4[14;144H[?12l[?25h[?25l[3C[35mHH[15;1H_[m[33;136H5[14;145H[?12l[?25h[?25l[35m{SSHH[15;1H_DIR}[m[33;136H6[14;146H[?12l[?25h[?25l[33;136H7[14;147H[?12l[?25h[?25l[33;136H8[15;1H[?12l[?25h[?25l[33;136H9[15;2H[?12l[?25h[?25l[33;135H50[15;3H[?12l[?25h[?25l[33;136H1[15;4H[?12l[?25h[?25l[14;144H[35m[46m{[m[2C[35mHH[15;1H_[m[3C[35m[46m}[m[33;136H2[15;5H[?12l[?25h[?25l[33;136H3[15;6H[?12l[?25h[?25l[33;136H2[15;5H[?12l[?25h[?25l[35mI}[m[46m [m[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;21H[K[15;4H[35m[46m}[m [33;136H1[15;4H[?12l[?25h[?25l[35mD}[m[46m [m[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;20H[K[15;3H[35m[46m}[m [33;136H0[15;3H[?12l[?25h[?25l[35m_}[m[46m [m[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;19H[K[15;2H[35m[46m}[m [33;135H49[15;2H[?12l[?25h[?25l[35m}[m[46m [m[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;18H[K[15;1H[35m[46m}[m [33;136H8[15;1H[?12l[?25h[?25l[14;146H[35mS}}[m[15;1H[46m [m[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;17H[K[14;147H[35m[46m}}[m[15;1H [33;136H7[14;147H[?12l[?25h[?25l[35mS}[m[46m  [m[15;1H[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[15;16H[K[14;146H[35m[46m}[m  [15;1H[33m>[m[33;136H6[14;146H[?12l[?25h[?25l[35m[46m{[m[35m}[m[46m [m[33m>>[m[15;1H/dev/null [31m2[m[33m>&[m[31m1[m[15;15H[K[14;145H[35m[46m}[m [33m>>[m[15;1H/[33;136H5[14;145H[?12l[?25h[?25l[35m[46m{3[m[35m}[m  [15;1H[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[14;145H[35m3[m[35m[46m}[m  [15;1H[33m>[m[33;136H6[14;146H[?12l[?25h[?25l[35m{3}[m  [15;1H[33m>[m[33;132H1,30 [16;30H[?12l[?25h[?25l[33;132H2,23[17;23H[?12l[?25h[33;1H[K[17;22H[?25l[33;130H202,22[8C61%[17;22H[?12l[?25h[?25l[33;132H3,14[18;14H[?12l[?25h[?25l[33;132H4,8 [19;8H[?12l[?25h[?25l[33;132H5,14[20;14H[?12l[?25h[?25l[33;132H6,7 [21;7H[?12l[?25h[?25l[11;21H[36m[46m{[22;1H}[m[33;132H7,1[22;1H[?12l[?25h[?25l[11;21H[36m{[22;1H}[m[33;132H8,0-1[23;1H[?12l[?25h[?25l[33;132H9,22 [24;22H[?12l[?25h[?25l[33;131H10[25;22H[?12l[?25h[?25l[33;132H1,10[26;10H[?12l[?25h[?25l[33;132H2,5 [27;5H[?12l[?25h[?25l[33;132H3,22[28;22H[?12l[?25h[?25l[33;132H4[30;22H[?12l[?25h[?25l[33;132H5[31;22H[?12l[?25h[?25l[33;132H6,14[32;14H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H217,8[9C61%[32;8H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33msleep[m [31m10[m[33;130H[K[33;130H218,14[8C62%[32;14H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdone[m[33;130H[K[33;130H219,7[9C62%[32;7H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[20;27H[36m[46m{[32;1H}[m[33;130H[K[33;130H220,1[9C62%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[19;27H[36m{[31;1H}[m[33;130H[K[33;130H221,0-1[7C63%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36mexec_webserver() {[m[33;130H[K[33;130H222,22[8C63%[32;22H[?12l[?25h[?25l[33;132H1,0-1[31;1H[?12l[?25h[?25l[18;27H[36m[46m{[30;1H}[m[33;132H0,1  [30;1H[?12l[?25h[?25l[18;27H[36m{[30;1H}[m[33;131H19,7[29;7H[?12l[?25h[?25l[33;132H8,14[28;14H[?12l[?25h[?25l[33;132H7,8 [27;8H[?12l[?25h[?25l[33;132H6,14[26;14H[?12l[?25h[?25l[33;132H5,22[25;22H[?12l[?25h[?25l[33;132H4[24;22H[?12l[?25h[?25l[33;132H3[22;22H[?12l[?25h[?25l[33;132H2,5 [21;5H[?12l[?25h[?25l[21;32r[32;1H
[1;33r[21;1H[33m      sudo ip netns exec [11C scp [26C -i [40C [19C [m[14C[35mUU[22;1HS[m[3C[33m@[13C:[10C >/dev/null 
      [18C 
         
         
      
      sleep 
   [m[1m[37m[41mdone
}[m

[33mfunction exec_webserver() [m[35m{[m
[33m   echo[m[31m [m[33m"[m[31mStart WebServer..[m[33m"[m[33;130H[K[33;130H212,7[9C63%[21;7H[?12l[?25h[?25l[21;32r[21;1H[2M[1;33r[31;1H[33m   sudo ip netns exec [m[35m${NETNS_ID}[m[33m ssh -[m[36moStrictHostKeyChecking[m=[33mno -i "[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m" [m[35m${SSH_FORWARD_USER}[m[33m@[m[35m${MANAGER_IP}[m[33m "[m[31m/uss[32;1Hr/bin/python [m[35m${SSH_DIR}[m[31m/main_server.py &[m[33m" >/dev/null [m[31m2[m[33m>&1 &[m[33;130H[K[33;130H212,7[9C64%[21;7H[?12l[?25h[?25l[21;32r[32;1H
[1;33r[23;7H[1m[37m[41mfi[m[32;1H[33m   echo[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H212,10[8C64%[21;10H[?12l[?25h[?25l[21;32r[32;1H
[1;33r[32;1H[35m}[m[33;130H[K[33;130H212,10[8C64%[21;10H[?12l[?25h[?25l[21;32r[32;1H
[1;33r[33;130H[K[33;130H212,7[9C64%[21;7H[?12l[?25h[?25l[21;32r[32;1H
[1;33r[32;1H[36mVERIFY_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;130H[K[33;130H212,7[9C64%[21;7H[?12l[?25h[?25l[33;1H1 more line; before #27  6 seconds ago[33;130H[K[21;32r[21;1H[L[1;33r[21;1H[33m      [m[1m[37m[41mfi[m[33;1H[K[33;130H212,7[9C64%[21;7H[?12l[?25h[?25l[33;1H1 more line; before #26  6 seconds ago[33;130H[K[21;32r[21;1H[L[1;33r[21;1H[33m         break[m[33;1H[K[33;130H212,10[8C64%[21;10H[?12l[?25h[?25l[33;1H1 more line; before #25  7 seconds ago[33;130H[K[21;32r[21;1H[L[1;33r[21;1H[33m         echo[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;1H[K[33;130H212,10[8C64%[21;10H[?12l[?25h[?25l[33;1H1 more line; before #24  8 seconds ago[33;130H[K[21;32r[21;1H[L[1;33r[21;1H[33m      if [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m]; then[24;7Hfi[m[33;1H[K[33;130H212,7[9C64%[21;7H[?12l[?25h[?25l[33;1H1 more line; before #23  9 seconds ago[33;130H[K[21;32r[21;1H[2L[1;33r[21;1H[33m      sudo ip netns exec [m[35m${NETNS_ID}[m[33m scp [m[35m-oStrictHostKeyChecking[m[33m=[m[31mno[m[33m -i "[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m" [m[35m${WEBSERVER_SCRIPT}[m[33m [m[35m${SSH_FORWARD_UU[22;1HSER}[m[33m@[m[35m${MANAGER_IP}[m[33m:[m[35m${SSH_DIR}[m[33m >/dev/null [m[31m2[m[33m>&[m[31m1[m[33;1H[K[33;130H212,7[9C63%[21;7H[?12l[?25h[?25l[33;1H1 more line; before #22  9 seconds ago[33;130H[K[21;32r[21;1H[L[1;33r[21;1H[33m   do[m
      sudo ip netns [4C [11C scp [26C [2C [40C [19C [14C[35mUU[23;1HS[m[3C@[13C:[10C [1C/dev/null 
      [18C 
         
         
      
      [5C 
   [33mdone[m
[36m}

function[m [36mexec_webserver() {[m[33;1H[K[33;130H212,4[9C63%[21;4H[?12l[?25h[?25l[33;1H1 change; before #21  26 seconds ago[33;130H[K[8;144H[35m[46m{[m[35mSSHH[9;1H_DIR[m[35m[46m}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H200,152[7C63%[9;5H[?12l[?25h[?25l[8;144H[35m{SSHH[9;1H_DIR}[m[33;136H1[9;4H[?12l[?25h[?25l[33;136H0[9;3H[?12l[?25h[?25l[33;135H49[9;2H[?12l[?25h[?25l[33;136H8[9;1H[?12l[?25h[?25l[33;136H7[8;147H[?12l[?25h[?25l[33;136H8[9;1H[?12l[?25h[?25l[33;136H9[9;2H[?12l[?25h[?25l[33;135H50[9;3H[?12l[?25h[?25l[33;136H1[9;4H[?12l[?25h[?25l[8;144H[35m[46m{[m[2C[35mHH[9;1H_[m[3C[35m[46m}[m[33;136H2[9;5H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H200,152[7C63%[9;5H[?12l[?25h[?25l[35mI}[m[46m [m[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[9;21H[K[9;4H[35m[46m}[m [33;136H1[9;4H[?12l[?25h[?25l[35mD}[m[46m [m[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[9;20H[K[9;3H[35m[46m}[m [33;136H0[9;3H[?12l[?25h[?25l[35m_}[m[46m [m[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[9;19H[K[9;2H[35m[46m}[m [33;135H49[9;2H[?12l[?25h[?25l[35m}[m[46m [m[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[9;18H[K[9;1H[35m[46m}[m [33;136H8[9;1H[?12l[?25h[?25l[8;146H[35mS}}[m[9;1H[46m [m[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[9;17H[K[8;147H[35m[46m}}[m[9;1H [33;136H7[8;147H[?12l[?25h[?25l[35mS}[m[46m  [m[9;1H[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[9;16H[K[8;146H[35m[46m}[m  [9;1H[33m>[m[33;136H6[8;146H[?12l[?25h[?25l[35m[46m{[m[35m}[m[46m [m[33m>>[m[9;1H/dev/null [31m2[m[33m>&[m[31m1[m[9;15H[K[8;145H[35m[46m}[m [33m>>[m[9;1H/[33;136H5[8;145H[?12l[?25h[?25l[35m[46m{3[m[35m}[m  [9;1H[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[8;145H[35m3[m[35m[46m}[m  [9;1H[33m>[m[33;136H6[8;146H[?12l[?25h[?25l[1C  [9;1H[33m>[m[33;136H7[8;147H[?12l[?25h[?25l[35m{3}[m  [9;1H[33m>[m[33;136H8[9;1H[?12l[?25h[?25l[33;135H50[9;3H[?12l[?25h[?25l[33;136H2[9;5H[?12l[?25h[?25l[33;136H4[9;7H[?12l[?25h[?25l[33;136H6[9;9H[?12l[?25h[?25l[33;136H7[9;10H[?12l[?25h[?25l[33;132H1,30 [10;30H[?12l[?25h[?25l[33;132H2,23[11;23H[?12l[?25h[?25l[33;132H3,15[12;15H[?12l[?25h[?25l[33;132H4,9 [13;9H[?12l[?25h[?25l[33;132H5,15[14;15H[?12l[?25h[?25l[33;132H6,8 [15;8H[?12l[?25h[?25l[5;21H[36m[46m{[16;1H}[m[33;132H7,2[16;2H[?12l[?25h[?25l[5;21H[36m{[16;1H}[m[33;132H8,1[17;1H[?12l[?25h[?25l[18;27H[36m[46m{[30;1H}[m[33;132H9,28[18;28H[?12l[?25h[?25l[36m{[30;1H}[m[33;131H10,64[19;64H[?12l[?25h[?25l[33;132H1,11[20;11H[?12l[?25h[?25l[33;132H2,6 [21;6H[?12l[?25h[?25l[33;132H3,157[23;10H[?12l[?25h[?25l[33;132H4,30 [24;30H[?12l[?25h[?25l[33;132H3,157[23;10H[?12l[?25h[?25l[33;132H4,30 [24;30H[?12l[?25h[?25l[33;134H29[24;29H[?12l[?25h[?25l[33;135H8[24;28H[?12l[?25h[?25l[33;135H6[24;26H[?12l[?25h[?25l[24;10H[33m[46m[[12C][m[33;135H4[24;24H[?12l[?25h[?25l[24;10H[33m[[12C][m[33;135H2[24;22H[?12l[?25h[?25l[33;134H19[24;19H[?12l[?25h[?25l[33;135H7[24;17H[?12l[?25h[?25l[33;135H5[24;15H[?12l[?25h[?25l[33;135H3[24;13H[?12l[?25h[?25l[33m[46m[[12C][m[33;135H1[24;11H[?12l[?25h[?25l[33m[[12C][m[33;134H8 [24;8H[?12l[?25h[?25l[33;134H6[24;6H[?12l[?25h[33;1H[K[24;5H[?25l[33;130H214,5[9C63%[24;5H[?12l[?25h[?25l[33;134H6[24;6H[?12l[?25h[?25l[33;134H7[24;7H[?12l[?25h[?25l[24;32r[32;1H
[1;33r[26;7H[1m[37m[41mfi[m[32;3H [33mecho[m[31m [m[33m"[m[31mStart WebServer..[m[33m"[m[33;130H[K[33;130H214,10[8C63%[24;10H[?12l[?25h[?25l[24;32r[32;1H
[1;33r[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H214,10[8C63%[24;10H[?12l[?25h[?25l[24;32r[32;1H
[1;33r[31;1H   sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31m/uss[32;1Hr/bin/python [m[35m${SSH_DIR}[m[31m/main_server.py &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H214,7[9C64%[24;7H[?12l[?25h[?25l[24;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H214,7[9C64%[24;7H[?12l[?25h[?25l[24;32r[32;1H
[1;33r[32;1H[36m}[m[33;130H[K[33;130H214,4[9C64%[24;4H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H214,4[9C64%[24;4H[?12l[?25h[?25l[33;134H3[24;3H[?12l[?25h[?25l[33;134H2[24;2H[?12l[?25h[?25l[33;134H1[24;1H[?12l[?25h[?25l[25;32r[25;1H[L[1;33r[24;4H[K[25;3H [33mdone[m[33;130H[K[33;130H215,1[9C64%[25;1H[?12l[?25h[?25l[33;132H4[24;1H[?12l[?25h[?25l[33;134H2[24;2H[?12l[?25h[?25l[33;134H3[24;3H[?12l[?25h[?25l[33;134H4[24;4H[?12l[?25h[?25l[33;134H5[24;5H[?12l[?25h[?25l[33;134H6[24;6H[?12l[?25h[?25l[33;134H7[24;7H[?12l[?25h[?25l e[33;134H8[24;8H[?12l[?25h[?25lex[33;134H9[24;9H[?12l[?25h[?25lxe[33;134H10[24;10H[?12l[?25h[?25l[33mexec[m[33;135H1[24;11H[?12l[?25h[?25lexec_[33;135H2[24;12H[?12l[?25h[?25l_s[33;135H3[24;13H[?12l[?25h[?25lsc[33;135H4[24;14H[?12l[?25h[?25lcp[33;135H5[24;15H[?12l[?25h[?25l[33;135H6[24;16H[?12l[?25h[?25l [35m${WEBSERVER_SCRIPT}[m[24;17H[35m[46m{[16C}[m[33;134H35[24;35H[?12l[?25h[?25l[24;17H[35m{[16C}[m[33;135H6[24;36H[?12l[?25h[?25l [35m${MANAGER_IP}[m[24;37H[35m[46m{[10C}[m[33;134H49[24;49H[?12l[?25h[?25l[24;37H[35m{[10C}[m[33;134H50[24;50H[?12l[?25h[?25l [35m${SSH_DIR}[m[24;51H[35m[46m{[7C}[m[33;134H6[24;60H[?12l[?25h[33;1H[K[24;59H[?25l[33;130H214,59[8C64%[24;59H[?12l[?25h[?25l[24;51H[35m{[7C}[m[33;132H3[22;59H[?12l[?25h[?25l[33;132H2,5 [21;5H[?12l[?25h[?25l[33;132H3,59[22;59H[?12l[?25h[?25l[22;32r[22;1H[2M[1;33r[31;1H[36m}[m[33;130H[K[33;130H213,7[9C64%[22;7H[?12l[?25h[?25l[33;132H2,5[21;5H[?12l[?25h[?25l[33;132H1,7[20;7H[?12l[?25h[?25l[33;132H0[19;7H[?12l[?25h[?25l[20;32r[20;1H[L[1;33r[20;6H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[33;130H[K[33;130H211,7[9C64%[20;7H[?12l[?25h[?25l[33;134H6[20;6H[?12l[?25h[?25l[33;134H5[20;5H[?12l[?25h[?25l[33;134H4[20;4H[?12l[?25h[?25l[33;134H3[20;3H[?12l[?25h[?25l[33;134H4[20;4H[?12l[?25h[?25l  exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[20;59H[K[20;4H[?12l[?25h[?25l exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[20;58H[K[20;4H[?12l[?25h[?25l exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[20;57H[K[20;4H[?12l[?25h[?25l[33;132H2[21;4H[?12l[?25h[?25l[33;132H3[22;4H[?12l[?25h[?25l[33;134H5[22;5H[?12l[?25h[?25l[33;132H4[23;5H[?12l[?25h[?25l[33;132H5[24;5H[?12l[?25h[?25l[18;27H[36m[46m{[25;1H}[m[33;132H6,1[25;1H[?12l[?25h[?25l[18;27H[36m{[25;1H}[m[33;132H7,0-1[26;1H[?12l[?25h[?25l[33;132H8,5  [27;5H[?12l[?25h[?25l[33;132H9[28;5H[?12l[?25h[?25l[33;131H20[29;5H[?12l[?25h[?25l[33;132H1[31;5H[?12l[?25h[?25l[27;27H[36m[46m{[32;1H}[m[33;132H2,1[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[26;27H[36m{[31;1H}[m[33;130H[K[33;130H223,0-1[7C64%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mVERIFY_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;130H[K[33;130H224,5[9C65%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36msend_service() {[m[33;130H[K[33;130H225,5[9C65%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServerService..[m[33m"[m[33;130H[K[33;130H226,5[9C65%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mwhile :[m[33;130H[K[33;130H227,5[9C66%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33m   do[m[33;130H[K[33;130H228,5[9C66%[32;5H[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${VERIFY_SERVICE_SCRIPT}[m [35m${SSH_FORWW[31;1HARD_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[32;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H229,5[9C67%[30;5H[?12l[?25h[?25l[33;131H30[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H231,5[9C67%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mbreak[m[33;130H[K[33;130H232,5[9C67%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H233,5[9C68%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33msleep[m [31m10[m[33;130H[K[33;130H234,5[9C68%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdone[m[33;130H[K[33;130H235,5[9C68%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[20;25H[36m[46m{[32;1H}[m[33;130H[K[33;130H236,1[9C69%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[19;25H[36m{[31;1H}[m[33;130H[K[33;130H237,0-1[7C69%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mVERIFY_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[33;130H[K[33;130H238,5[9C69%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H239,5[9C70%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H240,5[9C70%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mwhile :[m[33;130H[K[33;130H241,5[9C70%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33m   do[m[33;130H[K[33;130H242,5[9C71%[32;5H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${VERIFY_SERVICE_BIN}[m [35m${SSH_FORWARDD[32;1H_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H243,5[9C71%[31;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H244,5[9C71%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H245,5[9C72%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mbreak[m[33;130H[K[33;130H246,5[9C72%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H247,5[9C72%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33msleep[m [31m10[m[33;130H[K[33;130H248,5[9C73%[32;5H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;3H [33mdone[m
[36m}[m[33;130H[K[33;130H249,5[9C73%[31;5H[?12l[?25h[?25l[20;29H[36m[46m{[32;1H}[m[33;131H50,1[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[19;29H[36m{[31;1H}[m[33;130H[K[33;130H251,0-1[7C74%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H252,5[9C74%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H253,5[9C74%[32;5H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[32;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H254,5[9C75%[31;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H255,5[9C75%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[27;28H[36m[46m{[32;1H}[m[33;130H[K[33;130H256,1[9C75%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[26;28H[36m{[31;1H}[m[33;130H[K[33;130H257,0-1[7C76%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[34m#### db insert ####[m
[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H258,5[9C76%[31;5H[?12l[?25h[?25l[33;132H9[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H260,5[9C77%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H261,5[9C77%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H262,5[9C77%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H263,5[9C78%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H264,5[9C78%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdo[m[33;130H[K[33;130H265,5[9C78%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [36mHOST[m=[35m${STACK_HOST[$COUNT]}[m[33;130H[K[33;130H266,5[9C79%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H267,5[9C79%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H268,5[9C79%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33melse[m[33;130H[K[33;130H269,5[9C80%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H270,5[9C80%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H271,5[9C80%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H272,5[9C81%[32;5H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;3H [33mdone[m
[36m}[m[33;130H[K[33;130H273,5[9C81%[31;5H[?12l[?25h[?25l[17;26H[36m[46m{[32;1H}[m[33;132H4,1[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[16;26H[36m{[31;1H}[m
[34m###################[m[33;130H[K[33;130H275,5[9C82%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H276,0-1[7C82%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#echo "ManagerIP : ${MANAGER_IP}"[m[33;130H[K[33;130H277,5[9C82%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H278,0-1[7C83%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hsend_ipaddress &[33;130H[K[33;130H279,5[9C83%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1Hprogress[33;130H[K[33;130H280,5[9C83%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H281,0-1[7C84%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33msleep[m [31m1[m[33;130H[K[33;130H282,5[9C84%[32;5H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H283,0-1[7C84%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#send_authscript &[m[33;130H[K[33;130H284,5[9C85%[32;5H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;1H[34m#progress[m[33;130H[K[33;130H285,5[9C85%[31;5H[?12l[?25h[?25l[33;132H6,0-1[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#sleep 1[m[33;130H[K[33;130H287,5[9C86%[32;5H[?12l[?25h[?25l[33;132H6,0-1[31;1H[?12l[?25h[?25l[33;132H5,5  [30;5H[?12l[?25h[?25l[33;132H4[29;5H[?12l[?25h[?25l[33;132H3,0-1[28;1H[?12l[?25h[?25l[33;132H2,5  [27;5H[?12l[?25h[?25l[33;132H1,0-1[26;1H[?12l[?25h[?25l[33;132H0,5  [25;5H[?12l[?25h[?25l[33;131H79[24;5H[?12l[?25h[?25l[33;132H8,0-1[23;1H[?12l[?25h[?25l[33;132H7,5  [22;5H[?12l[?25h[?25l[33;132H6,0-1[21;1H[?12l[?25h[?25l[33;132H5,5  [20;5H[?12l[?25h[?25l[4;26H[36m[46m{[19;1H}[m[33;132H4,1[19;1H[?12l[?25h[?25l[4;26H[36m{[19;1H}[m[33;132H3,5[18;5H[?12l[?25h[?25l[33;132H2[17;5H[?12l[?25h[?25l[33;132H1[16;5H[?12l[?25h[?25l[33;132H2[17;5H[?12l[?25h[?25l[33;132H1[16;5H[?12l[?25h[?25l[33;132H0[15;5H[?12l[?25h[?25l[33;131H69[14;5H[?12l[?25h[?25l[33;132H8[13;5H[?12l[?25h[?25l[33;132H7[12;5H[?12l[?25h[?25l[33;132H6[11;5H[?12l[?25h[?25l[33;132H5[10;5H[?12l[?25h[?25l[33;132H4[9;5H[?12l[?25h[?25l[33;132H3[8;5H[?12l[?25h[?25l[33;132H2[7;5H[?12l[?25h[?25l[33;132H1[6;5H[?12l[?25h[?25l[33;132H2[7;5H[?12l[?25h[?25l[33;132H3[8;5H[?12l[?25h[?25l[33;132H4[9;5H[?12l[?25h[?25l[33;132H5[10;5H[?12l[?25h[?25l[33;132H6[11;5H[?12l[?25h[?25l[33;132H7[12;5H[?12l[?25h[?25l[33;132H8[13;5H[?12l[?25h[?25l[33;132H9[14;5H[?12l[?25h[?25l[33;131H70[15;5H[?12l[?25h[?25l[33;132H1[16;5H[?12l[?25h[?25l[33;132H2[17;5H[?12l[?25h[?25l[33;132H3[18;5H[?12l[?25h[?25l[4;26H[36m[46m{[19;1H}[m[33;132H4,1[19;1H[?12l[?25h[?25l[4;26H[36m{[19;1H}[m[33;132H5,5[20;5H[?12l[?25h[?25l[33;132H6,0-1[21;1H[?12l[?25h[?25l[33;132H7,5  [22;5H[?12l[?25h[?25l[33;132H6,0-1[21;1H[?12l[?25h[?25l[33;132H5,5  [20;5H[?12l[?25h[?25l[4;26H[36m[46m{[19;1H}[m[33;132H4,1[19;1H[?12l[?25h[?25l[4;26H[36m{[19;1H}[m[33;132H3,5[18;5H[?12l[?25h[?25l[33;132H2[17;5H[?12l[?25h[?25l[33;132H1[16;5H[?12l[?25h[?25l[33;132H0[15;5H[?12l[?25h[?25l[33;131H69[14;5H[?12l[?25h[?25l[33;132H8[13;5H[?12l[?25h[?25l[33;132H7[12;5H[?12l[?25h[?25l[33;132H6[11;5H[?12l[?25h[?25l[33;132H5[10;5H[?12l[?25h[?25l[33;132H4[9;5H[?12l[?25h[?25l[33;132H3[8;5H[?12l[?25h[?25l[33;132H2[7;5H[?12l[?25h[?25l[33;132H1[6;5H[?12l[?25h[?25l[33;132H0[5;5H[?12l[?25h[?25l[33;131H59[4;5H[?12l[?25h[?25l[33;132H8[3;5H[?12l[?25h[?25l[33;132H7,0-1[2;1H[?12l[?25h[?25l[33;132H6,1  [1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H255,5[9C85%[1;5H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[2;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H254,5[9C85%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H253,5[9C84%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H252,5[9C84%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H251,0-1[7C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H250,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H249,5[9C83%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H248,5[9C83%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H247,5[9C82%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H246,5[9C82%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H245,5[9C82%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H244,5[9C81%[1;5H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${VERIFY_SERVICE_BIN}[m [35m${SSH_FORWARDD[2;1H_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H243,5[9C81%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H242,5[9C80%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H241,5[9C80%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H240,5[9C80%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H239,5[9C79%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[33;130H[K[33;130H238,5[9C79%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H237,0-1[7C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H236,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H235,5[9C78%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H234,5[9C78%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H233,5[9C77%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H232,5[9C77%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H231,5[9C77%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H230,5[9C76%[1;5H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${VERIFY_SERVICE_SCRIPT}[m [35m${SSH_FORWW[2;1HARD_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H229,5[9C76%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H228,5[9C75%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H227,5[9C75%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServerService..[m[33m"[m[33;130H[K[33;130H226,5[9C75%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service() {[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H225,5[9C74%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;130H[K[33;130H224,5[9C74%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H223,0-1[7C74%[1;1H[?12l[?25h[?25l[33;132H4,5  [2;5H[?12l[?25h[?25l[33;132H5[3;5H[?12l[?25h[?25l[33;132H6[4;5H[?12l[?25h[?25l[33;132H7[5;5H[?12l[?25h[?25l[33;132H8[6;5H[?12l[?25h[?25l[33;132H9[7;5H[?12l[?25h[?25l[33;131H30[9;5H[?12l[?25h[?25l[33;132H1[10;5H[?12l[?25h[?25l[33;132H2[11;5H[?12l[?25h[?25l[33;132H3[12;5H[?12l[?25h[?25l[33;132H4[13;5H[?12l[?25h[?25l[33;132H3[12;5H[?12l[?25h[?25l[33;132H2[11;5H[?12l[?25h[?25l[33;132H1[10;5H[?12l[?25h[?25l[33;132H0[9;5H[?12l[?25h[?25l[33;131H29[7;5H[?12l[?25h[?25l[33;132H8[6;5H[?12l[?25h[?25l[33;132H7[5;5H[?12l[?25h[?25l[33;132H6[4;5H[?12l[?25h[?25l[33;132H5[3;5H[?12l[?25h[?25l[33;132H4[2;5H[?12l[?25h[?25l[33;132H3,0-1[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H222,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H221,5[9C73%[1;5H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31m/uss[2;1Hr/bin/python [m[35m${SSH_DIR}[m[31m/main_server.py &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H220,5[9C73%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebServer..[m[33m"[m[33;130H[K[33;130H219,5[9C72%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webserver() {[m[33;130H[K[33;130H218,5[9C72%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H217,0-1[7C72%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H216,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H215,5[9C71%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H214,5[9C71%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H213,5[9C71%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H212,5[9C70%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[33;130H[K[33;130H211,5[9C70%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServer..[m[33m"[m[33;130H[K[33;130H210,5[9C70%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_webserver() {[m[33;130H[K[33;130H209,5[9C69%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H208,0-1[7C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H207,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H206,5[9C68%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H205,5[9C68%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H204,5[9C68%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H203,5[9C67%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H202,5[9C67%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H201,5[9C67%[1;5H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${1}[m [35m${SSH_FORWARD_USER}[m@[35m${2}[m:[35m${3}[m  [2;1H[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H200,5[9C66%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H199,5[9C66%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H198,5[9C66%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_scp() {[m[33;130H[K[33;130H197,5[9C65%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H196,0-1[7C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mWEBSERVER_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/verify_server[m[33m"[m[33;130H[K[33;130H195,5[9C65%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#WEBSERVER_SCRIPT="${SCRIPT_HOME}/../web/main_server.py"[m[33;130H[K[33;130H194,5[9C64%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H193,0-1[7C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[33;130H[K[33;130H192,2[9C64%[1;2H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H191,5[9C63%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H190,5[9C63%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H189,5[9C63%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H188,5[9C62%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H187,5[9C62%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H186,5[9C62%[1;5H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP}  [2;1H${SSH_DIR}/manager_authentication.sh >/dev/null 2>&1[m[33;130H[K[33;130H185,5[9C61%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H184,5[9C61%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H183,5[9C61%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "Replace start an RSA key between applications.."[m[33;130H[K[33;130H182,5[9C60%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#function exec_auth() {[m[33;130H[K[33;130H181,5[9C60%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H180,0-1[7C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[33;130H[K[33;130H179,2[9C59%[1;2H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H178,5[9C59%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H177,5[9C59%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H176,5[9C58%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H175,5[9C58%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H174,5[9C58%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H173,5[9C57%[1;5H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${AUTH_SCRIPT} ${SSH_FORWARD_USER}}[2;1H@${MANAGER_IP}:${SSH_DIR} >/dev/null 2>&1[m[33;130H[K[33;130H172,5[9C57%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H171,5[9C56%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H170,5[9C56%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "Transferred to the Manager of the shell RSA key.."[m[33;130H[K[33;130H169,5[9C56%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#function send_authscript() {[m[33;130H[K[33;130H168,5[9C56%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#AUTH_SCRIPT="${SCRIPT_HOME}/manager_authentication.sh"[m[33;130H[K[33;130H167,5[9C55%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H166,0-1[7C55%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H165,1[9C55%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H164,5[9C54%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNTER[m=[35m${COUNTER}[m+[31m1[m[33;130H[K[33;130H163,5[9C54%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H162,5[9C54%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H161,5[9C53%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H160,5[9C53%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H159,5[9C53%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H158,5[9C52%[1;5H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${OUTPUT_IPADDRESS}[m [35m${SSH_FORWARD_UU[2;1HSER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H157,5[9C52%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H156,5[9C51%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H155,5[9C51%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransfer of App IPs information to Manager..[m[33m"[m[33;130H[K[33;130H154,5[9C51%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   sudo ssh-keygen -f "/root/.ssh/known_hosts" -R ${MANAGER_IP}[m[33;130H[K[33;130H153,5[9C51%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_ipaddress() {[m[33;130H[K[33;130H152,5[9C50%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H151,0-1[7C50%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mCOUNTER[m=[31m0[m[33;130H[K[33;130H150,5[9C50%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H149,0-1[7C49%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mNETNS_ID[m=[35m`get_netns $SUBNET_UUID`[m[33;130H[K[33;130H148,5[9C49%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hget_ipaddress[33;130H[K[33;130H147,5[9C48%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m15[m[33;130H[K[33;130H146,5[9C48%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H145,0-1[7C48%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mdone[m[33;130H[K[33;130H144,4[9C47%[1;4H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mlet[m [36mCOUNTER[m=[35m${COUNTER}[m+[31m1[m[33;130H[K[33;130H143,5[9C47%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [36mSTACK_HOST+[m=([35m${HOST}[m[1m[37m[41m)[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H142,5[9C47%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H create_heat [33m"[m[31maz-[m[35m${HOST}[m[33m"[m [35m$INSTANCE_TYPE[m [35m$KEY_NAME[m [35m$SUBNET_UUID[m [35m$AGENT_TEMPLATE[m [33m"[m[35m${HOST}[m[31m-[m[35m${SCENARIO}[m[31m-ag[m[33m"[m[33;130H[K[33;130H141,5[9C47%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mfi[m[33;130H[K[33;130H140,5[9C46%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;7H [36mSTACK_HOST+[m=([35m${HOST}[m[1m[37m[41m)[m[33;130H[K[33;130H139,5[9C46%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;7H create_heat [33m"[m[31maz-[m[35m${HOST}[m[33m"[m [35m$INSTANCE_TYPE[m [35m$KEY_NAME[m [35m$SUBNET_UUID[m [35m$MANAGER_TEMPLATE[m [33m"[m[35m${HOST}[m[31m-[m[35m${SCENARIO}[m[31m-mn[m[33m"[m[33;130H[K[33;130H138,5[9C46%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mif [[m [35m$COUNTER[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H137,5[9C45%[1;5H[?12l[?25h[?25l[33;130H[K[33;1H/[?12l[?25hi[?25l[?12l[?25hp[?25l[?12l[?25h[?25l[33;3H[K[33;3H[?12l[?25h[?25l[33;2H[K[33;2H[?12l[?25hI[?25l[?12l[?25hP[?25l[?12l[?25h[?25l[129C153,62[8C45%[17;62H[?12l[?25h[?25l[33;1H?[33;130H[K[33;1H[1;32r[1;1H[14L[1;33r[1;1H[35m${SCRIPT_HOME}[m/keypair_create [35m$KEY_NAME[m [35m$2[m

[33mif [[m [33m"[m[31m0[m[33m"[m [33m=[m [35m`check_flavor [m[33m"[m[35m${INSTANCE_TYPE}[m[33m"[m[35m`[m [33m];[m [33mthen[m
    [33mecho[m[31m [m[33m"[m[31moptions fail.[m[33m"[m
    [33mexit[m [31m1[m
[33mfi[m

[36mHOSTS[m=[35m$(sudo nova-manage service list [m[33m|[m[35m awk [m[33m"[m[31m/nova-compute/ {print [m[35m\$[m[31m2}[m[33m"[m[35m)[m
[36mSUBNET_UUID[m=[35m`get_subnet_uuid $SUBNET`[m
[36mCOUNTER[m=[31m0[m
[36mSTACK_HOST[m=[35m()[m

[33mfor [mHOST [33min[m [35m$HOSTS[m; [33mdo[m
    [33mecho[m[31m [m[33m"[m[31mProvisioning Host ([m[35m$HOST[m[31m)[m[33m"[m[33;1H[K[33;130H123,6[9C41%[1;6H[?12l[?25h[?25l[33;1H?IP[33;130H[K[33;1H[1;32r[1;1H[L[1;33r[1;1H[35m${SCRIPT_HOME}[m/availability_zone_create [35m$2[m[33;1H[K[33;130H122,6[9C40%[1;6H[?12l[?25h[?25l[33;1H/IP[33;130H[K[33;1H[129C123,6[9C40%[2;6H[?12l[?25h[?25l[33;130H[K[33;1H[129C153,62[8C40%[32;62H[?12l[?25h[?25l
?[33;130H[K[33;1H[129C123,6[9C40%[2;6H[?12l[?25h[?25l[33;130H[K[33;1H[129C122,6[9C40%[1;6H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[3L[1;33r[1;1H/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_in[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m
[34m##############################[m[33;1H[K[33;130H119,23[8C39%[1;23H[?12l[?25h[?25l[33;1H?IP[33;130H[K[33;1H[1;32r[1;1H[7L[1;33r[1;1H[36mOUTPUT_IPADDRESS[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/../tmp/ipaddress.txt[m[33m"

if [[m [33m-z[m [33m"[m[35m$INSTANCE_TYPE[m[33m"[m [33m-o[m [33m-z[m [33m"[m[35m$KEY_NAME[m[33m"[m [33m-o[m [33m-z[m [33m"[m[35m$SUBNET[m[33m"[m [33m];[m [33mthen[m
    show_options
[33mfi[m

[34m### insert scenarios table ###[m[33;1H[K[33;130H112,24[8C37%[1;24H[?12l[?25h[?25l[33;1H?IP[33;130H[K[33;1H[129C112,8[9C37%[1;8H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[6L[1;33r[1;1H[33msource[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../settings/[m[33m"[m[35m$2[m

[36mSCENARIO[m=[35m$1[m

[36mAUTH_PARAMETOR[m=[33m"[m[31m--os-auth-url=[m[35m${os_auth_url}[m[31m --os-tenant-name=[m[35m${os_tenant_name}[m[31m --os-username=[m[35m${os_username}[m[31m --os-password=[m[35m${os_password}[m[31m [m[33m"[m[33;1H[K[33;130H106,14[8C35%[1;14H[?12l[?25h[?25l[33;1H?IP[33;130H[K[33;1H[1;32r[1;1H[L[1;33r[1;1H[33msource[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../configure/[m[33m"[m[35m$1[m[33;1H[K[33;130H105,14[8C35%[1;14H[?12l[?25h[?25l[33;1H?IP[33;130H[K[33;1H[1;32r[1;1H[10L[1;33r[1;9H [33mecho[m[31m [m[35m$ret[m[31m [m[33m>>[m [35m${OUTPUT_IPADDRESS}[m[2;6H [33mfi[m[3;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m
   [33mdone[m
[36m}[m

[34m#INSTANCE_TYPE=${1:-""}
#KEY_NAME=${2:-""}
#SUBNET=${3:-""}[m[33;1H[K[33;130H95,32[9C31%[1;32H[?12l[?25h[?25l[33;1H?IP[33;130H[K[33;1H[1;32r[1;1H[2L[1;33r[1;9H [36mret[m=[35m$(sudo /usr/bin/python [m[33m"[m[35m${SCRIPT_HOME}[m[31m/db_neutron_sh.py[m[33m"[m[35m [m[33m"[m[31mselect[m[33m"[m[35m [m[33m"[m[31mselect ip.ip_address from ipallocations as ip, ports as port where  [2;1Hip.port_id=port.id and port.device_id='[m[35m${ID}[m[31m'[m[33m"[m[35m)[m[33;1H[K[33;130H94,43[9C31%[1;43H[?12l[?25h[?25l[33;1H?IP[33;130H[K[33;1H[1;32r[1;1H[2L[1;33r[1;1H[34m#         mysql -u ${MYSQL_PARAM[0]} -p${MYSQL_PARAM[1]} ovs_quantum -N -e "select ip.ip_address from ipallocations as ip, ports as port where ip.pp[2;1Hort_id=port.id and port.device_id='${ID}';" >> ${OUTPUT_IPADDRESS} [m[33;1H[K[33;130H93,204[8C30%[2;57H[?12l[?25h[?25l[33;1H/IP[33;130H[K[33;1H[129C94,43[9C30%[3;43H[?12l[?25h[?25l[33;130H[K[33;1H[129C95,32[9C30%[5;32H[?12l[?25h[?25l[33;130H[K[33;1H[129C105,14[8C30%[15;14H[?12l[?25h[?25l[33;130H[K[33;1H[129C106,14[8C30%[16;14H[?12l[?25h[?25l[33;130H[K[33;1H[129C112,8[9C30%[22;8H[?12l[?25h[?25l[33;130H[K[33;1H[129C112,24[8C30%[22;24H[?12l[?25h[?25l[33;130H[K[33;1H[129C119,23[8C30%[29;23H[?12l[?25h[?25l[33;130H[K[33;1H[129C122,6[9C30%[32;6H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[2M[1;33r[31;1H[35m${SCRIPT_HOME}[m/keypair_create [35m$KEY_NAME[m [35m$2[m[33;1H[K[33;130H123,6[9C31%[31;6H[?12l[?25h[?25l

/IP[33;130H[K[33;1H[27m[m[H[2J[1;7H create_heat [33m"[m[31maz-[m[35m${HOST}[m[33m"[m [35m$INSTANCE_TYPE[m [35m$KEY_NAME[m [35m$SUBNET_UUID[m [35m$MANAGER_TEMPLATE[m [33m"[m[35m${HOST}[m[31m-[m[35m${SCENARIO}[m[31m-mn[m[33m"[m[2;7H [36mSTACK_HOST+[m=([35m${HOST}[m[1m[37m[41m)[m
    [33mfi[m
    create_heat [33m"[m[31maz-[m[35m${HOST}[m[33m"[m [35m$INSTANCE_TYPE[m [35m$KEY_NAME[m [35m$SUBNET_UUID[m [35m$AGENT_TEMPLATE[m [33m"[m[35m${HOST}[m[31m-[m[35m${SCENARIO}[m[31m-ag[m[33m"[m
    [36mSTACK_HOST+[m=([35m${HOST}[m[1m[37m[41m)[m
    [33mlet[m [36mCOUNTER[m=[35m${COUNTER}[m+[31m1[m
[33mdone

sleep[m [31m15[m
get_ipaddress
[36mNETNS_ID[m=[35m`get_netns $SUBNET_UUID`[m

[36mCOUNTER[m=[31m0[m

[36mfunction[m [36msend_ipaddress() {[m
[34m#   sudo ssh-keygen -f "/root/.ssh/known_hosts" -R ${MANAGER_IP}[m
   [33mecho[m[31m [m[33m"[m[31mTransfer of App IPs information to Manager..[m[33m"[m
   [33mwhile :
   do[m[20;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${OUTPUT_IPADDRESS}[m [35m${SSH_FORWARD_UU[21;1HSER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[22;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[23;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[24;9H [33mbreak[m[25;6H [33mfi[m[26;6H [33msleep[m [31m10[m[27;6H [33mlet[m [36mCOUNTER[m=[35m${COUNTER}[m+[31m1[m
   [33mdone[m
[36m}[m

[34m#AUTH_SCRIPT="${SCRIPT_HOME}/manager_authentication.sh"
#function send_authscript() {[m[33;130H153,62[8C46%[16;62H[?12l[?25h[?25l[33;1H/IP[33;130H[K[33;1H[129C154,26[8C46%[17;26H[?12l[?25h[?25l[33;130H[K[33;1H[129C157,78[8C46%[20;78H[?12l[?25h[?25l[33;130H[K[33;1H[129C157,122[7C46%[20;122H[?12l[?25h[?25l[33;130H[K[33;1H[129C157,163[7C46%[21;16H[?12l[?25h[?25l[33;130H[K[33;1H[129C167,10[8C46%[31;10H[?12l[?25h[?25l[33;130H[K[33;1H[129C167,20[8C46%[31;20H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[5M[1;33r[28;1H[34m#   echo "Transferred to the Manager of the shell RSA key.."
#   while :
#   do
#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${AUTH_SCRIPT} ${SSH_FORWARD_USER}}[32;1H@${MANAGER_IP}:${SSH_DIR} >/dev/null 2>&1[m[33;1H[K[33;130H172,79[8C47%[31;79H[?12l[?25h[?25l

/IP[33;130H[K[33;1H[129C172,124[7C47%[31;124H[?12l[?25h[?25l[33;130H[K[33;1H[129C172,159[7C47%[32;12H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[14M[1;33r[19;1H[34m#      if [ $? -eq "0" ]; then
#         echo "   : )"
#         break
#      fi
#      sleep 10
#   done
#}

#function exec_auth() {
#   echo "Replace start an RSA key between applications.."
#   while :
#   do
#      sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP}  [32;1H${SSH_DIR}/manager_authentication.sh >/dev/null 2>&1[m[33;1H[K[33;130H185,79[8C52%[31;79H[?12l[?25h[?25l

/IP[33;130H[K[33;1H[129C185,144[7C52%[31;144H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[9M[1;33r[24;1H[34m#      if [ $? -eq "0" ]; then
#         echo "   : )"
#         break
#      fi
#      sleep 10
#   done
#}

#WEBSERVER_SCRIPT="${SCRIPT_HOME}/../web/main_server.py"[m[33;1H[K[33;130H194,15[8C55%[32;15H[?12l[?25h[?25l
/IP[33;130H[K[33;1H[129C194,25[8C55%[32;25H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[32;1H
[1;33r[32;1H[36mWEBSERVER_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/verify_server[m[33m"[m[33;1H[K[33;130H195,14[8C55%[32;14H[?12l[?25h[?25l
/IP[33;130H[K[33;1H[129C195,24[8C55%[32;24H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[6M[1;33r[28;1H[36mfunction[m [36mexec_scp() {[m
   [33mwhile :
   do[m[31;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${1}[m [35m${SSH_FORWARD_USER}[m@[35m${2}[m:[35m${3}[m  [32;1H[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;1H[K[33;130H200,78[8C57%[31;78H[?12l[?25h[?25l

/IP[33;130H[K[33;1H[1;32r[1;1H[11M[1;33r[22;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[23;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[24;9H [33mbreak[m[25;6H [33mfi[m[26;6H [33msleep[m [31m10[m
   [33mdone[m
[36m}

function[m [36msend_webserver() {[m
   [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServer..[m[33m"[m
   exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[33;1H[K[33;130H211,28[8C60%[32;28H[?12l[?25h[?25l
/IP[33;130H[K[33;1H[129C211,43[8C60%[32;43H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[3M[1;33r[30;3H [33mwhile :
   do[m[32;6H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[33;1H[K[33;130H214,31[8C61%[32;31H[?12l[?25h[?25l
/IP[33;130H[K[33;1H[129C214,46[8C61%[32;46H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[7M[1;33r[26;3H [33mdone[m
[36m}

function[m [36mexec_webserver() {[m
   [33mecho[m[31m [m[33m"[m[31mStart WebServer..[m[33m"[m
   sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31m/uss[32;1Hr/bin/python [m[35m${SSH_DIR}[m[31m/main_server.py &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;1H[K[33;130H220,75[8C63%[31;75H[?12l[?25h[?25l

/IP[33;130H[K[33;1H[129C220,140[7C63%[31;140H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[4M[1;33r[29;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m
[36m}

VERIFY_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;1H[K[33;130H224,19[8C65%[32;19H[?12l[?25h[?25l
/IP[33;130H[K[33;1H[129C224,29[8C65%[32;29H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[7M[1;33r[26;1H[36mfunction[m [36msend_service() {[m
   [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServerService..[m[33m"[m
   [33mwhile :
   do[m[30;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${VERIFY_SERVICE_SCRIPT}[m [35m${SSH_FORWW[31;1HARD_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[32;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;1H[K[33;130H229,78[8C67%[30;78H[?12l[?25h[?25l


/IP[33;130H[K[33;1H[129C229,133[7C67%[30;133H[?12l[?25h[?25l[33;130H[K[33;1H[129C229,168[7C67%[31;21H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[8M[1;33r[25;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[26;9H [33mbreak[m[27;6H [33mfi[m[28;6H [33msleep[m [31m10[m
   [33mdone[m
[36m}

VERIFY_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[33;1H[K[33;130H238,26[8C69%[32;26H[?12l[?25h[?25l
/IP[33;130H[K[33;1H[1;32r[1;1H[6M[1;33r[27;1H[36mfunction[m [36msend_service_bin() {[m
   [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m
   [33mwhile :
   do[m[31;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${VERIFY_SERVICE_BIN}[m [35m${SSH_FORWARDD[32;1H_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;1H[K[33;130H243,78[8C71%[31;78H[?12l[?25h[?25l

/IP[33;130H[K[33;1H[129C243,165[7C71%[32;18H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[12M[1;33r[21;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[22;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[23;9H [33mbreak[m[24;6H [33mfi[m[25;6H [33msleep[m [31m10[m
   [33mdone[m
[36m}

function[m [36mexec_webservice() {[m
   [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m
   sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[32;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;1H[K[33;130H254,75[8C75%[31;75H[?12l[?25h[?25l

/IP[33;130H[K[33;1H[129C254,140[7C75%[31;140H[?12l[?25h[?25l[33;130H[K[33;1H[1;32r[1;1H[7M[1;33r[26;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m
[36m}[m

[34m#### db insert ####[m
[36mfunction[m [36minsert_stacks() {[m
   [36mCOUNT[m=[31m0[m
   [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;1H[K[33;130H261,19[8C77%[32;19H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H262,19[8C77%[32;19H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H263,19[8C78%[32;19H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H264,19[8C78%[32;19H[?12l[?25h[?25l[33;132H3[31;19H[?12l[?25h[?25l[33;132H2[30;19H[?12l[?25h[?25l[33;132H1[29;19H[?12l[?25h[?25l[33;132H0,10[28;10H[?12l[?25h[?25l[33;131H59,19[27;19H[?12l[?25h[?25l[33;132H8[26;19H[?12l[?25h[?25l[33;132H7,0-1[25;1H[?12l[?25h[?25l[19;28H[36m[46m{[24;1H}[m[33;132H6,1  [24;1H[?12l[?25h[?25l[19;28H[36m{[24;1H}[m[33;132H5,16[23;16H[?12l[?25h[?25l[33;132H4,19[21;19H[?12l[?25h[?25l[33;132H3[20;19H[?12l[?25h[?25l[33;132H2[19;19H[?12l[?25h[?25l[33;132H1,0-1[18;1H[?12l[?25h[?25l[5;29H[36m[46m{[17;1H}[m[33;132H0,1  [17;1H[?12l[?25h[?25l[5;29H[36m{[17;1H}[m[33;131H49,7[16;7H[?12l[?25h[?25l[33;132H8,14[15;14H[?12l[?25h[?25l[33;132H7,8 [14;8H[?12l[?25h[?25l[33;132H6,14[13;14H[?12l[?25h[?25l[33;132H5,19[12;19H[?12l[?25h[?25l[33;132H4[11;19H[?12l[?25h[?25l[33;132H3[9;19H[?12l[?25h[?25l[33;132H2,5 [8;5H[?12l[?25h[?25l[33;132H1,10[7;10H[?12l[?25h[?25l[33;132H0,19[6;19H[?12l[?25h[?25l[33;131H39[5;19H[?12l[?25h[?25l[33;132H8[4;19H[?12l[?25h[?25l[33;132H7,0-1[3;1H[?12l[?25h[?25l[33;132H6,1  [2;1H[?12l[?25h[?25l[33;132H5,7[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H234,14[8C78%[1;14H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H233,8[9C77%[1;8H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H232,14[8C77%[1;14H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H231,19[8C77%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H230,19[8C76%[1;19H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${VERIFY_SERVICE_SCRIPT}[m [35m${SSH_FORWW[2;1HARD_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/etc/init.d/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H229,19[8C76%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H228,5[9C75%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H227,10[8C75%[1;10H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServerService..[m[33m"[m[33;130H[K[33;130H226,19[8C75%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service() {[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H225,19[8C74%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;130H[K[33;130H224,19[8C74%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H223,0-1[7C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H222,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H221,16[8C73%[1;16H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31m/uss[2;1Hr/bin/python [m[35m${SSH_DIR}[m[31m/main_server.py &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H220,19[8C73%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebServer..[m[33m"[m[33;130H[K[33;130H219,19[8C72%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webserver() {[m[33;130H[K[33;130H218,19[8C72%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H217,0-1[7C72%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H216,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H215,7[9C71%[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H214,19[8C71%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H213,5[9C71%[1;5H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H212,10[8C70%[1;10H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[33;130H[K[33;130H211,19[8C70%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServer..[m[33m"[m[33;130H[K[33;130H210,19[8C70%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_webserver() {[m[33;130H[K[33;130H209,19[8C69%[1;19H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H208,0-1[7C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H207,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H206,7[9C68%[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H205,14[8C68%[1;14H[?12l[?25h[?25l[33;132H6,7 [2;7H[?12l[?25h[?25l[33;132H7,1[3;1H[?12l[?25h[?25l[33;132H8,0-1[4;1H[?12l[?25h[?25l[33;132H9,19 [5;19H[?12l[?25h[?25l[33;131H10[6;19H[?12l[?25h[?25l[33;132H1[7;19H[?12l[?25h[?25l[33;132H2,10[8;10H[?12l[?25h[?25l[33;132H3,5 [9;5H[?12l[?25h[?25l[33;132H4,19[10;19H[?12l[?25h[?25l[33;132H5,7 [11;7H[?12l[?25h[?25l[5;27H[36m[46m{[12;1H}[m[33;132H6,1[12;1H[?12l[?25h[?25l[5;27H[36m{[12;1H}[m[33;132H5,7[11;7H[?12l[?25h[?25l[33;132H4,19[10;19H[?12l[?25h[?25l[33;132H3,5 [9;5H[?12l[?25h[?25l[33;132H2,10[8;10H[?12l[?25h[?25l[33;134H9 [8;9H[?12l[?25h[?25l[8;32r[32;1H
[1;33r[8;1H   [32;3H [33mdone[m[33;130H[K[33;130H212,4[9C68%[8;4H[?12l[?25h[?25l[8;32r[32;1H
[1;33r[9;4Hdone[32;1H[36m}[m[33;130H[K[33;130H212,7[9C68%[8;7H[?12l[?25h[?25l[33;132H3[9;7H[?12l[?25h[?25l[5;27H[36m[46m{[9;32r[m[32;1H
[1;33r[9;1H[36m[46m}[m[33;130H[K[33;130H213,1[9C69%[9;1H[?12l[?25h[?25l[5;27H[36m{[9;1H}[m[33;132H2[8;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H212,1[9C69%[8;1H[?12l[?25h[?25l[9;32r[9;1H[L[1;33r[8;7H[K[9;6H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[33;130H[K[33;130H213,1[9C68%[9;1H[?12l[?25h[?25l[33;132H2[8;1H[?12l[?25h[?25l[9;32r[9;1H[L[1;33r[8;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H213,1[9C68%[9;1H[?12l[?25h[?25l[10;32r[10;1H[2L[1;33r[9;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)
   [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m
   [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H215,28[8C68%[11;15H[35m[46m{[11C}[?12l[?25h[?25l}[m:[11;15H[35m{[11C}[m[33;135H9[11;29H[?12l[?25h[?25l[11;28H[K[11;15H[35m[46m{[11C}[m[33;135H8[11;28H[?12l[?25h[?25l[33;135H7[11;27H[?12l[?25h[?25l[11;15H[35m{[m[8C[35m[46m[[m@[35m[46m][m[35m}[m[33;135H6[11;26H[?12l[?25h[?25l[11;15H[35m[46m{[m[8C[35m[[m@[35m][m[35m[46m}[m[33;135H7[11;27H[?12l[?25h[?25l[33;135H8[11;28H[?12l[?25h[?25l[12;32r[12;1H[L[1;33r[33;130H[K[33;130H216,1[9C68%[11;15H[35m{[11C}
[?12l[?25h[?25l[m[33;134H2-9[12;9H[?12l[?25h[?25l[33;134H1  [12;1H[?12l[?25h[?25l[33;134H2[12;2H[?12l[?25h[?25l[33;134H3[12;3H[?12l[?25h[?25l[33;134H4[12;4H[?12l[?25h[?25l d[33;134H5[12;5H[?12l[?25h[?25ldp[33;134H6[12;6H[?12l[?25h[?25l[12;5H[K[33;134H5[12;5H[?12l[?25h[?25l[33mdo[m

[1m[37m[41m}[m

function exec_webserver[33m()[m [35m{[m[18;39H-[36moStrictHostKeyChecking[m=no -i[79C[31mss[19;1Hr[m

[35m}[m


function send_service[33m()[m [35m{[m[33;134H6[12;6H[?12l[?25h[?25l[33;132H7[13;6H[?12l[?25h[?25l[5;27H[36m[46m{[m[14;1H[1m[37m[46m}[m[33;132H8,2[14;2H[?12l[?25h[?25l[33;134H1[14;1H[?12l[?25h[?25l[15;32r[15;1H[L[1;33r[14;1H[46m [m
[1m[37m[41m}[m[33;130H[K[33;130H219,1[9C67%[14;1H[K[15;1H[1m[37m[46m}[?12l[?25h[?25l[m[5;27H[36m{[m[15;1H[1m[37m[41m}[m[33;132H8[14;1H[?12l[?25h[?25l[33;134H2[14;2H[?12l[?25h[?25l[33;134H3[14;3H[?12l[?25h[?25l[33;134H4[14;4H[?12l[?25h[?25l d[33;134H5[14;5H[?12l[?25h[?25ldn[33;134H6[14;6H[?12l[?25h[?25l[14;5H[K[33;134H5[14;5H[?12l[?25h[?25l[33mdo[m[33;134H6[14;6H[?12l[?25h[?25ldon[33;134H7[14;7H[?12l[?25h[?25l[33mdone[m
[36m}

function[m [36mexec_webserver() {[m[19;39H[35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m[79C[31mss[20;1Hr[m

[36m}


function[m [36msend_service() {[m[33;134H8[14;8H[?12l[?25h[?25l[33;132H7[13;8H[?12l[?25h[?25l[33;132H6,6[12;6H[?12l[?25h[?25l[33;132H5,8[11;8H[?12l[?25h[?25l[33;132H4[10;8H[?12l[?25h[33;1H[K[10;7H[?25l[33;130H214,7[9C67%[10;7H[?12l[?25h[?25l[10;32r[32;1H
[1;33r[32;9H [33mbreak[m[33;130H[K[33;130H214,4[9C68%[10;4H[?12l[?25h[?25l[33;134H5[10;5H[?12l[?25h[?25l[33;134H6[10;6H[?12l[?25h[?25l[33;134H7[10;7H[?12l[?25h[?25l[33;134H8[10;8H[?12l[?25h[?25l[33;134H9[10;9H[?12l[?25h[?25l[33;134H10[10;10H[?12l[?25h[?25l[33;135H1[10;11H[?12l[?25h[?25l[33;135H2[10;12H[?12l[?25h[?25l[33;135H3[10;13H[?12l[?25h[?25l[33;135H4[10;14H[?12l[?25h[?25l[1C[35m[46m{[11C}[m[33;135H5[10;15H[?12l[?25h[?25l[35m{[11C}[m[33;135H6[10;16H[?12l[?25h[?25l[35m{TACK_ID[[m@[35m]}[m[10;27H[K[10;16H[?12l[?25h[?25l[35m{ACK_ID[[m@[35m]}[m[10;26H[K[10;16H[?12l[?25h[?25l[35m{CK_ID[[m@[35m]}[m[10;25H[K[10;16H[?12l[?25h[?25l[35m{K_ID[[m@[35m]}[m[10;24H[K[10;16H[?12l[?25h[?25l[35m{_ID[[m@[35m]}[m[10;23H[K[10;16H[?12l[?25h[?25l[35m{ID[[m@[35m]}[m[10;22H[K[10;16H[?12l[?25h[?25l[35m{D[[m@[35m]}[m[10;21H[K[10;16H[?12l[?25h[?25l[35m{[m[35m[46m[[m@[35m[46m][m[35m}[m[10;20H[K[10;16H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H214,16[8C68%[10;16H[?12l[?25h[?25l[35m{[m[35m[46mI[m[35m[[m[46m@[m[35m]}I[m[35m[46m[[m@[35m[46m][m[33;135H7[10;17H[?12l[?25h[?25l[35mI[m[35m[46mP[m[35m[[m[46m@[m[35m]}P[m[35m[46m[[m@[35m[46m][m[33;135H8[10;18H[?12l[?25h[?25l[35mP[m[35m[46m_[m[35m[[m[46m@[m[35m]}_[m[35m[46m[[m@[35m[46m][m[33;135H9[10;19H[?12l[?25h[?25l[35m_[m[35m[46mC[m[35m[[m[46m@[m[35m]}C[m[35m[46m[[m@[35m[46m][m[33;134H20[10;20H[?12l[?25h[?25l[35mC[m[35m[46mO[m[35m[[m[46m@[m[35m]}O[m[35m[46m[[m@[35m[46m][m[33;135H1[10;21H[?12l[?25h[?25l[35mO[m[35m[46mN[m[35m[[m[46m@[m[35m]}N[m[35m[46m[[m@[35m[46m][m[33;135H2[10;22H[?12l[?25h[?25l[35mN[m[35m[46mF[m[35m[[m[46m@[m[35m]}F[m[35m[46m[[m@[35m[46m][m[33;135H3[10;23H[?12l[?25h[?25l[35m[[m@[35m][m[33;135H0[10;20H[?12l[?25h[?25l[33;134H19[10;19H[?12l[?25h[?25l[33;135H7[10;17H[?12l[?25h[?25l[35m[46m{[10C}[m[33;135H6[10;16H[?12l[?25h[?25l[33;135H5[10;15H[?12l[?25h[?25l[35m{[10C}[m[33;135H3[10;13H[?12l[?25h[?25l[33;135H2[10;12H[?12l[?25h[?25l[33;135H1[10;11H[?12l[?25h[?25l[33;135H0[10;10H[?12l[?25h[?25lI [33min[m [35m${IP_CONF[[m@[35m]}[m[10;26H[K[33;134H9 [10;9H[?12l[?25h[?25l[33m [m [33min[m [35m${IP_CONF[[m@[35m]}[m[10;25H[K[33;134H8[10;8H[?12l[?25h[?25l[33m [mI [33min[m [35m${IP_CONF[[m@[35m]}[m[33;134H9[10;9H[?12l[?25h[?25lIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;134H10[10;10H[?12l[?25h[?25l[33;132H5,6 [11;6H[?12l[?25h[?25l[33;132H6,10[12;10H[?12l[?25h[?25l[33;135H1[12;11H[?12l[?25h[?25l[33;135H2[12;12H[?12l[?25h[?25l[33;135H4[12;14H[?12l[?25h[?25l[33;135H6[12;16H[?12l[?25h[?25l[1C[35m[46m{[16C}[m[33;135H8[12;18H[?12l[?25h[?25l[35m{[16C}[m[33;134H20[12;20H[?12l[?25h[?25l[33;135H3[12;23H[?12l[?25h[?25l[33;135H5[12;25H[?12l[?25h[?25l[33;135H7[12;27H[?12l[?25h[?25l[33;135H9[12;29H[?12l[?25h[?25l[33;134H31[12;31H[?12l[?25h[?25l[33;135H3[12;33H[?12l[?25h[?25l[12;17H[35m[46m{[16C}[m[33;135H5[12;35H[?12l[?25h[?25l[12;17H[35m{[16C}[m[2C[35m[46m{[10C}[m[33;135H8[12;38H[?12l[?25h[?25l[35m{[10C}[m[33;134H41[12;41H[?12l[?25h[?25l[33;135H3[12;43H[?12l[?25h[?25l[33;135H5[12;45H[?12l[?25h[?25l[33;135H6[12;46H[?12l[?25h[?25l[33;135H7[12;47H[?12l[?25h[?25l[33;135H6[12;46H[?12l[?25h[?25l[33;135H5[12;45H[?12l[?25h[?25l[35mE_IP}[m [35m${SSH_DIR}[m[12;59H[K[33;135H4[12;44H[?12l[?25h[?25l[35mG_IP}[m [35m${SSH_DIR}[m[12;58H[K[33;135H3[12;43H[?12l[?25h[?25l[35mA_IP}[m [35m${SSH_DIR}[m[12;57H[K[33;135H2[12;42H[?12l[?25h[?25l[35mN_IP}[m [35m${SSH_DIR}[m[12;56H[K[33;135H1[12;41H[?12l[?25h[?25l[35mA_IP}[m [35m${SSH_DIR}[m[12;55H[K[33;135H0[12;40H[?12l[?25h[?25l[35mM_IP}[m [35m${SSH_DIR}[m[12;54H[K[33;134H39[12;39H[?12l[?25h[?25l[35m{_IP}[m [35m${SSH_DIR}[m[12;53H[K[12;37H[35m[46m{[3C}[m[33;135H8[12;38H[?12l[?25h[?25l[35m{_IP}[m[33;135H9[12;39H[?12l[?25h[?25l[35m{IP}[m [35m${SSH_DIR}[m[12;52H[K[12;37H[35m[46m{[2C}[m[33;135H8[12;38H[?12l[?25h[?25l[35m{IP}[m[33;132H7,8 [13;8H[?12l[?25h[?25l[5;27H[36m[46m{[14;1H}[m[33;132H8,2[14;2H[?12l[?25h[33;1H[K[14;1H[?25l[33;130H218,1[9C68%[14;1H[?12l[?25h[?25l[5;27H[36m{[14;1H}[m[33;132H9,0-1[15;1H[?12l[?25h[?25l[33;131H20,1  [16;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H220,1[9C68%[16;1H[?12l[?25h[?25l[34m#function exec_webserver() {[m[19;59H&

[1m[37m[41m}[m[33;134H2[16;2H[?12l[?25h[?25l[33;132H1[17;2H[?12l[?25h[?25l[33;134H1[17;1H[?12l[?25h[?25l[34m#   echo "Start WebServer.."[m[33;134H2[17;2H[?12l[?25h[?25l[33;132H2[18;2H[?12l[?25h[?25l[33;134H1[18;1H[?12l[?25h[?25l[34m#   sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP} "/uu[19;1Hsr/bin/python ${SSH_DIR}/main_server.py &" >/dev/null 2>&1 &[m[33;134H2[18;2H[?12l[?25h[?25l[33;132H3[20;2H[?12l[?25h[?25l[33;134H1[20;1H[?12l[?25h[?25l[34m#   echo "   : )"[m[33;134H2[20;2H[?12l[?25h[?25l[33;132H4[21;2H[?12l[?25h[?25l[33;134H1[21;1H[?12l[?25h[?25l[34m#}[m[16;28H[34m[46m{[21;2H}[m[33;134H2[21;2H[?12l[?25h[?25l[16;28H[34m{[21;2H}[m[33;132H3[20;2H[?12l[?25h[?25l[33;132H2[18;2H[?12l[?25h[?25l[33;132H1[17;2H[?12l[?25h[?25l[33;132H0[16;2H[?12l[?25h[?25l[33;131H19,1[15;1H[?12l[?25h[?25l[5;27H[36m[46m{[14;1H}[m[33;132H8,2[14;2H[?12l[?25h[?25l[5;27H[36m{[14;1H}[m[33;132H7[13;2H[?12l[?25h[33;1H[K[13;1H[?25l[33;130H217,1[9C68%[13;1H[?12l[?25h[?25l[33;132H6[12;1H[?12l[?25h[?25l[33;132H5[11;1H[?12l[?25h[?25l[33;132H4[10;1H[?12l[?25h[?25l[33;132H3[9;1H[?12l[?25h[?25l[33;132H4[10;1H[?12l[?25h[?25l[33;132H5[11;1H[?12l[?25h[?25l[33;132H6[12;1H[?12l[?25h[?25l[33;132H7[13;1H[?12l[?25h[?25l[5;27H[36m[46m{[14;1H}[m[33;132H8[14;1H[?12l[?25h[?25l[5;27H[36m{[14;1H}[m[33;132H9,0-1[15;1H[?12l[?25h[?25l[33;131H20,1  [16;1H[?12l[?25h[?25l[33;132H1[17;1H[?12l[?25h[?25l[33;132H2[18;1H[?12l[?25h[?25l[33;132H3[20;1H[?12l[?25h[?25l[33;132H4[21;1H[?12l[?25h[?25l[33;132H5,0-1[22;1H[?12l[?25h[?25l[33;132H6,1  [23;1H[?12l[?25h[?25l[33;132H7[24;1H[?12l[?25h[?25l[33;132H8[25;1H[?12l[?25h[?25l[33;132H9[26;1H[?12l[?25h[?25l[33;131H30[27;1H[?12l[?25h[?25l[33;132H1[28;1H[?12l[?25h[?25l[33;132H2[30;1H[?12l[?25h[?25l[33;132H3[31;1H[?12l[?25h[?25l[33;132H4[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H235,1[9C68%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33msleep[m [31m10[m[33;130H[K[33;130H236,1[9C68%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdone[m[33;130H[K[33;130H237,1[9C69%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[20;25H[36m[46m{[32;1H}[m[33;130H[K[33;130H238,1[9C69%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[19;25H[36m{[31;1H}[m[33;130H[K[33;130H239,0-1[7C69%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mVERIFY_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[33;130H[K[33;130H240,1[9C70%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H241,1[9C70%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H242,1[9C70%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mwhile :[m[33;130H[K[33;130H243,1[9C71%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33m   do[m[33;130H[K[33;130H244,1[9C71%[32;1H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${VERIFY_SERVICE_BIN}[m [35m${SSH_FORWARDD[32;1H_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H245,1[9C71%[31;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H246,1[9C72%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H247,1[9C72%[32;1H[?12l[?25h[?25l[33;132H6[31;1H[?12l[?25h[?25l[33;132H5[29;1H[?12l[?25h[?25l[33;132H4[28;1H[?12l[?25h[?25l[33;132H3[27;1H[?12l[?25h[?25l[33;132H2[26;1H[?12l[?25h[?25l[33;132H1[25;1H[?12l[?25h[?25l[33;132H0[24;1H[?12l[?25h[?25l[33;131H39,0-1[23;1H[?12l[?25h[?25l[10;25H[36m[46m{[22;1H}[m[33;132H8,1  [22;1H[?12l[?25h[?25l[10;25H[36m{[22;1H}[m[33;132H7[21;1H[?12l[?25h[?25l[33;132H6[20;1H[?12l[?25h[?25l[33;132H5[19;1H[?12l[?25h[?25l[33;132H4[18;1H[?12l[?25h[?25l[33;132H3[17;1H[?12l[?25h[?25l[33;132H2[16;1H[?12l[?25h[?25l[33;132H1[14;1H[?12l[?25h[?25l[33;132H0[13;1H[?12l[?25h[?25l[33;131H29[12;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H229,1[9C72%[12;1H[?12l[?25h[?25l[34m#   while :[m
   [33;134H2[12;2H[?12l[?25h[?25l[33;131H30[13;2H[?12l[?25h[?25l[33;134H1[13;1H[?12l[?25h[?25l[34m#   do[m[14;66Hno [35m-i[76CWW[15;1HA[m[52C[33m1[m[21;4Hdone[33;134H2[13;2H[?12l[?25h[?25l[33;132H1[14;2H[?12l[?25h[?25l[33;134H1[14;1H[?12l[?25h[?25l[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_SCRIPT} ${SSH_FORR[15;1HWARD_USER}@${MANAGER_IP}:"/etc/init.d/" >/dev/null 2>&1[m[33;134H2[14;2H[?12l[?25h[?25l[33;132H2[16;2H[?12l[?25h[?25l[33;132H3[17;2H[?12l[?25h[?25l[33;134H1[17;1H[?12l[?25h[?25l[33;132H2[16;1H[?12l[?25h[?25l[34m#      if [ $? -eq "0" ]; then[m[19;7Hfi[33;134H2[16;2H[?12l[?25h[?25l[33;132H3[17;2H[?12l[?25h[?25l[33;134H1[17;1H[?12l[?25h[?25l[34m#         echo "   : )"[m[33;134H2[17;2H[?12l[?25h[?25l[33;132H4[18;2H[?12l[?25h[?25l[33;134H1[18;1H[?12l[?25h[?25l[34m#         break[m[33;134H2[18;2H[?12l[?25h[?25l[33;132H5[19;2H[?12l[?25h[?25l[33;134H1[19;1H[?12l[?25h[?25l[34m#      fi[m[33;134H2[19;2H[?12l[?25h[?25l[33;132H6[20;2H[?12l[?25h[?25l[33;134H1[20;1H[?12l[?25h[?25l[34m#      sleep 10[m[33;134H2[20;2H[?12l[?25h[?25l[33;132H7[21;2H[?12l[?25h[?25l[33;134H1[21;1H[?12l[?25h[?25l[34m#   done[m[33;134H2[21;2H[?12l[?25h[?25l[33;134H1[21;1H[?12l[?25h[?25l[10;25H[36m[46m{[22;1H}[m[33;132H8[22;1H[?12l[?25h[?25l[23;32r[23;1H[L[1;33r[22;1H[46m [m
[36m}[m[33;130H[K[33;130H239,1[9C72%[22;1H[K[23;1H[36m[46m}[?12l[?25h[?25l[m[10;25H[36m{[23;1H}[m[33;132H8[22;1H[?12l[?25h[?25l[23;32r[23;1H[L[1;33r[22;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H239,1[9C71%[23;1H[?12l[?25h[?25l[24;32r[24;1H[4L[1;33r[23;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)
   [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m
   [33mdo[m[26;6H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m

[1m[37m[41m}[m


function send_service_bin[33m()[m [35m{[m[33;130H[K[33;130H243,1[9C71%[27;1H[?12l[?25h[?25l   [33mdone[m
[36m}


function[m [36msend_service_bin() {[m[33;134H8[27;8H[?12l[?25h[?25l[33;134H7[27;7H[?12l[?25h[?25l[33;132H2[26;7H[?12l[?25h[?25l[33;134H8[26;8H[?12l[?25h[?25l[33;134H9[26;9H[?12l[?25h[?25l[33;134H11[26;11H[?12l[?25h[?25l[33;135H3[26;13H[?12l[?25h[?25l[33;135H5[26;15H[?12l[?25h[?25l[2C[35m[46m{[16C}[m[33;135H7[26;17H[?12l[?25h[?25l[35m{[16C}[m[33;135H9[26;19H[?12l[?25h[?25l[33;134H22[26;22H[?12l[?25h[?25l[33;135H4[26;24H[?12l[?25h[?25l[33;135H6[26;26H[?12l[?25h[?25l[33;135H7[26;27H[?12l[?25h[?25l[33;135H8[26;28H[?12l[?25h[?25l[33;135H7[26;27H[?12l[?25h[?25l[35mE_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[26;51H[K[33;135H6[26;26H[?12l[?25h[?25l[35mV_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[26;50H[K[33;135H5[26;25H[?12l[?25h[?25l[35mR_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[26;49H[K[33;135H4[26;24H[?12l[?25h[?25l[35mE_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[26;48H[K[33;135H3[26;23H[?12l[?25h[?25l[35mS_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[26;47H[K[33;135H2[26;22H[?12l[?25h[?25l[35mB_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[26;46H[K[33;135H1[26;21H[?12l[?25h[?25l[35mE_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[26;45H[K[33;135H0[26;20H[?12l[?25h[?25l[35mW_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[26;44H[K[33;134H19[26;19H[?12l[?25h[?25l[35m{_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[26;43H[K[26;17H[35m[46m{[7C}[m[33;135H8[26;18H[?12l[?25h[?25l[35m{[7C}[m[33;135H9[26;19H[?12l[?25h[?25l[33;134H20[26;20H[?12l[?25h[?25l[33;135H1[26;21H[?12l[?25h[?25l[33;135H2[26;22H[?12l[?25h[?25l[33;135H3[26;23H[?12l[?25h[?25l[33;135H4[26;24H[?12l[?25h[?25l[26;17H[35m[46m{[7C}[m[33;135H5[26;25H[?12l[?25h[?25l[35mT[m[1m[37m[46m\[m[35m}[m [35m${IP}[m [35m${SSH_DIR}[m[26;25H[1m[37m[41m\[m[35m[46m}[m[33;135H6[26;26H[?12l[?25h[?25l[35mT}[m[46m [m[35m${IP}[m [35m${SSH_DIR}[m[26;43H[K[26;25H[35m[46m}[m [33;135H5[26;25H[?12l[?25h[?25l[35mP}[m[46m [m[35m${IP}[m [35m${SSH_DIR}[m[26;42H[K[26;24H[35m[46m}[m [33;135H4[26;24H[?12l[?25h[?25l[35mI}[m[46m [m[35m${IP}[m [35m${SSH_DIR}[m[26;41H[K[26;23H[35m[46m}[m [33;135H3[26;23H[?12l[?25h[?25l[35mR}[m[46m [m[35m${IP}[m [35m${SSH_DIR}[m[26;40H[K[26;22H[35m[46m}[m [33;135H2[26;22H[?12l[?25h[?25l[35mC}[m[46m [m[35m${IP}[m [35m${SSH_DIR}[m[26;39H[K[26;21H[35m[46m}[m [33;135H1[26;21H[?12l[?25h[?25l[35mS}[m[46m [m[35m${IP}[m [35m${SSH_DIR}[m[26;38H[K[26;20H[35m[46m}[m [33;135H0[26;20H[?12l[?25h[?25l[35m_}[m[46m [m[35m${IP}[m [35m${SSH_DIR}[m[26;37H[K[26;19H[35m[46m}[m [33;134H19[26;19H[?12l[?25h[?25l[35m[46m{[m[35m}[m[46m [m[35m${IP}[m [35m${SSH_DIR}[m[26;36H[K[26;18H[35m[46m}[m [33;135H8[26;18H[?12l[?25h[?25l[35m[46m{V[m[35mERIFY_SERVICE_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[26;18HV[m[20C[35m[46m}[m[33;134H39[26;39H[?12l[?25h[?25l[33;134H40[26;40H[?12l[?25h[?25l[26;17H[35m{[21C}[m[33;135H1[26;41H[?12l[?25h[?25l[1C[35m[46m{[2C}[m[33;135H3[26;43H[?12l[?25h[?25l[33;135H5[26;45H[?12l[?25h[?25l[35m{IP}[m[33;135H7[26;47H[?12l[?25h[?25l[33;134H50[26;50H[?12l[?25h[?25l[33;135H2[26;52H[?12l[?25h[?25l[33;135H4[26;54H[?12l[?25h[?25l[35m[46m{[7C}[m[33;135H6[26;56H[?12l[?25h[?25l[33;135H7[26;57H[?12l[?25h[?25l[26;56H[K[27;1H[1m[37m[41m   done[m
[35m}[m


function send_service_bin[33m()[m [35m{[26;48H{[m[33;135H6[26;56H[?12l[?25h[?25l[26;55H[K[33;135H5[26;55H[?12l[?25h[?25l[26;54H[K[33;135H4[26;54H[?12l[?25h[?25l[26;53H[K[33;135H3[26;53H[?12l[?25h[?25l[26;52H[K[33;135H2[26;52H[?12l[?25h[?25l[26;51H[K[33;135H1[26;51H[?12l[?25h[?25l[26;50H[K[33;135H0[26;50H[?12l[?25h[?25l[26;49H[K[26;48H[35m[46m{

}[m[33;134H49[26;49H[?12l[?25h[?25l$[26;48H[K[27;1H   [33mdone[m
[36m[46m}[m


[36mfunction[m [36msend_service_bin() {[28;1H}[m[33;135H8[26;48H[?12l[?25h[?25l[26;47H[K[33;135H7[26;47H[?12l[?25h[?25l [33m"[m
[31m   done
}

VERIFY_SERVICE_BIN=[m[15C/manager/usr/bin/verify_server
[31mfunction send_service_bin() {
   echo[m[2CTransferred to the Manager of the WebServerBin..[33;135H8[26;48H[?12l[?25h[?25l[33m""[m
   [33mdone[m
[36m}

VERIFY_SERVICE_BIN[m=[15C[31m/manager/usr/bin/verify_server[m
[36mfunction[m [36msend_service_bin() {[m
   [33mecho[m[2C[31mTransferred to the Manager of the WebServerBin..[m[33;135H9[26;49H[?12l[?25h[?25l[33;135H8[26;48H[?12l[?25h[?25l[33m"[m[31m/[m[33m"[m[33;135H9[26;49H[?12l[?25h[?25l[31m/e[m[33m"[m[33;134H50[26;50H[?12l[?25h[?25l[31met[m[33m"[m[33;135H1[26;51H[?12l[?25h[?25l[31mtc[m[33m"[m[33;135H2[26;52H[?12l[?25h[?25l[31mc/[m[33m"[m[33;135H3[26;53H[?12l[?25h[?25l[31m/i[m[33m"[m[33;135H4[26;54H[?12l[?25h[?25l[31min[m[33m"[m[33;135H5[26;55H[?12l[?25h[?25l[31mni[m[33m"[m[33;135H6[26;56H[?12l[?25h[?25l[31mit[m[33m"[m[33;135H7[26;57H[?12l[?25h[?25l[31mt.[m[33m"[m[33;135H8[26;58H[?12l[?25h[?25l[31m.d[m[33m"[m[33;135H9[26;59H[?12l[?25h[?25l[31md/[m[33m"[m[33;134H60[26;60H[?12l[?25h[33;1H[K[26;59H[?25l[33;130H242,59[8C71%[26;59H[?12l[?25h[?25l[33;132H1,5 [25;5H[?12l[?25h[?25l[24;15H[35m[46m{[10C}[m[33;132H0,26[24;26H[?12l[?25h[?25l[23;12H[46m([13C)[m[24;15H[35m{[10C}[m[33;131H39[23;26H[?12l[?25h[?25l[23;12H([13C)[33;132H8,29[22;29H[?12l[?25h[?25l[33;132H7,8 [21;8H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H237,8[9C71%[21;8H[?12l[?25h[?25l[33;134H9[21;9H[?12l[?25h[?25l[22;32r[22;1H[L[1;33r[33;130H[K[33;130H238,1[9C71%[22;1H[?12l[?25h[?25l[33;134H2[22;2H[?12l[?25h[?25l[33;134H3[22;3H[?12l[?25h[?25l[33;134H4[22;4H[?12l[?25h[?25l exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;134H58[22;58H[?12l[?25h[?25l[33;135H7[22;57H[?12l[?25h[?25l[33;135H6[22;56H[?12l[?25h[?25l[33;135H4[22;54H[?12l[?25h[?25l[33;135H2[22;52H[?12l[?25h[?25l[33;135H0[22;50H[?12l[?25h[?25l[33;134H48[22;48H[?12l[?25h[?25l[33;135H7[22;47H[?12l[?25h[?25l[33;135H6[22;46H[?12l[?25h[?25l[33;135H5[22;45H[?12l[?25h[?25l[33;135H4[22;44H[?12l[?25h[?25l[35m[46m{[2C}[m[33;135H3[22;43H[?12l[?25h[?25l[33;135H2[22;42H[?12l[?25h[?25l[35m{IP}[m[33;135H1[22;41H[?12l[?25h[?25l[35m[46m{[2C}[m[33;135H0[22;40H[?12l[?25h[?25l[35m[46m{[m[35mMI[m[35m[46mP[m[35m}[m [33m"[m[31m/etc/init.d/[m[33m"[m[22;39H[35m{MIP[m[33;135H1[22;41H[?12l[?25h[?25l[35mMAIP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;135H2[22;42H[?12l[?25h[?25l[35mANIP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;135H3[22;43H[?12l[?25h[?25l[35mNAIP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;135H4[22;44H[?12l[?25h[?25l[35mAGIP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;135H5[22;45H[?12l[?25h[?25l[35mGEIP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;135H6[22;46H[?12l[?25h[?25l[35mERIP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;135H7[22;47H[?12l[?25h[?25l[35mR_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;135H8[22;48H[?12l[?25h[33;1H[K[22;47H[?25l[33;130H238,47[8C71%[22;47H[?12l[?25h[?25l[33;132H9,29[23;29H[?12l[?25h[?25l[24;12H[46m([13C)[m[33;131H40,26[24;26H[?12l[?25h[?25l[24;12H([13C)[25;15H[35m[46m{[10C}[m[33;132H1[25;26H[?12l[?25h[?25l[25;15H[35m{[10C}[m[33;132H2,5 [26;5H[?12l[?25h[?25l[33;132H3,47[27;47H[?12l[?25h[?25l[33;132H4,7 [28;7H[?12l[?25h[?25l[10;25H[36m[46m{[29;1H}[m[33;132H5,1[29;1H[?12l[?25h[?25l[10;25H[36m{[29;1H}[m[33;132H6,0-1[30;1H[?12l[?25h[?25l[33;132H7,47 [31;47H[?12l[?25h[?25l[33;132H8,29[32;29H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H249,47[8C71%[32;47H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mwhile :[m[33;130H[K[33;130H250,10[8C71%[32;10H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[33m   do[m[33;130H[K[33;130H251,5[9C71%[32;5H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${VERIFY_SERVICE_BIN}[m [35m${SSH_FORWARDD[32;1H_USER}[m@[35m${MANAGER_IP}[m:[33m"[m[31m/usr/bin/[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H252,47[8C72%[31;47H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H253,29[8C72%[32;29H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H254,22[8C72%[32;22H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;9H [33mbreak[m[33;130H[K[33;130H255,14[8C73%[32;14H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H256,8[9C73%[32;8H[?12l[?25h[?25l[33;132H5,14[31;14H[?12l[?25h[?25l[33;132H4,22[30;22H[?12l[?25h[?25l[33;132H3,29[29;29H[?12l[?25h[?25l[33;132H2,47[27;47H[?12l[?25h[?25l[33;132H1,5 [26;5H[?12l[?25h[?25l[33;132H0,10[25;10H[?12l[?25h[?25l[33;131H49,47[24;47H[?12l[?25h[?25l[33;131H50,10[25;10H[?12l[?25h[?25l[33;134H9 [25;9H[?12l[?25h[?25l[33;134H8[25;8H[?12l[?25h[?25l[33;134H7[25;7H[?12l[?25h[?25l[33;134H6[25;6H[?12l[?25h[?25l[33;134H5[25;5H[?12l[?25h[?25l[33;134H4[25;4H[?12l[?25h[?25l[33;134H3[25;3H[?12l[?25h[?25l[33;134H2[25;2H[?12l[?25h[?25l[33;134H1[25;1H[?12l[?25h[?25l[33;1H?\<while\>[33;130H[K[33;1H[129C229,5[9C73%[3;5H[?12l[?25h[?25l[33;131H30[4;5H[?12l[?25h[?25l[33;132H1[5;5H[?12l[?25h[?25l[33;132H2[7;5H[?12l[?25h[?25l[33;132H3[8;5H[?12l[?25h[?25l[33;132H4[9;5H[?12l[?25h[?25l[33;132H5[10;5H[?12l[?25h[?25l[33;132H6[11;5H[?12l[?25h[?25l[33;132H7[12;5H[?12l[?25h[?25l[33;132H8[13;5H[?12l[?25h[?25l[33;132H9[14;5H[?12l[?25h[?25l[33;131H40[15;5H[?12l[?25h[?25l[33;132H1[16;5H[?12l[?25h[?25l[33;132H2[17;5H[?12l[?25h[?25l[33;132H3[18;5H[?12l[?25h[?25l[33;132H4[19;5H[?12l[?25h[?25l[1;25H[36m[46m{[20;1H}[m[33;132H5,1[20;1H[?12l[?25h[?25l[1;25H[36m{[20;1H}[m[33;132H6,0-1[21;1H[?12l[?25h[?25l[33;132H7,5  [22;5H[?12l[?25h[?25l[33;132H8[23;5H[?12l[?25h[?25l[33;132H9[24;5H[?12l[?25h[?25l[33;131H50[25;5H[?12l[?25h[?25l[33;132H1[26;5H[?12l[?25h[?25l[33;132H2[27;5H[?12l[?25h[?25l[33;132H1[26;5H[?12l[?25h[?25l[33;132H0[25;5H[?12l[?25h[?25l[33;134H4[25;4H[?12l[?25h[?25l[33;134H3[25;3H[?12l[?25h[?25l[33;134H2[25;2H[?12l[?25h[?25l[33;134H1[25;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H250,1[9C73%[25;1H[?12l[?25h[?25l[34m#   while :[m
   [33;134H2[25;2H[?12l[?25h[?25l[33;132H1[26;2H[?12l[?25h[?25l[33;134H1[26;1H[?12l[?25h[?25l[34m#   do[m[27;66Hno [35m-i[76CDD[28;1H_[m[46C[33m1[m[33;134H2[26;2H[?12l[?25h[?25l[33;132H2[27;2H[?12l[?25h[?25l[33;134H1[27;1H[?12l[?25h[?25l[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_BIN} ${SSH_FORWARR[28;1HD_USER}@${MANAGER_IP}:"/usr/bin/" >/dev/null 2>&1[m[33;134H2[27;2H[?12l[?25h[?25l[33;132H3[29;2H[?12l[?25h[?25l[33;132H4[30;2H[?12l[?25h[?25l[33;132H3[29;2H[?12l[?25h[?25l[33;134H1[29;1H[?12l[?25h[?25l[34m#      if [ $? -eq "0" ]; then[m[32;7Hfi[33;134H2[29;2H[?12l[?25h[?25l[33;132H4[30;2H[?12l[?25h[?25l[33;134H1[30;1H[?12l[?25h[?25l[34m#         echo "   : )"[m[33;134H2[30;2H[?12l[?25h[?25l[33;132H5[31;2H[?12l[?25h[?25l[33;134H1[31;1H[?12l[?25h[?25l[34m#         break[m[33;134H2[31;2H[?12l[?25h[?25l[33;132H6[32;2H[?12l[?25h[?25l[33;134H1[32;1H[?12l[?25h[?25l[34m#      fi[m[33;134H2[32;2H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33msleep[m [31m10[m[33;130H[K[33;130H257,2[9C73%[32;2H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H done[33;130H[K[33;130H258,2[9C74%[32;2H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36m}[m[33;130H[K[33;130H259,2[9C74%[20;29H[36m[46m{[32;1H}[?12l[?25h[?25l[1;32r[m[32;1H
[1;33r[33;130H[K[33;130H260,1[9C74%[19;29H[36m{[31;1H}
[?12l[?25h[?25l[m[19;29H[36m[46m{[31;1H}[m[33;131H59,2[31;2H[?12l[?25h[?25l[19;29H[36m{[31;1H}[m[33;132H8[30;2H[?12l[?25h[?25l[33;132H7[29;2H[?12l[?25h[?25l[33;134H1[29;1H[?12l[?25h[?25l[34m#      sleep 10[m[33;134H2[29;2H[?12l[?25h[?25l[33;132H8[30;2H[?12l[?25h[?25l[33;134H1[30;1H[?12l[?25h[?25l[34m#   done[m[33;134H2[30;2H[?12l[?25h[?25l[19;29H[36m[46m{[31;1H}[m[33;132H9[31;2H[?12l[?25h[?25l[33;134H1[31;1H[?12l[?25h[?25l[46m [m
[36m}[m[31;1H[K[32;1H[36m[46m}[m[33;131H60[32;1H[?12l[?25h[?25l[19;29H[36m{[32;1H}[m[33;131H59[31;1H[?12l[?25h[?25l   exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[32;1H[K[33;131H60[32;1H[?12l[?25h[?25l[1;32r[1;1H[4M[1;33r[28;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m
   [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)
   [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m
   [33mdo[m[33;130H[K[33;130H264,1[9C74%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[31;6H exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m
   [33mdone[m[33;130H[K[33;130H265,8[9C74%[32;8H[?12l[?25h[?25l[33;132H4[31;8H[?12l[?25h[?25l[33;132H3,6[30;6H[?12l[?25h[?25l[33;132H4,8[31;8H[?12l[?25h[?25l[33;134H9[31;9H[?12l[?25h[?25l[33;134H10[31;10H[?12l[?25h[?25l[33;135H2[31;12H[?12l[?25h[?25l[33;135H4[31;14H[?12l[?25h[?25l[33;135H6[31;16H[?12l[?25h[?25l[1C[35m[46m{[21C}[m[33;135H8[31;18H[?12l[?25h[?25l[35m{[21C}[m[33;134H21[31;21H[?12l[?25h[?25l[33;135H3[31;23H[?12l[?25h[?25l[33;135H5[31;25H[?12l[?25h[?25l[33;135H7[31;27H[?12l[?25h[?25l[33;135H9[31;29H[?12l[?25h[?25l[33;134H31[31;31H[?12l[?25h[?25l[33;135H3[31;33H[?12l[?25h[?25l[33;135H6[31;36H[?12l[?25h[?25l[33;135H8[31;38H[?12l[?25h[?25l[31;17H[35m[46m{[21C}[m[33;135H9[31;39H[?12l[?25h[?25l[31;17H[35m{[21C}[m[33;135H8[31;38H[?12l[?25h[?25l[31;17H[35m[46m{[21C}[m[33;135H9[31;39H[?12l[?25h[?25l[35mP}[m[46m [m[35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[31;60H[K[31;38H[35m[46m}[m [33;135H8[31;38H[?12l[?25h[?25l[35mI}[m[46m [m[35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[31;59H[K[31;37H[35m[46m}[m [33;135H7[31;37H[?12l[?25h[?25l[35mR}[m[46m [m[35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[31;58H[K[31;36H[35m[46m}[m [33;135H6[31;36H[?12l[?25h[?25l[35mC}[m[46m [m[35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[31;57H[K[31;35H[35m[46m}[m [33;135H5[31;35H[?12l[?25h[?25l[35mS}[m[46m [m[35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[31;56H[K[31;34H[35m[46m}[m [33;135H4[31;34H[?12l[?25h[?25l[35m_}[m[46m [m[35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[31;55H[K[31;33H[35m[46m}[m [33;135H3[31;33H[?12l[?25h[?25l[35m_[m[35m[46mB[m[35m}[m [35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[31;33H[35mB[m[35m[46m}[m[33;135H4[31;34H[?12l[?25h[?25l[35mB[m[35m[46mI[m[35m}[m [35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[31;34H[35mI[m[35m[46m}[m[33;135H5[31;35H[?12l[?25h[?25l[35mI[m[35m[46mN[m[35m}[m [35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[31;35H[35mN[m[35m[46m}[m[33;135H6[31;36H[?12l[?25h[?25l[31;17H[35m{[18C}[m[33;132H3,6 [30;6H[?12l[?25h[?25l[29;15H[35m[46m{[10C}[m[33;132H2,27[29;27H[?12l[?25h[?25l[28;12H[46m([13C)[m[29;15H[35m{[10C}[m[33;132H1[28;27H[?12l[?25h[?25l[28;12H([13C)[33;132H0,30[27;30H[?12l[?25h[?25l[26;14H[35m[46m{[21C}[m[33;131H59,36[26;36H[?12l[?25h[?25l[35mP}[m[46m [m[35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;65H[K[26;35H[35m[46m}[m [33;135H5[26;35H[?12l[?25h[?25l[35mI}[m[46m [m[35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;64H[K[26;34H[35m[46m}[m [33;135H4[26;34H[?12l[?25h[?25l[35mR}[m[46m [m[35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;63H[K[26;33H[35m[46m}[m [33;135H3[26;33H[?12l[?25h[?25l[35mC}[m[46m [m[35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;62H[K[26;32H[35m[46m}[m [33;135H2[26;32H[?12l[?25h[?25l[35mS}[m[46m [m[35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;61H[K[26;31H[35m[46m}[m [33;135H1[26;31H[?12l[?25h[?25l[35m_}[m[46m [m[35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;60H[K[26;30H[35m[46m}[m [33;135H0[26;30H[?12l[?25h[?25l[35m_[m[35m[46mB[m[35m}[m [35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;30H[35mB[m[35m[46m}[m[33;135H1[26;31H[?12l[?25h[?25l[35mB[m[35m[46mI[m[35m}[m [35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;31H[35mI[m[35m[46m}[m[33;135H2[26;32H[?12l[?25h[?25l[35mI[m[35m[46mB[m[35m}[m [35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;32H[35mB[m[35m[46m}[m[33;135H3[26;33H[?12l[?25h[?25l[35mB[m[35m[46mN[m[35m}[m [35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;33H[35mN[m[35m[46m}[m[33;135H4[26;34H[?12l[?25h[?25l[35mB}[m[46m [m[35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;63H[K[26;33H[35m[46m}[m [33;135H3[26;33H[?12l[?25h[?25l[35mI}[m[46m [m[35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;62H[K[26;32H[35m[46m}[m [33;135H2[26;32H[?12l[?25h[?25l[35mI[m[35m[46mN[m[35m}[m [35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[26;32H[35mN[m[35m[46m}[m[33;135H3[26;33H[?12l[?25h[?25l[33;135H4[26;34H[?12l[?25h[?25l[26;14H[35m{[18C}[m[33;135H5[26;35H[?12l[?25h[?25l[33;134H40[26;40H[?12l[?25h[?25l[33;135H2[26;42H[?12l[?25h[?25l[33;135H3[26;43H[?12l[?25h[?25l[33;135H4[26;44H[?12l[?25h[?25l[33;135H5[26;45H[?12l[?25h[?25l[26;36H[35m[46m{[10C}[m[33;135H7[26;47H[?12l[?25h[?25l[26;36H[35m{[10C}[m[33;135H9[26;49H[?12l[?25h[?25l[33;134H51[26;51H[?12l[?25h[?25l[33;135H3[26;53H[?12l[?25h[?25l[33;135H6[26;56H[?12l[?25h[?25l[33;135H8[26;58H[?12l[?25h[?25l[33;134H61[26;61H[?12l[?25h[?25l[33;135H2[26;62H[?12l[?25h[?25l[33;135H3[26;63H[?12l[?25h[?25l[33;135H2[26;62H[?12l[?25h[?25l[33;135H1[26;61H[?12l[?25h[?25l[33;135H2[26;62H[?12l[?25h[?25l[31md[m[33m"[m[26;62H[K[33;135H1[26;61H[?12l[?25h[?25l[31m.[m[33m"[m[26;61H[K[33;135H0[26;60H[?12l[?25h[?25l[31mt[m[33m"[m[26;60H[K[33;134H59[26;59H[?12l[?25h[?25l[31mi[m[33m"[m[26;59H[K[33;135H8[26;58H[?12l[?25h[?25l[31mn[m[33m"[m[26;58H[K[33;135H7[26;57H[?12l[?25h[?25l[31mi[m[33m"[m[26;57H[K[33;135H6[26;56H[?12l[?25h[?25l[31m/[m[33m"[m[26;56H[K[33;135H5[26;55H[?12l[?25h[?25l[31mc[m[33m"[m[26;55H[K[33;135H4[26;54H[?12l[?25h[?25l[31mt[m[33m"[m[26;54H[K[33;135H3[26;53H[?12l[?25h[?25l[31me[m[33m"[m[26;53H[K[33;135H2[26;52H[?12l[?25h[?25l[31m/[m[33m"[m[26;52H[K[33;135H1[26;51H[?12l[?25h[?25l[31m/u[m[33m"[m[33;135H2[26;52H[?12l[?25h[?25l[31mus[m[33m"[m[33;135H3[26;53H[?12l[?25h[?25l[31mse[m[33m"[m[33;135H4[26;54H[?12l[?25h[?25l[31mer[m[33m"[m[33;135H5[26;55H[?12l[?25h[?25l[31mr/[m[33m"[m[33;135H6[26;56H[?12l[?25h[?25l[31mr[m[33m"[m[26;56H[K[33;135H5[26;55H[?12l[?25h[?25l[31me[m[33m"[m[26;55H[K[33;135H4[26;54H[?12l[?25h[?25l[31ms[m[33m"[m[26;54H[K[33;135H3[26;53H[?12l[?25h[?25l[31msr[m[33m"[m[33;135H4[26;54H[?12l[?25h[?25l[31mr/[m[33m"[m[33;135H5[26;55H[?12l[?25h[?25l[31m/b[m[33m"[m[33;135H6[26;56H[?12l[?25h[?25l[31mbi[m[33m"[m[33;135H7[26;57H[?12l[?25h[?25l[31min[m[33m"[m[33;135H8[26;58H[?12l[?25h[?25l[31mn/[m[33m"[m[33;135H9[26;59H[?12l[?25h[?25l[33;131H60,30[27;30H[?12l[?25h[?25l[28;12H[46m([13C)[m[33;132H1,27[28;27H[?12l[?25h[?25l[28;12H([13C)[29;15H[35m[46m{[10C}[m[33;132H2[29;27H[?12l[?25h[?25l[29;15H[35m{[10C}[m[33;132H3,6 [30;6H[?12l[?25h[?25l[33;132H4,58[31;58H[?12l[?25h[?25l[33;135H7[31;57H[?12l[?25h[?25l[31md[m[33m"[m[31;57H[K[33;135H6[31;56H[?12l[?25h[?25l[31m.[m[33m"[m[31;56H[K[33;135H5[31;55H[?12l[?25h[?25l[31mt[m[33m"[m[31;55H[K[33;135H4[31;54H[?12l[?25h[?25l[31mi[m[33m"[m[31;54H[K[33;135H3[31;53H[?12l[?25h[?25l[31mn[m[33m"[m[31;53H[K[33;135H2[31;52H[?12l[?25h[?25l[31mi[m[33m"[m[31;52H[K[33;135H1[31;51H[?12l[?25h[?25l[31m/[m[33m"[m[31;51H[K[33;135H0[31;50H[?12l[?25h[?25l[31mc[m[33m"[m[31;50H[K[33;134H49[31;49H[?12l[?25h[?25l[31mt[m[33m"[m[31;49H[K[33;135H8[31;48H[?12l[?25h[?25l[31me[m[33m"[m[31;48H[K[33;135H7[31;47H[?12l[?25h[?25l[31m/[m[33m"[m[31;47H[K[33;135H6[31;46H[?12l[?25h[?25l[31m/s[m[33m"[m[33;135H7[31;47H[?12l[?25h[?25l[31m/[m[33m"[m[31;47H[K[33;135H6[31;46H[?12l[?25h[?25l[31m/u[m[33m"[m[33;135H7[31;47H[?12l[?25h[?25l[31mus[m[33m"[m[33;135H8[31;48H[?12l[?25h[?25l[31msr[m[33m"[m[33;135H9[31;49H[?12l[?25h[?25l[31mr/[m[33m"[m[33;134H50[31;50H[?12l[?25h[?25l[31m/b[m[33m"[m[33;135H1[31;51H[?12l[?25h[?25l[31mbi[m[33m"[m[33;135H2[31;52H[?12l[?25h[?25l[31min[m[33m"[m[33;135H3[31;53H[?12l[?25h[?25l[31mn/[m[33m"[m[33;135H4[31;54H[?12l[?25h[33;1H[K[31;53H[?25l[33;130H264,53[8C74%[31;53H[?12l[?25h[?25l[33;132H5,7 [32;7H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[13;29H[36m[46m{[32;1H}[m[33;130H[K[33;130H266,1[9C75%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[12;29H[36m{[31;1H}[m[33;130H[K[33;130H267,0-1[7C75%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H268,28[8C75%[32;28H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H269,28[8C76%[32;28H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[32;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H270,53[8C76%[31;53H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H271,16[8C76%[32;16H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[27;28H[36m[46m{[32;1H}[m[33;130H[K[33;130H272,1[9C77%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[26;28H[36m{[31;1H}[m[33;130H[K[33;130H273,0-1[7C77%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#### db insert ####[m[33;130H[K[33;130H274,19[8C77%[32;19H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H275,26[8C78%[32;26H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H276,10[8C78%[32;10H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H277,29[8C78%[32;29H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mIP_CONF[m=[46m([m[35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m[46m)[m[33;130H[K[33;130H278,26[8C78%[32;26H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[31;12H([13C)
   [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H279,28[8C79%[32;28H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mfor [mID [33min[m [35m$[m[35m[46m{[m[35mSTACK_ID[[m@[35m][m[35m[46m}[m[33;130H[K[33;130H280,27[8C79%[32;27H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[31;15H[35m{[11C}[m
   [33mdo[m[33;130H[K[33;130H281,5[9C79%[32;5H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;6H [36mHOST[m=[35m$[m[35m[46m{[m[35mSTACK_HOST[$COUNT][m[35m[46m}[m[32;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H282,32[8C80%[31;32H[?12l[?25h[?25l[31;13H[35m{[18C}[m[33;132H3,31[32;31H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H284,53[8C80%[32;53H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33melse[m[33;130H[K[33;130H285,10[8C81%[32;10H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H286,53[8C81%[32;53H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H287,8[9C81%[32;8H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H288,26[8C82%[32;26H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mdone[m[33;130H[K[33;130H289,7[9C82%[32;7H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[17;26H[36m[46m{[32;1H}[m[33;130H[K[33;130H290,1[9C82%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[16;26H[36m{[31;1H}[m
[34m###################[m[33;130H[K[33;130H291,19[8C83%[32;19H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;130H[K[33;130H292,0-1[7C83%[32;1H[?12l[?25h[?25l[33;132H1,19 [31;19H[?12l[?25h[?25l[15;26H[36m[46m{[30;1H}[m[33;132H0,1 [30;1H[?12l[?25h[?25l[15;26H[36m{[30;1H}[m[33;131H89,7[29;7H[?12l[?25h[?25l[33;132H8,26[28;26H[?12l[?25h[?25l[33;132H7,8 [27;8H[?12l[?25h[?25l[33;132H6,53[26;53H[?12l[?25h[?25l[33;132H5,10[25;10H[?12l[?25h[?25l[33;132H4,53[24;53H[?12l[?25h[?25l[33;132H3,31[23;31H[?12l[?25h[?25l[22;13H[35m[46m{[18C}[m[33;132H2,32[22;32H[?12l[?25h[?25l[22;13H[35m{[18C}[m[33;132H1,5 [21;5H[?12l[?25h[?25l[20;15H[35m[46m{[11C}[m[33;132H0,27[20;27H[?12l[?25h[?25l[20;15H[35m{[11C}[m[33;131H79,28[19;28H[?12l[?25h[?25l[18;12H[46m([13C)[m[33;132H8,26[18;26H[?12l[?25h[?25l[18;12H([13C)[33;132H7,29[17;29H[?12l[?25h[?25l[33;132H6,10[16;10H[?12l[?25h[?25l[15;26H[36m[46m{[30;1H}[m[33;132H5,26[15;26H[?12l[?25h[?25l[36m{[30;1H}[m[33;132H4,19[14;19H[?12l[?25h[?25l[33;132H3,0-1[13;1H[?12l[?25h[?25l[7;28H[36m[46m{[12;1H}[m[33;132H2,1  [12;1H[?12l[?25h[?25l[7;28H[36m{[12;1H}[m[33;132H1,16[11;16H[?12l[?25h[?25l[33;132H0,53[9;53H[?12l[?25h[?25l[33;131H69,28[8;28H[?12l[?25h[?25l[7;28H[36m[46m{[12;1H}[m[33;132H8[7;28H[?12l[?25h[?25l[36m{[12;1H}[m[33;132H7,0-1[6;1H[?12l[?25h[?25l[33;132H6,1  [5;1H[?12l[?25h[?25l[33;132H5,7[4;7H[?12l[?25h[?25l[33;132H4,53[3;53H[?12l[?25h[?25l[33;132H3,5 [2;5H[?12l[?25h[?25l[1;15H[35m[46m{[10C}[m[33;132H2,26[1;26H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=[46m([m[35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m[46m)[m[2;15H[35m{[10C}[m[33;130H[K[33;130H261,26[8C83%[1;26H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[2;12H([13C)[33;130H[K[33;130H260,29[8C82%[1;29H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${MANAGER_IP}[m [33m"[m[31m/usr/bin/[m[33m"[m[33;130H[K[33;130H259,53[8C82%[1;53H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H258,8[9C82%[1;8H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H257,15[8C81%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H256,9[9C81%[1;9H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H255,15[8C81%[1;15H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H254,23[8C80%[1;23H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H253,30[8C80%[1;30H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_BIN} ${SSH_FORWARR[2;1HD_USER}@${MANAGER_IP}:"/usr/bin/" >/dev/null 2>&1[m[33;130H[K[33;130H252,53[8C79%[1;53H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H251,6[9C79%[1;6H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H250,11[8C79%[1;11H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H249,53[8C78%[1;53H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service_bin() [m[36m[46m{[20;1H}[m[33;130H[K[33;130H248,29[8C78%[1;29H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[2;29H[36m{[21;1H}[m[33;130H[K[33;130H247,53[8C78%[1;53H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H246,0-1[7C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H245,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H244,7[9C77%[1;7H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;130H[K[33;130H243,53[8C77%[1;53H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H242,5[9C76%[1;5H[?12l[?25h[?25l[33;132H3,53[2;53H[?12l[?25h[?25l[33;132H4,7 [3;7H[?12l[?25h[?25l[33;132H5,1[4;1H[?12l[?25h[?25l[33;132H6,0-1[5;1H[?12l[?25h[?25l[33;132H7,53 [6;53H[?12l[?25h[?25l[7;29H[36m[46m{[26;1H}[m[33;132H8,29[7;29H[?12l[?25h[?25l[36m{[26;1H}[m[33;132H9,53[8;53H[?12l[?25h[?25l[33;131H50,11[9;11H[?12l[?25h[?25l[33;132H1,6 [10;6H[?12l[?25h[?25l[33;132H2,53[11;53H[?12l[?25h[?25l[33;132H3,30[13;30H[?12l[?25h[?25l[33;132H4,23[14;23H[?12l[?25h[?25l[33;132H5,15[15;15H[?12l[?25h[?25l[33;132H6,9 [16;9H[?12l[?25h[?25l[33;132H7,15[17;15H[?12l[?25h[?25l[33;132H8,8 [18;8H[?12l[?25h[?25l[33;132H9,53[19;53H[?12l[?25h[?25l[33;131H60,29[20;29H[?12l[?25h[?25l[21;12H[46m([13C)[m[33;132H1,26[21;26H[?12l[?25h[?25l[21;12H([13C)[22;15H[35m[46m{[10C}[m[33;132H2[22;26H[?12l[?25h[?25l[22;15H[35m{[10C}[m[33;132H3,5 [23;5H[?12l[?25h[?25l[33;132H4,53[24;53H[?12l[?25h[?25l[33;132H5,7 [25;7H[?12l[?25h[?25l[7;29H[36m[46m{[26;1H}[m[33;132H6,1[26;1H[?12l[?25h[?25l[7;29H[36m{[26;1H}[m[33;132H7,0-1[27;1H[?12l[?25h[?25l[33;132H8,28 [28;28H[?12l[?25h[?25l[33;132H9[29;28H[?12l[?25h[?25l[33;131H70,53[30;53H[?12l[?25h[?25l[33;132H1,16[32;16H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[27;28H[36m[46m{[32;1H}[m[33;130H[K[33;130H272,1[9C77%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[26;28H[36m{[31;1H}[m[33;130H[K[33;130H273,0-1[7C77%[32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[34m#### db insert ####[m[33;130H[K[33;130H274,19[8C77%[32;19H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;1H[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H275,26[8C78%[32;26H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H276,10[8C78%[32;10H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H277,29[8C78%[32;29H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [36mIP_CONF[m=[46m([m[35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m[46m)[m[33;130H[K[33;130H278,26[8C78%[32;26H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[31;12H([13C)
   [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H279,28[8C79%[32;28H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;3H [33mfor [mID [33min[m [35m$[m[35m[46m{[m[35mSTACK_ID[[m@[35m][m[35m[46m}[m[33;130H[K[33;130H280,27[8C79%[32;27H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[31;15H[35m{[11C}[m
   [33mdo[m[33;130H[K[33;130H281,5[9C79%[32;5H[?12l[?25h[?25l[1;32r[1;1H[2M[1;33r[31;6H [36mHOST[m=[35m$[m[35m[46m{[m[35mSTACK_HOST[$COUNT][m[35m[46m}[m[32;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H282,32[8C80%[31;32H[?12l[?25h[?25l[31;13H[35m{[18C}[m[33;132H3,31[32;31H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H284,53[8C80%[32;53H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33melse[m[33;130H[K[33;130H285,10[8C81%[32;10H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H286,53[8C81%[32;53H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[32;6H [33mfi[m[33;130H[K[33;130H287,8[9C81%[32;8H[?12l[?25h[?25l[33;132H6,53[31;53H[?12l[?25h[?25l[33;132H5,10[30;10H[?12l[?25h[?25l[33;132H4,53[29;53H[?12l[?25h[?25l[33;132H3,31[28;31H[?12l[?25h[?25l[27;13H[35m[46m{[18C}[m[33;132H2,32[27;32H[?12l[?25h[?25l[27;13H[35m{[18C}[m[33;132H1,5 [26;5H[?12l[?25h[?25l[25;15H[35m[46m{[11C}[m[33;132H0,27[25;27H[?12l[?25h[?25l[25;15H[35m{[11C}[m[33;131H79,28[24;28H[?12l[?25h[?25l[23;12H[46m([13C)[m[33;132H8,26[23;26H[?12l[?25h[?25l[23;12H([13C)[33;132H7,29[22;29H[?12l[?25h[?25l[33;132H6,10[21;10H[?12l[?25h[?25l[33;132H5,26[20;26H[?12l[?25h[?25l[33;132H4,19[19;19H[?12l[?25h[?25l[33;132H3,0-1[18;1H[?12l[?25h[?25l[12;28H[36m[46m{[17;1H}[m[33;132H2,1  [17;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H272,1[9C81%[17;1H[?12l[?25h[33;1H[K[17;1H[?25l[33;130H272,1[9C81%[17;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H272,1[9C81%[17;1H[?12l[?25h[?25l[18;32r[18;1H[L[1;33r[17;1H[46m [m
[36m}[m[33;130H[K[33;130H273,1[9C81%[17;1H[K[18;1H[36m[46m}[?12l[?25h[?25l[m[12;28H[36m{[18;1H}[m[33;132H2[17;1H[?12l[?25h[?25l[18;32r[18;1H[L[1;33r[17;3H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${MANAGER_IP}[m [33m"[m[31m/usr/bin/[m[33m"[m[33;130H[K[33;130H273,1[9C81%[18;1H[?12l[?25h[?25l[19;32r[19;1H[4L[1;33r[18;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m
   [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)
   [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m
   [33mdo[m

[1m[37m[41m}[m


function insert_stacks[33m()[m [35m{[m[33;130H[K[33;130H277,1[9C80%[22;1H[?12l[?25h[?25l[23;32r[23;1H[L[1;33r[22;6H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${IP}[m [33m"[m[31m/usr/bin/[m[33m"[m
   [33mdone[m
[36m}


function[m [36minsert_stacks() {[m[33;130H[K[33;130H278,8[9C80%[23;8H[?12l[?25h[?25l[33;132H7[22;8H[?12l[?25h[?25l[33;132H6,6[21;6H[?12l[?25h[?25l[33;132H4,8[19;8H[?12l[?25h[?25l[33;132H2[17;8H[?12l[?25h[?25l[33;132H0[14;8H[?12l[?25h[?25l[33;131H68[12;8H[?12l[?25h[?25l[33;132H7,1[11;1H[?12l[?25h[?25l[33;132H8,8[12;8H[?12l[?25h[?25l[33;132H9[13;8H[?12l[?25h[?25l[33;134H7[13;7H[?12l[?25h[?25l[33;134H6[13;6H[?12l[?25h[?25l[33;134H4[13;4H[?12l[?25h[?25l[33;134H2[13;2H[?12l[?25h[?25l[33;134H1[13;1H[?12l[?25h[?25l[34m#   echo "Start WebService.."[m[33;134H2[13;2H[?12l[?25h[?25l[33;131H70[14;2H[?12l[?25h[?25l[33;134H1[14;1H[?12l[?25h[?25l[34m#   sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP} "see[15;1Hrvice verify_server start &" >/dev/null 2>&1 &[m[33;134H2[14;2H[?12l[?25h[?25l[33;132H1[16;2H[?12l[?25h[?25l[33;134H1[16;1H[?12l[?25h[?25l[34m#   echo "   : )"[m[33;134H2[16;2H[?12l[?25h[?25l[34m##   echo "   : )"[m[33;134H3[16;3H[?12l[?25h[?25l[33;132H2[17;3H[?12l[?25h[?25l[33;134H4[17;4H[?12l[?25h[?25l[33;134H5[17;5H[?12l[?25h[?25l[33;134H6[17;6H[?12l[?25h[?25l[33;134H17[17;17H[?12l[?25h[?25l[33;135H8[17;18H[?12l[?25h[?25l[33;134H20[17;20H[?12l[?25h[?25l[33;135H1[17;21H[?12l[?25h[?25l[33;135H2[17;22H[?12l[?25h[?25l[33;135H3[17;23H[?12l[?25h[?25l[33;135H5[17;25H[?12l[?25h[?25l[33;135H7[17;27H[?12l[?25h[?25l[33;135H9[17;29H[?12l[?25h[?25l[33;134H30[17;30H[?12l[?25h[?25l[33;135H1[17;31H[?12l[?25h[?25l[33;135H2[17;32H[?12l[?25h[?25l[17;14H[35m[46m{[18C}[m[33;135H3[17;33H[?12l[?25h[33;1H[K[17;32H[?25l[17;14H[35m{[18C}[m[33;130H272,32[8C80%[17;32H[?12l[?25h[?25l[17;32r[32;1H
[1;33r[32;3H [33mdo[m[33;130H[K[33;130H272,4[9C80%[17;4H[?12l[?25h[?25l[33;132H1[16;4H[?12l[?25h[?25l[33;134H3[16;3H[?12l[?25h[?25l[33;134H2[16;2H[?12l[?25h[?25l[33;134H1[16;1H[?12l[?25h[?25l[34m#   echo "   : )"[m[16;18H[K[16;1H[?12l[?25h[?25l   [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[16;17H[K[16;1H[?12l[?25h[?25l[33;132H0[14;1H[?12l[?25h[?25l[33;131H69[13;1H[?12l[?25h[?25l[33;131H70[14;1H[?12l[?25h[?25l   sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[15;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[15;46H[K[14;1H[?12l[?25h[?25l[33;131H69[13;1H[?12l[?25h[?25l   [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[13;29H[K[13;1H[?12l[?25h[?25l[33;131H70[14;1H[?12l[?25h[?25l[33;134H2[14;2H[?12l[?25h[?25l[33;132H1[16;2H[?12l[?25h[?25l[33;132H2[17;2H[?12l[?25h[?25l[33;132H3[18;2H[?12l[?25h[?25l[33;132H4[19;2H[?12l[?25h[?25l[33;132H5[20;2H[?12l[?25h[?25l[33;132H6[21;2H[?12l[?25h[?25l[33;134H1[21;1H[?12l[?25h[?25l[33;132H5[20;1H[?12l[?25h[?25l[33;132H4[19;1H[?12l[?25h[?25l[33;132H3[18;1H[?12l[?25h[?25l[33;132H2[17;1H[?12l[?25h[?25l[33;132H1[16;1H[?12l[?25h[?25l[33;132H0[14;1H[?12l[?25h[?25l[33;131H69[13;1H[?12l[?25h[?25l[33;131H70[14;1H[?12l[?25h[?25l[33;132H1[16;1H[?12l[?25h[?25l[33;132H2[17;1H[?12l[?25h[?25l[33;132H3[18;1H[?12l[?25h[?25l[33;132H4[19;1H[?12l[?25h[?25l[33;132H5[20;1H[?12l[?25h[?25l[33;132H6[21;1H[?12l[?25h[?25l[22;32r[22;1H[2L[1;33r[22;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[23;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[33;130H[K[33;130H277,4[9C79%[22;4H[?12l[?25h[?25l[33;132H6[21;4H[?12l[?25h[?25l[21;32r[32;1H
[1;33r[32;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H276,4[9C80%[21;4H[?12l[?25h[?25l[33;132H7[23;4H[?12l[?25h[?25l[33;132H6[21;4H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H276,4[9C80%[21;4H[?12l[?25h[?25l  sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31msee[22;1Hrvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[33;134H5[21;5H[?12l[?25h[?25l  sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mss[22;1Hervice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[33;134H6[21;6H[?12l[?25h[?25l[33;134H195[22;48H[?12l[?25h[?25l[33;136H4[22;47H[?12l[?25h[?25l[33;136H3[22;46H[?12l[?25h[?25l[33;136H1[22;44H[?12l[?25h[?25l[33;135H89[22;42H[?12l[?25h[?25l[33;136H7[22;40H[?12l[?25h[?25l[33;136H5[22;38H[?12l[?25h[?25l[33;136H3[22;36H[?12l[?25h[?25l[33;136H1[22;34H[?12l[?25h[?25l[33;135H79[22;32H[?12l[?25h[?25l[33;136H6[22;29H[?12l[?25h[?25l[33;136H4[22;27H[?12l[?25h[?25l[33;136H2[22;25H[?12l[?25h[?25l[33;136H0[22;23H[?12l[?25h[?25l[33;135H68[22;21H[?12l[?25h[?25l[33;136H6[22;19H[?12l[?25h[?25l[33;136H4[22;17H[?12l[?25h[?25l[33;136H2[22;15H[?12l[?25h[?25l[33;136H0[22;13H[?12l[?25h[?25l[33;135H57[22;10H[?12l[?25h[?25l[33;136H5[22;8H[?12l[?25h[?25l[33;136H3[22;6H[?12l[?25h[?25l[33;136H1[22;4H[?12l[?25h[?25l[33;135H49[22;2H[?12l[?25h[?25l[33;136H7[21;147H[?12l[?25h[?25l[21;133H[35m[46m{[10C}[m[2C[31mss[22;1He[m[33;136H5[21;145H[?12l[?25h[?25l[21;133H[35m{[10C}[m[2C[31mss[22;1He[m[33;136H2[21;142H[?12l[?25h[?25l[33;136H0[21;140H[?12l[?25h[?25l[33;135H39[21;139H[?12l[?25h[?25l[33;135H40[21;140H[?12l[?25h[?25l[33;136H1[21;141H[?12l[?25h[?25l[33;136H2[21;142H[?12l[?25h[?25l[35mRIP}[m [33m"[m[31msee[22;1Hrvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[22;47H[K[33;136H1[21;141H[?12l[?25h[?25l[35mEIP}[m [33m"[m[31mserr[22;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[22;46H[K[33;136H0[21;140H[?12l[?25h[?25l[35mGIP}[m [33m"[m[31mservv[22;1Hice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[22;45H[K[33;135H39[21;139H[?12l[?25h[?25l[35mAIP}[m [33m"[m[31mservii[22;1Hce verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[22;44H[K[33;136H8[21;138H[?12l[?25h[?25l[35mNIP}[m [33m"[m[31mservicc[22;1He verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[22;43H[K[33;136H7[21;137H[?12l[?25h[?25l[35mAIP}[m [33m"[m[31mservicee[22;1H verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[22;42H[K[33;136H6[21;136H[?12l[?25h[?25l[35mMIP}[m [33m"[m[31mservice  [22;1Hverify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[22;41H[K[33;136H5[21;135H[?12l[?25h[?25l[35m{IP}[m [33m"[m[31mservice vv[22;1Herify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[22;40H[K[21;133H[35m[46m{[2C}[m[10C[31mvv[22;1He[m[33;136H4[21;134H[?12l[?25h[33;1H[K[21;133H[?25l[14C[31mvv[22;1He[m[33;130H276,133[7C80%[21;133H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"bootstrap" 350L, 10529C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrap
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"bootstrap" 350L, 10529C[>c[1;1H[34m#!/bin/bash

#set -e

#SCRIPT_HOME=`dirname $0`[m
[36mSCRIPT_HOME[m=[35m$([m[33mcd[m[35m $[m[33m([m[35mdirname $0[m[33m);pwd[m[35m)[m
[33msource[m [35m$SCRIPT_HOME[m/modules

[36mfunction[m [36mshow_options () {[m
    [33mecho[m[31m [m[33m"[m[31mOptions:[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mbootstrap <configure>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m             configure options.[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_FORWARD_USER    =<ssh login user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_USER            =<exec user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_PASSWORD        =<exec user password>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_DIR             =<exec user directory>[m[33m"[m[20;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_TEMPLATE    =<Manager Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mAGENT_TEMPLATE      =<Agent Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mMANAGER_CONFLICT    =<Agent Manager and conflictf>[m[33m"[m[24;4H [33mecho[m[31m [m[33m"[m[31mINSTANCE_TYPE       =<nova flavor name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mKEY_NAME            =<nova keypair name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSUBNET              =<neutron subnet name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mexit[m [31m0[m
[36m}

function[m [36mcheck_flavor() {[m
    [36mFLAVORS[m=[35m$(nova ${AUTH_PARAMETOR} flavor-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $4} [m[33m'[m[35m)[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[27m[m[H[2J[1;1H[33msleep[m [31m1[m

[34m#exec_webserver &
#progress[m

send_service &
progress

[33msleep[m [31m1[m

send_service_bin &
progress

[33msleep[m [31m1[m

exec_webservice &
progress

[34m#### db insert ####[m
insert_stacks &
progress

[33msleep[m [31m1[m
[34m###################

### update scenarios table ###[m
/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[34m##############################[m

[33mecho[m[31m [m[33m"[m[31mbootstrap end..[m[33m"[m

[34m#echo $COUNTER[m[33;130H350,1[9CBot[32;1H[?12l[?25h[?25l[33;131H49,0-1[31;1H[?12l[?25h[?25l[33;132H8,1  [30;1H[?12l[?25h[?25l[33;132H7,0-1[29;1H[?12l[?25h[?25l[33;132H6,1  [28;1H[?12l[?25h[?25l[33;132H5[27;1H[?12l[?25h[?25l[33;132H4[26;1H[?12l[?25h[?25l[33;132H3,0-1[25;1H[?12l[?25h[?25l[33;132H2,1  [24;1H[?12l[?25h[?25l[33;132H1[23;1H[?12l[?25h[?25l[33;132H0,0-1[22;1H[?12l[?25h[?25l[33;131H39,1  [21;1H[?12l[?25h[?25l[33;132H8[20;1H[?12l[?25h[?25l[33;132H7[19;1H[?12l[?25h[?25l[33;132H6,0-1[18;1H[?12l[?25h[?25l[33;132H5,1  [17;1H[?12l[?25h[?25l[33;132H4[16;1H[?12l[?25h[?25l[33;132H3,0-1[15;1H[?12l[?25h[?25l[33;132H2,1  [14;1H[?12l[?25h[?25l[33;132H1,0-1[13;1H[?12l[?25h[?25l[33;132H0,1  [12;1H[?12l[?25h[?25l[33;131H29[11;1H[?12l[?25h[?25l[33;132H8,0-1[10;1H[?12l[?25h[?25l[33;132H7,1  [9;1H[?12l[?25h[?25l[33;132H6,0-1[8;1H[?12l[?25h[?25l[33;132H5,1  [7;1H[?12l[?25h[?25l[33;132H4[6;1H[?12l[?25h[?25l[33;132H3,0-1[5;1H[?12l[?25h[?25l[33;132H2,1  [4;1H[?12l[?25h[?25l[33;132H1[3;1H[?12l[?25h[?25l[33;132H0,0-1[2;1H[?12l[?25h[?25l[33;131H19,1  [1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H318,0-1[7C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H317,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_webserver &[33;130H[K[33;130H316,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H315,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H314,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H313,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H312,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#exec_auth &[m[33;130H[K[33;130H311,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H310,0-1[7C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H309,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H308,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H307,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#send_authscript &[m[33;130H[K[33;130H306,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H305,0-1[7C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m1[m[33;130H[K[33;130H304,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H303,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H302,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_ipaddress &[33;130H[K[33;130H301,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H300,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#echo "ManagerIP : ${MANAGER_IP}"[m[33;130H[K[33;130H299,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H298,0-1[7C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m###################[m[33;130H[K[33;130H297,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H296,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H295,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H294,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H293,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H292,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33melse[m[33;130H[K[33;130H291,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H290,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H289,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [36mHOST[m=[35m${STACK_HOST[$COUNT]}[m[33;130H[K[33;130H288,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H287,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H286,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H285,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H284,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H283,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H282,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H281,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#### db insert ####[m[33;130H[K[33;130H280,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H279,0-1[7C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H278,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H277,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;5H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${IP}[m [33m"[m[31mservice vv[2;1Herify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[33;130H[K[33;130H276,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H275,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H274,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H273,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H272,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H271,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[2;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H270,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H269,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H268,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H267,0-1[7C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H266,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H265,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${IP}[m [33m"[m[31m/usr/bin/[m[33m"[m[33;130H[K[33;130H264,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H263,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H262,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H261,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H260,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${MANAGER_IP}[m [33m"[m[31m/usr/bin/[m[33m"[m[33;130H[K[33;130H259,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H258,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H257,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H256,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H255,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H254,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H253,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_BIN} ${SSH_FORWARR[2;1HD_USER}@${MANAGER_IP}:"/usr/bin/" >/dev/null 2>&1[m[33;130H[K[33;130H252,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H251,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H250,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H249,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H248,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H247,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H246,0-1[7C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H245,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H244,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;130H[K[33;130H243,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H242,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H241,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H240,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H239,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;130H[K[33;130H238,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H237,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H236,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H235,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H234,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H233,1[9C72%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H232,1[9C72%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_SCRIPT} ${SSH_FORR[2;1HWARD_USER}@${MANAGER_IP}:"/etc/init.d/" >/dev/null 2>&1[m[33;130H[K[33;130H231,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H230,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H229,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServerService..[m[33m"[m[33;130H[K[33;130H228,1[9C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service() {[m[33;130H[K[33;130H227,1[9C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;130H[K[33;130H226,1[9C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H225,0-1[7C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[33;130H[K[33;130H224,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "   : )"[m[33;130H[K[33;130H223,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#   sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP} "/uu[2;1Hsr/bin/python ${SSH_DIR}/main_server.py &" >/dev/null 2>&1 &[m[33;130H[K[33;130H222,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "Start WebServer.."[m[33;130H[K[33;130H221,1[9C68%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#function exec_webserver() {[m[33;130H[K[33;130H220,1[9C68%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H219,0-1[7C68%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H218,1[9C67%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H217,1[9C67%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[33;130H[K[33;130H216,1[9C67%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H215,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H214,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H213,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H212,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[33;130H[K[33;130H211,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServer..[m[33m"[m[33;130H[K[33;130H210,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_webserver() {[m[33;130H[K[33;130H209,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H208,0-1[7C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H207,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H206,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H205,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H204,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H203,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H202,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H201,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${1}[m [35m${SSH_FORWARD_USER}[m@[35m${2}[m:[35m${3}[m  [2;1H[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H200,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H199,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H198,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_scp() {[m[33;130H[K[33;130H197,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H196,0-1[7C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mWEBSERVER_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/verify_server[m[33m"[m[33;130H[K[33;130H195,1[9C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#WEBSERVER_SCRIPT="${SCRIPT_HOME}/../web/main_server.py"[m[33;130H[K[33;130H194,1[9C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H193,0-1[7C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H192,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H191,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H190,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H189,1[9C58%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H188,1[9C58%[1;1H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hs[?25l[?12l[?25he[?25l[?12l[?25ht[?25l[?12l[?25h[?25l [?12l[?25hn[?25l[?12l[?25hu[?25l[?12l[?25h[?25l[1;1H[33m188 [m[34m#         break[m
[33m189 [m[34m#      fi[m
[33m190 [m[34m#      sleep 10[m
[33m191 [m[34m#   done[m
[33m192 [m[34m#}[m
[33m193 
194 [m[34m#WEBSERVER_SCRIPT="${SCRIPT_HOME}/../web/main_server.py"[m
[33m195 [m[36mWEBSERVER_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/verify_server[m[33m"
196 
197 [m[36mfunction[m [36mexec_scp() {[m
[33m198 [m   [33mwhile :
199    do
200 [m      sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${1}[m [35m${SSH_FORWARD_USER}[m@[35m${2}[m:[35m$$[m[14;1H[33m    [m[35m{3}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m
[33m201 [m      [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen
202 [m         [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"
203 [m         [33mbreak
204 [m      [33mfi
205 [m      [33msleep[m [31m10[m
[33m206 [m   [33mdone
207 [m[36m}[m
[33m208 
209 [m[36mfunction[m [36msend_webserver() {[m
[33m210 [m   [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServer..[m[33m"
211 [m   exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m
[33m212 [m   [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"
213 [m   [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)
[33m214 [m   [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m
[33m215 [m   [33mdo
216 [m      exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m
[33m217 [m   [33mdone
218 [m[36m}[m[33;130H188,1[9C58%[1;5H[?12l[?25h[?25l[27m[m[H[2J[1;1H[33m319 sleep[m [31m1[m
[33m320 
321 [m[34m#exec_webserver &[m
[33m322 [m[34m#progress[m
[33m323 
324 [msend_service &
[33m325 [mprogress
[33m326 
327 sleep[m [31m1[m
[33m328 
329 [msend_service_bin &
[33m330 [mprogress
[33m331 
332 sleep[m [31m1[m
[33m333 
334 [mexec_webservice &
[33m335 [mprogress
[33m336 
337 [m[34m#### db insert ####[m
[33m338 [minsert_stacks &
[33m339 [mprogress
[33m340 
341 sleep[m [31m1[m
[33m342 [m[34m###################[m
[33m343 
344 [m[34m### update scenarios table ###[m
[33m345 [m/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[33m346 [m[34m##############################[m
[33m347 
348 echo[m[31m [m[33m"[m[31mbootstrap end..[m[33m"
349 
350 [m[34m#echo $COUNTER[m[33;130H350,1[9CBot[32;5H[?12l[?25h[?25l[33;130H[K[33;1H:[1;1H[33m328[m[1;5H[K[2;2H[33m29 [msend_service_bin &
[33m330 [mprogress[3;13H[K[4;1H[33m331[m[4;5H[K[5;1H[33m332 sleep[m [31m1[m
[33m333[m[6;5H[K[7;1H[33m334 [mexec_webservice &
[33m335 [mprogress
[33m336[m[9;5H[K[10;1H[33m337 [m[34m#### db insert ####[m
[33m338 [minsert_stacks &[11;20H[K[12;2H[33m39
340
341
342 [m[34m###################[m
[33m343[m[16;5H[K[17;1H[33m344 [m[34m### update scenarios table ###[m
[33m345 [m/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[33m346[m[4C[34m###########################[m
[33m347[m[20;5H[K[21;1H[33m348 echo[m[31m [m[33m"[m[31mbootstrap end..[m[33m"
349
350 [m[34m#echo $COUNTER[m
[7mbootstrap                                                                                                                        350,1          Bot[m[25;1H[1m[34m:[m[33m 24 [m[31mset nu [m
[1m[34m:[m[33m 25 [m[31mq![m[26;8H[K[27;1H[1m[34m:[m[33m 26 [m[31mw[m[27;7H[K[28;1H[1m[34m:[m[33m 27 [m[31mq[m[28;7H[K[29;1H[1m[34m:[m[33m 28 [m[31mwq![m
[1m[34m:[m[33m 29 [m[31mset nu[m[30;12H[K[31;1H[1m[34m:[m[33m 30 [m
[1m[7m[Command Line]                                                                                                                   30,0-1         Bot[31;6H[?12l[?25h[?25l[m[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[31;1H[33m 30 [m[31;5H[K[1;1H[33m319 sleep[m [31m1[m[2;2H[33m20[m[2;5H[K[3;1H[33m321 [m[34m#exec_webserver &[m
[33m322 [m[34m#progress[m
[33m323[m[5;5H[K[6;1H[33m324 [msend_service &
[33m325 [mprogress[7;13H[K[8;1H[33m326[m[8;5H[K[9;1H[33m327 sleep[m [31m1[m
[33m328[m[10;5H[K[11;1H[33m329 [msend_service_bin &[12;2H[33m30
331
332
333[m[15;5H[K[16;1H[33m334 [mexec_webservice &
[33m335 [mprogress[17;13H[K[18;1H[33m336[m[18;5H[K[19;1H[33m337[m[4C[34m# db insert [m[19;24H[K[20;1H[33m338 [minsert_stacks &
[33m339 [mprogress[21;13H[K[22;2H[33m40
341 sleep[m [31m1[m[23;12H[K[24;1H[33m342 [m[34m###################[m[24;24H[K[25;1H[33m343 [m[25;5H[K[26;1H[33m344 [m[34m### update scenarios table ###[m
[33m345 [m/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[33m346 [m[34m##############################[m
[33m347 [m[29;5H[K[30;1H[33m348 echo[m[31m [m[33m"[m[31mbootstrap end..[m[33m"
349
350 [m[34m#echo $COUNTER[m[32;19H[K[33;130H350,1[9CBot[32;5H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrap
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"bootstrap" 350L, 10529C[>c[1;1H[34m#!/bin/bash

#set -e

#SCRIPT_HOME=`dirname $0`[m
[36mSCRIPT_HOME[m=[35m$([m[33mcd[m[35m $[m[33m([m[35mdirname $0[m[33m);pwd[m[35m)[m
[33msource[m [35m$SCRIPT_HOME[m/modules

[36mfunction[m [36mshow_options () {[m
    [33mecho[m[31m [m[33m"[m[31mOptions:[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mbootstrap <configure>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m             configure options.[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_FORWARD_USER    =<ssh login user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_USER            =<exec user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_PASSWORD        =<exec user password>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_DIR             =<exec user directory>[m[33m"[m[20;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_TEMPLATE    =<Manager Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mAGENT_TEMPLATE      =<Agent Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mMANAGER_CONFLICT    =<Agent Manager and conflictf>[m[33m"[m[24;4H [33mecho[m[31m [m[33m"[m[31mINSTANCE_TYPE       =<nova flavor name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mKEY_NAME            =<nova keypair name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSUBNET              =<neutron subnet name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mexit[m [31m0[m
[36m}

function[m [36mcheck_flavor() {[m
    [36mFLAVORS[m=[35m$(nova ${AUTH_PARAMETOR} flavor-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $4} [m[33m'[m[35m)[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[27m[m[H[2J[1;1H[33msleep[m [31m1[m

[34m#exec_webserver &
#progress[m

send_service &
progress

[33msleep[m [31m1[m

send_service_bin &
progress

[33msleep[m [31m1[m

exec_webservice &
progress

[34m#### db insert ####[m
insert_stacks &
progress

[33msleep[m [31m1[m
[34m###################

### update scenarios table ###[m
/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[34m##############################[m

[33mecho[m[31m [m[33m"[m[31mbootstrap end..[m[33m"[m

[34m#echo $COUNTER[m[33;130H350,1[9CBot[32;1H[?12l[?25h[?25l[33;131H49,0-1[31;1H[?12l[?25h[?25l[33;132H8,1  [30;1H[?12l[?25h[?25l[33;132H7,0-1[29;1H[?12l[?25h[?25l[33;132H6,1  [28;1H[?12l[?25h[?25l[33;132H5[27;1H[?12l[?25h[?25l[33;132H4[26;1H[?12l[?25h[?25l[33;132H3,0-1[25;1H[?12l[?25h[?25l[33;132H2,1  [24;1H[?12l[?25h[?25l[33;132H1[23;1H[?12l[?25h[?25l[33;132H0,0-1[22;1H[?12l[?25h[?25l[33;131H39,1  [21;1H[?12l[?25h[?25l[33;132H8[20;1H[?12l[?25h[?25l[33;132H7[19;1H[?12l[?25h[?25l[33;132H6,0-1[18;1H[?12l[?25h[?25l[33;132H5,1  [17;1H[?12l[?25h[?25l[33;132H4[16;1H[?12l[?25h[?25l[33;132H3,0-1[15;1H[?12l[?25h[?25l[33;132H2,1  [14;1H[?12l[?25h[?25l[33;132H1,0-1[13;1H[?12l[?25h[?25l[33;132H0,1  [12;1H[?12l[?25h[?25l[33;131H29[11;1H[?12l[?25h[?25l[33;132H8,0-1[10;1H[?12l[?25h[?25l[33;132H7,1  [9;1H[?12l[?25h[?25l[33;132H6,0-1[8;1H[?12l[?25h[?25l[33;132H5,1  [7;1H[?12l[?25h[?25l[33;132H4[6;1H[?12l[?25h[?25l[33;132H3,0-1[5;1H[?12l[?25h[?25l[33;132H2,1  [4;1H[?12l[?25h[?25l[33;132H1[3;1H[?12l[?25h[?25l[33;132H0,0-1[2;1H[?12l[?25h[?25l[33;131H19,1  [1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H318,0-1[7C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H317,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_webserver &[33;130H[K[33;130H316,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H315,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H314,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H313,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H312,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#exec_auth &[m[33;130H[K[33;130H311,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H310,0-1[7C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H309,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H308,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H307,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#send_authscript &[m[33;130H[K[33;130H306,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H305,0-1[7C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m1[m[33;130H[K[33;130H304,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H303,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H302,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_ipaddress &[33;130H[K[33;130H301,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H300,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#echo "ManagerIP : ${MANAGER_IP}"[m[33;130H[K[33;130H299,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H298,0-1[7C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m###################[m[33;130H[K[33;130H297,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H296,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H295,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H294,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H293,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H292,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33melse[m[33;130H[K[33;130H291,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H290,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H289,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [36mHOST[m=[35m${STACK_HOST[$COUNT]}[m[33;130H[K[33;130H288,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H287,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H286,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H285,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H284,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H283,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H282,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H281,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#### db insert ####[m[33;130H[K[33;130H280,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H279,0-1[7C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H278,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H277,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;5H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${IP}[m [33m"[m[31mservice vv[2;1Herify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[33;130H[K[33;130H276,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H275,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H274,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H273,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H272,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H271,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[2;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H270,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H269,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H268,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H267,0-1[7C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H266,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H265,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${IP}[m [33m"[m[31m/usr/bin/[m[33m"[m[33;130H[K[33;130H264,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H263,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H262,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H261,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H260,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${MANAGER_IP}[m [33m"[m[31m/usr/bin/[m[33m"[m[33;130H[K[33;130H259,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H258,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H257,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H256,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H255,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H254,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H253,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_BIN} ${SSH_FORWARR[2;1HD_USER}@${MANAGER_IP}:"/usr/bin/" >/dev/null 2>&1[m[33;130H[K[33;130H252,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H251,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H250,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H249,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H248,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H247,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H246,0-1[7C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H245,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H244,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;130H[K[33;130H243,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H242,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H241,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H240,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H239,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;130H[K[33;130H238,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H237,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H236,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H235,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H234,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H233,1[9C72%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H232,1[9C72%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_SCRIPT} ${SSH_FORR[2;1HWARD_USER}@${MANAGER_IP}:"/etc/init.d/" >/dev/null 2>&1[m[33;130H[K[33;130H231,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H230,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H229,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServerService..[m[33m"[m[33;130H[K[33;130H228,1[9C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service() {[m[33;130H[K[33;130H227,1[9C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;130H[K[33;130H226,1[9C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H225,0-1[7C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[33;130H[K[33;130H224,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "   : )"[m[33;130H[K[33;130H223,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#   sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP} "/uu[2;1Hsr/bin/python ${SSH_DIR}/main_server.py &" >/dev/null 2>&1 &[m[33;130H[K[33;130H222,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "Start WebServer.."[m[33;130H[K[33;130H221,1[9C68%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#function exec_webserver() {[m[33;130H[K[33;130H220,1[9C68%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H219,0-1[7C68%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H218,1[9C67%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H217,1[9C67%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[33;130H[K[33;130H216,1[9C67%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H215,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H214,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H213,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H212,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[33;130H[K[33;130H211,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServer..[m[33m"[m[33;130H[K[33;130H210,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_webserver() {[m[33;130H[K[33;130H209,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H208,0-1[7C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H207,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H206,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H205,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H204,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H203,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H202,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H201,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${1}[m [35m${SSH_FORWARD_USER}[m@[35m${2}[m:[35m${3}[m  [2;1H[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H200,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H199,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H198,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_scp() {[m[33;130H[K[33;130H197,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H196,0-1[7C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mWEBSERVER_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/verify_server[m[33m"[m[33;130H[K[33;130H195,1[9C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#WEBSERVER_SCRIPT="${SCRIPT_HOME}/../web/main_server.py"[m[33;130H[K[33;130H194,1[9C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H193,0-1[7C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H192,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H191,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H190,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H189,1[9C58%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H188,1[9C58%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H187,1[9C58%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H186,1[9C57%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP}  [2;1H${SSH_DIR}/manager_authentication.sh >/dev/null 2>&1[m[33;130H[K[33;130H185,1[9C57%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H184,1[9C57%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H183,1[9C56%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "Replace start an RSA key between applications.."[m[33;130H[K[33;130H182,1[9C56%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#function exec_auth() {[m[33;130H[K[33;130H181,1[9C56%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H180,0-1[7C55%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[33;130H[K[33;130H179,1[9C55%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H178,1[9C55%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H177,1[9C55%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H176,1[9C54%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H175,1[9C54%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H174,1[9C54%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H173,1[9C53%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${AUTH_SCRIPT} ${SSH_FORWARD_USER}}[2;1H@${MANAGER_IP}:${SSH_DIR} >/dev/null 2>&1[m[33;130H[K[33;130H172,1[9C53%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H171,1[9C52%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H170,1[9C52%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "Transferred to the Manager of the shell RSA key.."[m[33;130H[K[33;130H169,1[9C52%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#function send_authscript() {[m[33;130H[K[33;130H168,1[9C52%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#AUTH_SCRIPT="${SCRIPT_HOME}/manager_authentication.sh"[m[33;130H[K[33;130H167,1[9C51%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H166,0-1[7C51%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H165,1[9C51%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H164,1[9C50%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNTER[m=[35m${COUNTER}[m+[31m1[m[33;130H[K[33;130H163,1[9C50%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H162,1[9C50%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H161,1[9C50%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H160,1[9C49%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H159,1[9C49%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[33;130H[K[33;130H158,1[9C49%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${OUTPUT_IPADDRESS}[m [35m${SSH_FORWARD_UU[2;1HSER}[m@[35m${MANAGER_IP}[m:[35m${SSH_DIR}[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H157,1[9C48%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H156,1[9C48%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H155,1[9C48%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransfer of App IPs information to Manager..[m[33m"[m[33;130H[K[33;130H154,1[9C47%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   sudo ssh-keygen -f "/root/.ssh/known_hosts" -R ${MANAGER_IP}[m[33;130H[K[33;130H153,1[9C47%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_ipaddress() {[m[33;130H[K[33;130H152,1[9C47%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H151,0-1[7C46%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mCOUNTER[m=[31m0[m[33;130H[K[33;130H150,1[9C46%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H149,0-1[7C46%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mNETNS_ID[m=[35m`get_netns $SUBNET_UUID`[m[33;130H[K[33;130H148,1[9C45%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hget_ipaddress[33;130H[K[33;130H147,1[9C45%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m15[m[33;130H[K[33;130H146,1[9C45%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H145,0-1[7C45%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mdone[m[33;130H[K[33;130H144,1[9C44%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mlet[m [36mCOUNTER[m=[35m${COUNTER}[m+[31m1[m[33;130H[K[33;130H143,1[9C44%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [36mSTACK_HOST+[m=([35m${HOST}[m[1m[37m[41m)[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H142,1[9C44%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H create_heat [33m"[m[31maz-[m[35m${HOST}[m[33m"[m [35m$INSTANCE_TYPE[m [35m$KEY_NAME[m [35m$SUBNET_UUID[m [35m$AGENT_TEMPLATE[m [33m"[m[35m${HOST}[m[31m-[m[35m${SCENARIO}[m[31m-ag[m[33m"[m[33;130H[K[33;130H141,1[9C43%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mfi[m[33;130H[K[33;130H140,1[9C43%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;7H [36mSTACK_HOST+[m=([35m${HOST}[m[1m[37m[41m)[m[33;130H[K[33;130H139,1[9C43%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;7H create_heat [33m"[m[31maz-[m[35m${HOST}[m[33m"[m [35m$INSTANCE_TYPE[m [35m$KEY_NAME[m [35m$SUBNET_UUID[m [35m$MANAGER_TEMPLATE[m [33m"[m[35m${HOST}[m[31m-[m[35m${SCENARIO}[m[31m-mn[m[33m"[m[33;130H[K[33;130H138,1[9C42%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mif [[m [35m$COUNTER[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H137,1[9C42%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31mProvisioning Host ([m[35m$HOST[m[31m)[m[33m"[m[33;130H[K[33;130H136,1[9C42%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mfor [mHOST [33min[m [35m$HOSTS[m; [33mdo[m[33;130H[K[33;130H135,1[9C42%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H134,0-1[7C41%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mSTACK_HOST[m=[35m()[m[33;130H[K[33;130H133,1[9C41%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mCOUNTER[m=[31m0[m[33;130H[K[33;130H132,1[9C41%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mSUBNET_UUID[m=[35m`get_subnet_uuid $SUBNET`[m[33;130H[K[33;130H131,1[9C40%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mHOSTS[m=[35m$(sudo nova-manage service list [m[33m|[m[35m awk [m[33m"[m[31m/nova-compute/ {print [m[35m\$[m[31m2}[m[33m"[m[35m)[m[33;130H[K[33;130H130,1[9C40%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H129,0-1[7C40%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mfi[m[33;130H[K[33;130H128,1[9C39%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mexit[m [31m1[m[33;130H[K[33;130H127,1[9C39%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;4H [33mecho[m[31m [m[33m"[m[31moptions fail.[m[33m"[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H126,1[9C39%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33mif [[m [33m"[m[31m0[m[33m"[m [33m=[m [35m`check_flavor [m[33m"[m[35m${INSTANCE_TYPE}[m[33m"[m[35m`[m [33m];[m [33mthen[m[33;130H[K[33;130H125,1[9C38%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H124,0-1[7C38%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[35m${SCRIPT_HOME}[m/keypair_create [35m$KEY_NAME[m [35m$2[m[33;130H[K[33;130H123,1[9C38%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[35m${SCRIPT_HOME}[m/availability_zone_create [35m$2[m[33;130H[K[33;130H122,1[9C38%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H121,0-1[7C37%[1;1H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ nova list

]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf /[K../log/pingw[K2 
/home/openstack/bootstrap/scripts/../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
..............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................   : )
.

wait..
.Transferred to the Virtual machine of the WebServer..
....................................   : )
.....................................................................................................................................................................................................................................................................................................................................................................   : )
................................   : )
.

wait..
.ransferred to the Virtual machine of the WebServerService..
   sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP} "service verify_server start &" >/dev/null 2>&1 &......................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................   : )
....................................   : )
................................   : )
.

wait..
.ransferred to the Manager of the WebServerBin..
...............................   : )
..................................   : )
.

wait..
.Start WebService..
   : )
.

wait..
.Insert is Stacks..
.

bootstrap end..
^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ nova list
+--------------------------------------+----------------------------------------------+--------+-----------------------+
| ID                                   | Name                                         | Status | Networks              |
+--------------------------------------+----------------------------------------------+--------+-----------------------+
| 55733ff4-eec6-4922-b144-701c94efcd17 | ubuntu-com1-ping2-ag-TestServer-is3pgzxgyejx | ACTIVE | private01=10.10.10.17 |
| 3fa7735c-cc4e-473c-a39c-8e460a0d93ed | ubuntu-com1-ping2-mn-TestServer-5ol7bpk5i4ey | ACTIVE | private01=10.10.10.14 |
| e3304250-4de0-4a62-aa01-03897cf4c7b0 | ubuntu-com2-ping2-ag-TestServer-kjunh62snyvw | ACTIVE | private01=10.10.10.19 |
+--------------------------------------+----------------------------------------------+--------+-----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/etc/init.d/verify_server 
availability_zone_create  db_heat.py                db_neutron.py             db_wrapper_sh.py          manager/
bootstrap                 db_heat.pyc               db_neutron.pyc            dummy_sqlite.py           modules
bootstrap_bk              db_heat_sh.py             db_neutron_sh.py          keypair_create            test
credentials.py            db_manager.py             db_wrapper.py             log.py                    test.py
credentials.pyc           db_manager.pyc            db_wrapper.pyc            log.pyc                   test_select.py
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/etc/init.d/verify_server 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"manager/etc/init.d/verify_server" 166L, 4548C[>c[1;1H[34m#! /bin/sh
### BEGIN INIT INFO
# Provides:          bootstrap
# Required-Start:    $remote_fs $syslog
# Required-Stop:     $remote_fs $syslog
# Default-Start:     2 3 4 5
# Default-Stop:      0 1 6
# Short-Description: Starts is Bootstrap Server
# Description:       Starts Bootstrap using start-stop-daemon
#                    placed in /etc/init.d.
### END INIT INFO

# Author: Foo Bar <foobar@baz.org>
#
# Please remove the "Author" lines above and replace them
# with your own name if you copy and modify this script.

# Do NOT "set -e"

# PATH should only include /usr/* if it runs after the mountnfs.sh script[m
[36mPATH[m=/sbin:/usr/sbin:/bin:/usr/bin
[36mDESC[m=[33m"[m[31mBootstrap Server Process[m[33m"[m
[36mNAME[m=verigy_server
[36mDAEMON[m=/usr/bin/[35m$NAME[m
[36mDAEMON_ARGS[m=[33m"[m[31m/home/openstack [m[33m"[m[35m$NAME[m
[36mPIDFILE[m=/var/run/[35m$NAME[m.pid
[36mSCRIPTNAME[m=/etc/init.d/[35m$NAME[m

[34m# Exit if the package is not installed[m
[33m[[m [33m-x[m [33m"[m[35m$DAEMON[m[33m"[m [33m][m || [33mexit[m [31m0[m

[34m# Read configuration variable file if it is present[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3[3;1H[?12l[?25h[?25l[33;130H4[4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7[7;1H[?12l[?25h[?25l[33;130H8[8;1H[?12l[?25h[?25l[33;130H9[9;1H[?12l[?25h[?25l[33;130H10,1[10;1H[?12l[?25h[?25l[33;131H1[11;1H[?12l[?25h[?25l[33;131H2,0-1[12;1H[?12l[?25h[?25l[33;131H3,1  [13;1H[?12l[?25h[?25l[33;131H4[14;1H[?12l[?25h[?25l[33;131H5[15;1H[?12l[?25h[?25l[33;131H6[16;1H[?12l[?25h[?25l[33;131H7,0-1[17;1H[?12l[?25h[?25l[33;131H8,1  [18;1H[?12l[?25h[?25l[33;131H9,0-1[19;1H[?12l[?25h[?25l[33;130H20,1  [20;1H[?12l[?25h[?25l[33;131H1[21;1H[?12l[?25h[?25l[33;131H2[22;1H[?12l[?25h[?25l[33;131H3[23;1H[?12l[?25h[?25l[33;133H2[23;2H[?12l[?25h[?25l[33;133H3[23;3H[?12l[?25h[?25l[33;133H4[23;4H[?12l[?25h[?25l[33;133H5[23;5H[?12l[?25h[?25l[33;133H6[23;6H[?12l[?25h[?25l[33;133H7[23;7H[?12l[?25h[?25l[33;133H8[23;8H[?12l[?25h[?25l[33;133H9[23;9H[?12l[?25h[?25l[33;133H10[23;10H[?12l[?25h[?25l[33;134H1[23;11H[?12l[?25h[?25l[33;134H0[23;10H[?12l[?25h[?25liy_server[23;18H[K[23;10H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H23,10[9CTop[23;10H[?12l[?25h[?25lify_server[33;134H1[23;11H[?12l[?25h[33;1H[K[23;10H[?25l[33;130H23,10[9CTop[23;10H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"manager/etc/init.d/verify_server" 166L, 4548C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/etc/init.d/verify_server [K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K[K/usr/bin/verify_server 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"manager/usr/bin/verify_server" 21L, 419C[>c[1;1H[34m#!/usr/bin/env python
# coding: utf-8[m

[35mimport[m os
[35mimport[m signal
[35mimport[m sys
[35mimport[m subprocess

[33mif[m __name__ == [31m"__main__"[m:[10;8H sys.path.append(sys.argv[[31m1[m])[11;8H os.chdir(sys.argv[[31m1[m])[12;8H log_path=sys.argv[[31m1[m] + [31m"/"[m + sys.argv[[31m2[m] + [31m".log"[m[13;8H [33mtry[m:[14;24H f=[36mopen[m(log_path, [31m"w"[m)[15;8H [33mexcept[m [32mIOError[m:[16;24H sys.exit([31m1[m)[17;8H [33mtry[m:[18;16H subprocess.Popen([[31m"/usr/bin/python"[m, sys.argv[[31m1[m] + [31m"/"[m + sys.argv[[31m2[m]], stdout=f, stderr=f)[19;8H [33mexcept[m [32mOSError[m:[20;24H sys.exit([31m1[m)

[1m[34m~                                                                                                                                                  [23;1H~                                                                                                                                                  [24;1H~                                                                                                                                                  [25;1H~                                                                                                                                                  [26;1H~                                                                                                                                                  [27;1H~                                                                                                                                                  [28;1H~                                                                                                                                                  [29;1H~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi manager/usr/bin/verify_server [3@etc/init.d[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cnova list[Kls[Knova listvi manager/etc/init.d/verify_server [3Pusr/bin[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Kheat stak[Kck-list

]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf /[K../log/ping2 
/home/openstack/bootstrap/scripts/../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................   : )
.

wait..
.Transferred to the Virtual machine of the WebServer..
.................................   : )
....................................................................................................................................................   : )
.............................................   : )
.

wait..
.ransferred to the Virtual machine of the WebServerService..
^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrap
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"bootstrap" 350L, 10529C[>c[1;1H[34m#!/bin/bash

#set -e

#SCRIPT_HOME=`dirname $0`[m
[36mSCRIPT_HOME[m=[35m$([m[33mcd[m[35m $[m[33m([m[35mdirname $0[m[33m);pwd[m[35m)[m
[33msource[m [35m$SCRIPT_HOME[m/modules

[36mfunction[m [36mshow_options () {[m
    [33mecho[m[31m [m[33m"[m[31mOptions:[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mbootstrap <configure>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m             configure options.[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_FORWARD_USER    =<ssh login user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_USER            =<exec user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_PASSWORD        =<exec user password>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_DIR             =<exec user directory>[m[33m"[m[20;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_TEMPLATE    =<Manager Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mAGENT_TEMPLATE      =<Agent Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mMANAGER_CONFLICT    =<Agent Manager and conflictf>[m[33m"[m[24;4H [33mecho[m[31m [m[33m"[m[31mINSTANCE_TYPE       =<nova flavor name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mKEY_NAME            =<nova keypair name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSUBNET              =<neutron subnet name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mexit[m [31m0[m
[36m}

function[m [36mcheck_flavor() {[m
    [36mFLAVORS[m=[35m$(nova ${AUTH_PARAMETOR} flavor-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $4} [m[33m'[m[35m)[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[27m[m[H[2J[1;1H[33msleep[m [31m1[m

[34m#exec_webserver &
#progress[m

send_service &
progress

[33msleep[m [31m1[m

send_service_bin &
progress

[33msleep[m [31m1[m

exec_webservice &
progress

[34m#### db insert ####[m
insert_stacks &
progress

[33msleep[m [31m1[m
[34m###################

### update scenarios table ###[m
/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[34m##############################[m

[33mecho[m[31m [m[33m"[m[31mbootstrap end..[m[33m"[m

[34m#echo $COUNTER[m[33;130H350,1[9CBot[32;1H[?12l[?25h[?25l[33;131H49,0-1[31;1H[?12l[?25h[?25l[33;132H8,1  [30;1H[?12l[?25h[?25l[33;132H7,0-1[29;1H[?12l[?25h[?25l[33;132H6,1  [28;1H[?12l[?25h[?25l[33;132H5[27;1H[?12l[?25h[?25l[33;132H4[26;1H[?12l[?25h[?25l[33;132H3,0-1[25;1H[?12l[?25h[?25l[33;132H2,1  [24;1H[?12l[?25h[?25l[33;132H1[23;1H[?12l[?25h[?25l[33;132H0,0-1[22;1H[?12l[?25h[?25l[33;131H39,1  [21;1H[?12l[?25h[?25l[33;132H8[20;1H[?12l[?25h[?25l[33;132H7[19;1H[?12l[?25h[?25l[33;132H6,0-1[18;1H[?12l[?25h[?25l[33;132H5,1  [17;1H[?12l[?25h[?25l[33;132H4[16;1H[?12l[?25h[?25l[33;132H3,0-1[15;1H[?12l[?25h[?25l[33;132H2,1  [14;1H[?12l[?25h[?25l[33;132H1,0-1[13;1H[?12l[?25h[?25l[33;132H0,1  [12;1H[?12l[?25h[?25l[33;131H29[11;1H[?12l[?25h[?25l[33;132H8,0-1[10;1H[?12l[?25h[?25l[33;132H7,1  [9;1H[?12l[?25h[?25l[33;132H6,0-1[8;1H[?12l[?25h[?25l[33;132H5,1  [7;1H[?12l[?25h[?25l[33;132H4[6;1H[?12l[?25h[?25l[33;132H3,0-1[5;1H[?12l[?25h[?25l[33;132H2,1  [4;1H[?12l[?25h[?25l[33;132H1[3;1H[?12l[?25h[?25l[33;132H0,0-1[2;1H[?12l[?25h[?25l[33;131H19,1  [1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H318,0-1[7C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H317,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_webserver &[33;130H[K[33;130H316,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H315,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H314,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H313,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H312,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#exec_auth &[m[33;130H[K[33;130H311,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H310,0-1[7C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H309,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H308,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H307,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#send_authscript &[m[33;130H[K[33;130H306,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H305,0-1[7C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m1[m[33;130H[K[33;130H304,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H303,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H302,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_ipaddress &[33;130H[K[33;130H301,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H300,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#echo "ManagerIP : ${MANAGER_IP}"[m[33;130H[K[33;130H299,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H298,0-1[7C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m###################[m[33;130H[K[33;130H297,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H296,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H295,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H294,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H293,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H292,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33melse[m[33;130H[K[33;130H291,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H290,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H289,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [36mHOST[m=[35m${STACK_HOST[$COUNT]}[m[33;130H[K[33;130H288,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H287,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H286,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H285,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H284,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H283,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H282,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H281,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#### db insert ####[m[33;130H[K[33;130H280,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H279,0-1[7C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H278,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H277,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;5H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${IP}[m [33m"[m[31mservice vv[2;1Herify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[33;130H[K[33;130H276,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H275,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H274,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H273,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H272,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H271,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[2;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H270,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H269,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H268,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H267,0-1[7C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H266,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H265,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${IP}[m [33m"[m[31m/usr/bin/[m[33m"[m[33;130H[K[33;130H264,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H263,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H262,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H261,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H260,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${MANAGER_IP}[m [33m"[m[31m/usr/bin/[m[33m"[m[33;130H[K[33;130H259,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H258,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H257,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H256,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H255,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H254,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H253,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_BIN} ${SSH_FORWARR[2;1HD_USER}@${MANAGER_IP}:"/usr/bin/" >/dev/null 2>&1[m[33;130H[K[33;130H252,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H251,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H250,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H249,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H248,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H247,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H246,0-1[7C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H245,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H244,1[9C75%[1;1H[?12l[?25h[?25l[33;132H5[2;1H[?12l[?25h[?25l[33;132H6,0-1[3;1H[?12l[?25h[?25l[33;132H7,1  [4;1H[?12l[?25h[?25l[33;132H8[5;1H[?12l[?25h[?25l[33;132H9[6;1H[?12l[?25h[?25l[33;132H8[5;1H[?12l[?25h[?25l[33;132H7[4;1H[?12l[?25h[?25l[33;132H6,0-1[3;1H[?12l[?25h[?25l[33;132H5,1  [2;1H[?12l[?25h[?25l[33;132H4[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;130H[K[33;130H243,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H242,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H241,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H240,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H239,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;130H[K[33;130H238,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H237,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H236,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H235,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H234,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H233,1[9C72%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H232,1[9C72%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_SCRIPT} ${SSH_FORR[2;1HWARD_USER}@${MANAGER_IP}:"/etc/init.d/" >/dev/null 2>&1[m[33;130H[K[33;130H231,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H230,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H229,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServerService..[m[33m"[m[33;130H[K[33;130H228,1[9C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service() {[m[33;130H[K[33;130H227,1[9C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/etc/init.d/verify_server[m[33m"[m[33;130H[K[33;130H226,1[9C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H225,0-1[7C70%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[33;130H[K[33;130H224,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "   : )"[m[33;130H[K[33;130H223,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#   sudo ip netns exec ${NETNS_ID} ssh -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${SSH_FORWARD_USER}@${MANAGER_IP} "/uu[2;1Hsr/bin/python ${SSH_DIR}/main_server.py &" >/dev/null 2>&1 &[m[33;130H[K[33;130H222,1[9C69%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   echo "Start WebServer.."[m[33;130H[K[33;130H221,1[9C68%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#function exec_webserver() {[m[33;130H[K[33;130H220,1[9C68%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H219,0-1[7C68%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H218,1[9C67%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H217,1[9C67%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${IP}[m [35m${SSH_DIR}[m[33;130H[K[33;130H216,1[9C67%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H215,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H214,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H213,1[9C66%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H212,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${WEBSERVER_SCRIPT}[m [35m${MANAGER_IP}[m [35m${SSH_DIR}[m[33;130H[K[33;130H211,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServer..[m[33m"[m[33;130H[K[33;130H210,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_webserver() {[m[33;130H[K[33;130H209,1[9C65%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H208,0-1[7C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H207,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H206,1[9C64%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33msleep[m [31m10[m[33;130H[K[33;130H205,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H204,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mbreak[m[33;130H[K[33;130H203,1[9C63%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;9H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H202,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$?[m [33m-eq[m [33m"[m[31m0[m[33m"[m [33m];[m [33mthen[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H201,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;6H sudo ip netns [33mexec[m [35m${NETNS_ID}[m scp [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${1}[m [35m${SSH_FORWARD_USER}[m@[35m${2}[m:[35m${3}[m  [2;1H[33m>[m/dev/null [31m2[m[33m>&[m[31m1[m[33;130H[K[33;130H200,1[9C62%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33m   do[m[33;130H[K[33;130H199,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mwhile :[m[33;130H[K[33;130H198,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_scp() {[m[33;130H[K[33;130H197,1[9C61%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H196,0-1[7C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mWEBSERVER_SCRIPT[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/verify_server[m[33m"[m[33;130H[K[33;130H195,1[9C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#WEBSERVER_SCRIPT="${SCRIPT_HOME}/../web/main_server.py"[m[33;130H[K[33;130H194,1[9C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H193,0-1[7C60%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#}[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H192,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H191,1[9C59%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H190,1[9C59%[1;1H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstraptailf ../log/ping2 
.Transferred to the Virtual machine of the WebServer..
.................................   : )
....................................................................................................................................................   : )
.............................................   : )
.

wait..
......................................   : )
...................................   : )
.................................   : )
.

wait..
.Transferred to the Manager of the WebServerBin..
....................................   : )
.......................................   : )
................................   : )
.

wait..
.Start WebService..
   : )
.

wait..
.Insert is Stacks..
.

bootstrap end..
^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ nova list
+--------------------------------------+----------------------------------------------+--------+-----------------------+
| ID                                   | Name                                         | Status | Networks              |
+--------------------------------------+----------------------------------------------+--------+-----------------------+
| 78374d7a-c010-4ae5-bdc7-1ad045aa0c8d | ubuntu-com1-ping2-ag-TestServer-nk7pn3froyre | ACTIVE | private01=10.10.10.17 |
| 9b0d6c2e-6e18-419a-85d7-bcf7c0f5b386 | ubuntu-com1-ping2-mn-TestServer-2xd4wkwre3nb | ACTIVE | private01=10.10.10.14 |
| 1144ade4-0243-4834-b6b5-6761882e7306 | ubuntu-com2-ping2-ag-TestServer-2533hkwcximf | ACTIVE | private01=10.10.10.19 |
+--------------------------------------+----------------------------------------------+--------+-----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ cd .../[K[K/../
]0;openstack@ubuntu-ct: ~openstack@ubuntu-ct:~$ ls
[0m[01;31mbackup.tar.gz[0m  credentials                       [01;34mheat[0m           key1.pem   nova.log                    WordPress_Single_Instance_deb.template
[01;34mbk[0m             [01;31mexpect_5.44.1.14.orig.tar.gz[0m      [01;32mheat_starting[0m  [01;34mkurahashi[0m  [01;32mstarting[0m                    [01;34mwork[0m
[01;34mbootstrap[0m      [01;31mexpect-tcl8.3_5.43.0-6_amd64.deb[0m  [01;34mimages[0m         log        ubuntu-12.04-cloud-e.qcow2
]0;openstack@ubuntu-ct: ~openstack@ubuntu-ct:~$ tar zcvf ta[K[Kbootstrap/[K.tar.gz_2012[K31017 bootstrap/[K
bootstrap/
bootstrap/templates/
bootstrap/templates/Test_Instance_deb_agent.template
bootstrap/templates/Ping_Instance_deb_manager.template
bootstrap/templates/Ping_Instance_deb_agent.template
bootstrap/templates/samples/
bootstrap/templates/samples/WordPress_Single_Instance.template
bootstrap/templates/Test_Instance_deb_manager.template
bootstrap/templates/Base_Instance_deb.template
bootstrap/keys/
bootstrap/keys/key1.pem
bootstrap/keys/key2.pem
bootstrap/keys/key3.pem
bootstrap/keys/key4.pem
bootstrap/web.tar.gz
bootstrap/configure/
bootstrap/configure/ping
bootstrap/configure/mysql.conf
bootstrap/configure/ping2
bootstrap/typescript
bootstrap/db/
bootstrap/db/bootstrap.db
bootstrap/scripts/
bootstrap/scripts/test_select.py
bootstrap/scripts/credentials.pyc
bootstrap/scripts/test.py
bootstrap/scripts/db_neutron.py
bootstrap/scripts/db_heat_sh.py
bootstrap/scripts/bootstrap
bootstrap/scripts/bootstrap_bk
bootstrap/scripts/db_manager.pyc
bootstrap/scripts/credentials.py
bootstrap/scripts/db_manager.py
bootstrap/scripts/db_heat.py
bootstrap/scripts/log.pyc
bootstrap/scripts/log.py
bootstrap/scripts/test
bootstrap/scripts/db_heat.pyc
bootstrap/scripts/db_wrapper.py
bootstrap/scripts/modules
bootstrap/scripts/availability_zone_create
bootstrap/scripts/db_neutron.pyc
bootstrap/scripts/dummy_sqlite.py
bootstrap/scripts/db_wrapper_sh.py
bootstrap/scripts/manager/
bootstrap/scripts/manager/usr/
bootstrap/scripts/manager/usr/bin/
bootstrap/scripts/manager/usr/bin/verify_server
bootstrap/scripts/manager/etc/
bootstrap/scripts/manager/etc/init.d/
bootstrap/scripts/manager/etc/init.d/verify_server
bootstrap/scripts/manager/verify_server
bootstrap/scripts/manager/manager_authentication.sh
bootstrap/scripts/db_neutron_sh.py
bootstrap/scripts/db_wrapper.pyc
bootstrap/scripts/keypair_create
bootstrap/tmp/
bootstrap/tmp/ipaddress.txt
bootstrap/tmp/output.png
bootstrap/settings/
bootstrap/settings/credentials
bootstrap/log/
bootstrap/log/ping
bootstrap/log/ping2
bootstrap/web/
bootstrap/web/20131015_index.html
bootstrap/web/bootstrap
bootstrap/web/bootstrap.pyc
bootstrap/web/template/
bootstrap/web/template/redirect.tmpl
bootstrap/web/template/createScenario.tmpl
bootstrap/web/template/set_credentials.tmpl
bootstrap/web/template/index.tmpl
bootstrap/web/css/
bootstrap/web/css/dropdown.css
bootstrap/web/css/sample.css
bootstrap/web/main_server.pyc
bootstrap/web/tmp/
bootstrap/web/tmp/ipaddress.txt
bootstrap/web/tmp/output.png
bootstrap/web/cgi-bin/
bootstrap/web/cgi-bin/scenario_request.py
bootstrap/web/cgi-bin/urlRequest.py
bootstrap/web/cgi-bin/graph_test.py
bootstrap/web/cgi-bin/scenario_delete.py
bootstrap/web/cgi-bin/scenario_verify.py
bootstrap/web/cgi-bin/index.py
bootstrap/web/cgi-bin/bootstrap.py
bootstrap/web/cgi-bin/build_scenario.py
bootstrap/web/cgi-bin/scenario_result.py
bootstrap/web/cgi-bin/set_credentials.py
bootstrap/web/cgi-bin/view_log.py
bootstrap/web/cgi-bin/create_scenario.py
bootstrap/web/cgi-bin/curltest.py
bootstrap/web/cgi-bin/ajax.py
bootstrap/web/cgi-bin/redirect_test.py
bootstrap/web/main_server.py
bootstrap/web/index.html
bootstrap/web/log/
bootstrap/web/log/bootstrap.log
bootstrap/web/js/
bootstrap/web/js/common.js
bootstrap/web/js/prototype.js
bootstrap/web/js/redirect.js
bootstrap/web/js/ajax.js
bootstrap/web/js/20131015_common.js
bootstrap/web/index2.html
]0;openstack@ubuntu-ct: ~openstack@ubuntu-ct:~$ 
]0;openstack@ubuntu-ct: ~openstack@ubuntu-ct:~$ ls
[0m[01;31mbackup.tar.gz[0m  bootstrap.tar.gz_20131017     [01;31mexpect-tcl8.3_5.43.0-6_amd64.deb[0m  [01;34mimages[0m     log       ubuntu-12.04-cloud-e.qcow2
[01;34mbk[0m             credentials                   [01;34mheat[0m                              key1.pem   nova.log  WordPress_Single_Instance_deb.template
[01;34mbootstrap[0m      [01;31mexpect_5.44.1.14.orig.tar.gz[0m  [01;32mheat_starting[0m                     [01;34mkurahashi[0m  [01;32mstarting[0m  [01;34mwork[0m
]0;openstack@ubuntu-ct: ~openstack@ubuntu-ct:~$ cd bootstrap/scripts/
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ pwd[K[K[Kvi og[K[Klog.py
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 26L, 445C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime

_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[14;8H now = datetime.datetime.now()[15;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[18;8H [33mif[m _DEBUG:[19;16H [36mprint[m debug_format % (get_now(), mes)

[33mdef[m [36minfo[m(mes):[22;8H [36mprint[m info_format % (get_now(), mes)

[33mdef[m [36merror[m(mes):[25;8H [36mprint[m err_format % (get_now(), mes)

[1m[34m~                                                                                                                                                  [28;1H~                                                                                                                                                  [29;1H~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6,0-1[6;1H[?12l[?25h[?25l[33;130H7,1  [7;1H[?12l[?25h[?25l[33;130H8,0-1[8;1H[?12l[?25h[?25l[33;130H9,1  [9;1H[?12l[?25h[?25l[33;130H10,1[10;1H[?12l[?25h[?25l[33;131H1[11;1H[?12l[?25h[?25l[33;131H0[10;1H[?12l[?25h[?25l[33;130H9,1 [9;1H[?12l[?25h[?25l[33;130H8,0-1[8;1H[?12l[?25h[?25l[33;130H7,1  [7;1H[?12l[?25h[?25l[33;130H6,0-1[6;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H6,1[11CAll[6;1H[?12l[?25h[?25lm[33;132H2[6;2H[?12l[?25h[?25lmp[33;132H3[6;3H[?12l[?25h[?25lpo[33;132H4[6;4H[?12l[?25h[?25l[6;3H[K[33;132H3[6;3H[?12l[?25h[?25l[6;2H[K[33;132H2[6;2H[?12l[?25h[?25l[6;1H[K[33;132H1[6;1H[?12l[?25h[?25li[33;132H2[6;2H[?12l[?25h[?25lim[33;132H3[6;3H[?12l[?25h[?25lmp[33;132H4[6;4H[?12l[?25h[?25lpo[33;132H5[6;5H[?12l[?25h[?25lor[33;132H6[6;6H[?12l[?25h[?25l[35mimport[m[33;132H7[6;7H[?12l[?25h[?25l[33;132H8[6;8H[?12l[?25h[?25l l[33;132H9[6;9H[?12l[?25h[?25llo[33;132H10[6;10H[?12l[?25h[?25log[33;133H1[6;11H[?12l[?25h[?25lgg[33;133H2[6;12H[?12l[?25h[?25lgi[33;133H3[6;13H[?12l[?25h[?25ling[33;133H5[6;15H[?12l[?25h[?25l[7;32r[7;1H[L[1;33r[33;130H[K[33;130H7,1[11CAll[7;1H[?12l[?25h[?25l_[33;132H2[7;2H[?12l[?25h[?25l[33;132H1[7;1H[?12l[?25h[?25l[8;32r[8;1H[L[1;33r[7;1H[K[8;1H_[33;130H[K[33;130H8,1[11CAll[8;1H[?12l[?25h[?25l[33;132H2[8;2H[?12l[?25h[?25l_L[33;132H3[8;3H[?12l[?25h[?25lLo[33;132H4[8;4H[?12l[?25h[?25l[8;3H[K[33;132H3[8;3H[?12l[?25h[?25l[8;2H[K[33;132H2[8;2H[?12l[?25h[?25l_L[33;132H3[8;3H[?12l[?25h[?25lLO[33;132H4[8;4H[?12l[?25h[?25lOG[33;132H5[8;5H[?12l[?25h[?25lG_[33;132H6[8;6H[?12l[?25h[?25l_P[33;132H7[8;7H[?12l[?25h[?25lPA[33;132H8[8;8H[?12l[?25h[?25lAt[33;132H9[8;9H[?12l[?25h[?25ltH[33;132H10[8;10H[?12l[?25h[?25lH=[33;133H1[8;11H[?12l[?25h[?25l[8;10H[K[33;133H0[8;10H[?12l[?25h[?25l[8;9H[K[33;132H9 [8;9H[?12l[?25h[?25l[8;8H[K[33;132H8[8;8H[?12l[?25h[?25lAT[33;132H9[8;9H[?12l[?25h[?25lTH[33;132H10[8;10H[?12l[?25h[?25lH=[33;133H1[8;11H[?12l[?25h[?25l=[31m"
_DEBUG=False

debug_format=[m[1C%s - [DEBUG] %s
[31minfo_format=[m[1C%s - [INFO] %s
[31merr_format=[m[1C%s - [ERROR] %s

[31mdef get_now():
        now = datetime.datetime.now()
        return now.strftime([m[1C%Y/%m/%d %H:%M:%S[1C[31m)

def debug(mes):
        if _DEBUG:
                print debug_format % (get_now(), mes)

def info(mes):
        print info_format % (get_now(), mes)

def error(mes):
        print err_format % (get_now(), mes)[m[33;133H2[8;12H[?12l[?25h[?25l[31m""[m
_DEBUG=[36mFalse[m

debug_format=[1C[31m%s - [DEBUG] %s[m
info_format=[1C[31m%s - [INFO] %s[m
err_format=[1C[31m%s - [ERROR] %s[m

[33mdef[m [36mget_now[m():
        now = datetime.datetime.now()
        [33mreturn[m now.strftime([1C[31m%Y/%m/%d %H:%M:%S[m[1C)

[33mdef[m [36mdebug[m(mes):
        [33mif[m _DEBUG:
                [36mprint[m debug_format % (get_now(), mes)

[33mdef[m [36minfo[m(mes):
        [36mprint[m info_format % (get_now(), mes)

[33mdef[m [36merror[m(mes):
        [36mprint[m err_format % (get_now(), mes)[33;133H3[8;13H[?12l[?25h[?25l[33;133H2[8;12H[?12l[?25h[?25l[31m"/"[m[33;133H3[8;13H[?12l[?25h[?25l[31m/v"[m[33;133H4[8;14H[?12l[?25h[?25l[31mva"[m[33;133H5[8;15H[?12l[?25h[?25l[31mar"[m[33;133H6[8;16H[?12l[?25h[?25l[31mr/"[m[33;133H7[8;17H[?12l[?25h[?25l[31m/l"[m[33;133H8[8;18H[?12l[?25h[?25l[31mlo"[m[33;133H9[8;19H[?12l[?25h[?25l[31mog"[m[33;132H20[8;20H[?12l[?25h[?25l[31mg/"[m[33;133H1[8;21H[?12l[?25h[?25l[31m/l"[m[33;133H2[8;22H[?12l[?25h[?25l[31mlo"[m[33;133H3[8;23H[?12l[?25h[?25l[31mog"[m[33;133H4[8;24H[?12l[?25h[?25l[31mg."[m[33;133H5[8;25H[?12l[?25h[?25l[31mg"[m[8;25H[K[33;133H4[8;24H[?12l[?25h[?25l[31mo"[m[8;24H[K[33;133H3[8;23H[?12l[?25h[?25l[31ml"[m[8;23H[K[33;133H2[8;22H[?12l[?25h[?25l[31m/"[m[8;22H[K[33;133H1[8;21H[?12l[?25h[?25l[31m/b"[m[33;133H2[8;22H[?12l[?25h[?25l[31mbo"[m[33;133H3[8;23H[?12l[?25h[?25l[31moo"[m[33;133H4[8;24H[?12l[?25h[?25l[31mot"[m[33;133H5[8;25H[?12l[?25h[?25l[31mts"[m[33;133H6[8;26H[?12l[?25h[?25l[31mst"[m[33;133H7[8;27H[?12l[?25h[?25l[31mtr"[m[33;133H8[8;28H[?12l[?25h[?25l[31mra"[m[33;133H9[8;29H[?12l[?25h[?25l[31map"[m[33;132H30[8;30H[?12l[?25h[?25l[31mp/"[m[33;133H1[8;31H[?12l[?25h[?25l[31mp"[m[8;31H[K[33;133H0[8;30H[?12l[?25h[?25l[31mp."[m[33;133H1[8;31H[?12l[?25h[?25l[31m.t"[m[33;133H2[8;32H[?12l[?25h[?25l[31mtx"[m[33;133H3[8;33H[?12l[?25h[?25l[31mxt"[m[33;133H4[8;34H[?12l[?25h[?25l[33;130H9,13[9;13H[?12l[?25h[?25l[33;130H10,1[10;1H[?12l[?25h[?25l[33;131H1,31[11;31H[?12l[?25h[?25l[33;131H2,29[12;29H[?12l[?25h[?25l[33;131H3[13;29H[?12l[?25h[?25l[33;131H4,1 [14;1H[?12l[?25h[?25l[33;131H5,15[15;15H[?12l[?25h[?25l[33;131H6,27-34[16;34H[?12l[?25h[?25l[33;131H7[17;34H[?12l[?25h[?25l[33;131H8,1    [18;1H[?12l[?25h[?25l[33;131H7,27-34[17;34H[?12l[?25h[?25l[33;131H6[16;34H[?12l[?25h[?25l[33;131H5,15   [15;15H[?12l[?25h[?25l[33;131H4,1 [14;1H[?12l[?25h[?25l[33;131H5,15[15;15H[?12l[?25h[?25l[33;131H6,27-34[16;34H[?12l[?25h[?25l[33;131H8,1    [18;1H[?12l[?25h[?25l[33;130H20,12-19[20;19H[?12l[?25h[?25l[33;131H2,1    [22;1H[?12l[?25h[?25l[33;131H4,27-34[24;34H[?12l[?25h[?25l[33;131H7[27;34H[?12l[?25h[?25l[33;131H8,1    [28;1H[?12l[?25h[?25l[29;1H[K[33;131H9[29;1H[?12l[?25h[?25li[33;133H2[29;2H[?12l[?25h[?25l[29;1H[K[33;133H1[29;1H[?12l[?25h[?25llogging.basicConfig([30;1H[K[33;130H30[30;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[29;8H level=logging.DEBUG,
        filename=[31m'log.txt'[m,[30;28H[K[31;1H        [36mformat[m=[31m"%(asctime)s %(levelname)s %(message)s"[m)[31;56H[K[33;130H[K[33;130H33,1[10CBot[32;1H[?12l[?25h[?25l[33;131H2[31;1H[?12l[?25h[?25l[33;131H1[30;1H[?12l[?25h[?25l[33;131H0[29;1H[?12l[?25h[?25l[33;133H2-9[29;9H[?12l[?25h[?25l[33;133H3-10[29;10H[?12l[?25h[?25l[33;133H5-12[29;12H[?12l[?25h[?25l[33;133H7-14[29;14H[?12l[?25h[?25l[33;133H9-16[29;16H[?12l[?25h[?25l[33;133H11-18[29;18H[?12l[?25h[?25l[33;134H2-19[29;19H[?12l[?25h[?25l[33;134H3-20[29;20H[?12l[?25h[?25l[33;134H4-21[29;21H[?12l[?25h[?25l[33;134H5-22[29;22H[?12l[?25h[?25l[33;134H6-23[29;23H[?12l[?25h[?25l[33;134H7-24[29;24H[?12l[?25h[?25l[33;134H8-25[29;25H[?12l[?25h[?25l[33;134H9-26[29;26H[?12l[?25h[?25l[33;133H20-27[29;27H[?12l[?25h[?25l[33;134H1-28[29;28H[?12l[?25h[?25l[28;20H[46m([31;55H)[m[33;130H29,21   [28;21H[?12l[?25h[?25l([31;55H)[33;131H8,1 [27;1H[?12l[?25h[?25l[28;20H[46m([31;55H)[m[33;131H9,21[28;21H[?12l[?25h[?25l([31;55H)[33;130H30,21-28[29;28H[?12l[?25h[?25l[33;131H1[30;28H[?12l[?25h[?25l[33;134H0-27[30;27H[?12l[?25h[?25l[31mt,[m[30;27H[K[31;1H[31m        format=[39C)[m[33;133H19-26[30;26H[?12l[?25h[?25l[31mx,[m[30;26H[K[33;134H8-25[30;25H[?12l[?25h[?25l[31mt,[m[30;25H[K[33;134H7-24[30;24H[?12l[?25h[?25l[31m.,[m[30;24H[K[33;134H6-23[30;23H[?12l[?25h[?25l[31mg,[m[30;23H[K[33;134H5-22[30;22H[?12l[?25h[?25l[31mo,[m[30;22H[K[33;134H4-21[30;21H[?12l[?25h[?25l[31ml,[m[30;21H[K[33;134H3-20[30;20H[?12l[?25h[?25l[31m',[m[30;20H[K[33;134H2-19[30;19H[?12l[?25h[?25l=,[30;19H[K[31;1H        [36mformat[m=[39C)[33;134H1-18[30;18H[?12l[?25h[?25l=_,[33;134H2-19[30;19H[?12l[?25h[?25l_L,[33;134H3-20[30;20H[?12l[?25h[?25lLO,[33;134H4-21[30;21H[?12l[?25h[?25lOG,[33;134H5-22[30;22H[?12l[?25h[?25lG_,[33;134H6-23[30;23H[?12l[?25h[?25l_P,[33;134H7-24[30;24H[?12l[?25h[?25lPA,[33;134H8-25[30;25H[?12l[?25h[?25lAT,[33;134H9-26[30;26H[?12l[?25h[?25lTH,[33;133H20-27[30;27H[?12l[?25h[?25l[31;18H[31m[46m([7C)[m[33;131H2[31;27H[?12l[?25h[?25l[31;18H[31m([7C)[m[33;131H3,1    [32;1H[?12l[?25h[?25l[31;18H[31m[46m([7C)[m[33;131H2,20-27[31;27H[?12l[?25h[?25l[31;18H[31m([7C)[m[33;131H1[30;27H[?12l[?25h[?25l[33;131H0[29;27H[?12l[?25h[?25l[28;20H[46m([31;55H)[m[33;130H29,21   [28;21H[?12l[?25h[?25l([31;55H)[33;131H8,1 [27;1H[?12l[?25h[?25l[33;131H7,20-27[26;27H[?12l[?25h[?25l[33;133H19-26[26;26H[?12l[?25h[?25l[33;134H8-25[26;25H[?12l[?25h[?25l[33;134H6-23[26;23H[?12l[?25h[?25l[33;134H4-21[26;21H[?12l[?25h[?25l[33;134H2-19[26;19H[?12l[?25h[?25l[33;134H0-17[26;17H[?12l[?25h[?25l[33;133H9-16 [26;16H[?12l[?25h[?25l[33;133H10-17[26;17H[?12l[?25h[?25l[33;134H1-18[26;18H[?12l[?25h[?25l[33;134H3-20[26;20H[?12l[?25h[?25l[33;134H4-21[26;21H[?12l[?25h[?25l[33;134H5-22[26;22H[?12l[?25h[?25l[33;134H6-23[26;23H[?12l[?25h[?25l[33;134H7-24[26;24H[?12l[?25h[?25l[33;134H8-25[26;25H[?12l[?25h[?25l[33;134H9-26[26;26H[?12l[?25h[?25l[33;133H20-27[26;27H[?12l[?25h[?25l [46m([14C)[m[33;134H1-28[26;28H[?12l[?25h[?25l[33;134H2-29[26;29H[?12l[?25h[?25l([14C)[33;134H4-31[26;31H[?12l[?25h[?25l[33;134H6-33[26;33H[?12l[?25h[?25l[33;134H8-35[26;35H[?12l[?25h[?25lw[46m()[m[33;133H30-37[26;37H[?12l[?25h[?25l()[33;134H2-39[26;39H[?12l[?25h[?25l[33;134H4-41[26;41H[?12l[?25h[?25l[26;28H[46m([14C)[m[33;134H6-43[26;43H[?12l[?25h[?25l[33;134H7-44[26;44H[?12l[?25h[?25l[26;43H[K[26;28H([33;134H6-43[26;43H[?12l[?25h[?25l[26;42H[K[33;134H5-42[26;42H[?12l[?25h[?25l[26;40H[K[33;134H3-40[26;40H[?12l[?25h[?25l[26;38H[K[26;36H[46m()[m[33;134H1-38[26;38H[?12l[?25h[?25l[26;36H[K[33;133H29-36[26;36H[?12l[?25h[?25l[26;34H[K[33;134H7-34[26;34H[?12l[?25h[?25l[26;32H[K[33;134H5-32[26;32H[?12l[?25h[?25l[26;30H[K[33;134H3-30[26;30H[?12l[?25h[?25l[26;28H[K[33;134H1-28[26;28H[?12l[?25h[?25l[26;26H[K[33;133H18-25[26;25H[?12l[?25h[?25l[26;23H[K[33;134H6-23[26;23H[?12l[?25h[?25l[26;21H[K[33;134H4-21[26;21H[?12l[?25h[?25l[26;19H[K[33;134H2-19[26;19H[?12l[?25h[?25l[26;17H[K[33;134H0-17[26;17H[?12l[?25h[?25l[26;15H[K[33;133H8-15 [26;15H[?12l[?25h[?25lprin[26;13H[K[33;133H6-13[26;13H[?12l[?25h[?25l[26;12H[K[33;133H5-12[26;12H[?12l[?25h[?25l[26;11H[K[33;133H4-11[26;11H[?12l[?25h[?25l[26;10H[K[33;133H3-10[26;10H[?12l[?25h[?25l[26;9H[K[33;133H2-9 [26;9H[?12l[?25h[?25l l[33;133H3-10[26;10H[?12l[?25h[?25llo[33;133H4-11[26;11H[?12l[?25h[?25log[33;133H5-12[26;12H[?12l[?25h[?25lgg[33;133H6-13[26;13H[?12l[?25h[?25lgi[33;133H7-14[26;14H[?12l[?25h[?25lin[33;133H8-15[26;15H[?12l[?25h[?25lng[33;133H9-16[26;16H[?12l[?25h[?25lg.[33;133H10-17[26;17H[?12l[?25h[?25l.e[33;134H1-18[26;18H[?12l[?25h[?25ler[33;134H2-19[26;19H[?12l[?25h[?25lrr[33;134H3-20[26;20H[?12l[?25h[?25lro[33;134H4-21[26;21H[?12l[?25h[?25lor[33;134H5-22[26;22H[?12l[?25h[?25lr([33;134H6-23[26;23H[?12l[?25h[?25l()[46m()[m[33;134H7-24[26;24H[?12l[?25h[?25l[33;134H6-23[26;23H[?12l[?25h[?25l[46m(m[m)m[46m)[m[33;134H7-24[26;24H[?12l[?25h[?25lm[46me[m)e[46m)[m[33;134H8-25[26;25H[?12l[?25h[?25le[46ms[m)s[46m)[m[33;134H9-26[26;26H[?12l[?25h[?25l(mes)[33;131H6,16   [25;16H[?12l[?25h[?25l[33;131H5,1 [24;1H[?12l[?25h[?25l[33;131H4,19-26[23;26H[?12l[?25h[33;1H[K[23;25H[?25l[33;130H24,18-25      Bot[23;25H[?12l[?25h[?25l[23;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H24,0-1[8CBot[23;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H24,1[10CBot[23;1H[?12l[?25h[?25l[24;32r[24;1H[L[1;33r[33;130H[K[33;130H25,1[10CBot[24;1H[?12l[?25h[?25l[33;131H4[23;1H[?12l[?25h[?25l[33;133H2-9[23;9H[?12l[?25h[?25l l[33;133H3-10[23;10H[?12l[?25h[?25llo[33;133H4-11[23;11H[?12l[?25h[?25log[33;133H5-12[23;12H[?12l[?25h[?25lgg[33;133H6-13[23;13H[?12l[?25h[?25lgi[33;133H7-14[23;14H[?12l[?25h[?25lin[33;133H8-15[23;15H[?12l[?25h[?25lng[33;133H9-16[23;16H[?12l[?25h[?25lg.[33;133H10-17[23;17H[?12l[?25h[?25l.i[33;134H1-18[23;18H[?12l[?25h[?25l[33min[m[33;134H2-19[23;19H[?12l[?25h[?25linf[33;134H3-20[23;20H[?12l[?25h[?25lfo[33;134H4-21[23;21H[?12l[?25h[?25lo([33;134H5-22[23;22H[?12l[?25h[?25l()[46m()[m[33;134H6-23[23;23H[?12l[?25h[?25l[33;134H5-22[23;22H[?12l[?25h[?25l[46m(m[m)m[46m)[m[33;134H6-23[23;23H[?12l[?25h[?25lm[46me[m)e[46m)[m[33;134H7-24[23;24H[?12l[?25h[?25le[46ms[m)s[46m)[m[33;134H8-25[23;25H[?12l[?25h[?25ls[46m\[m)\[46m)[m[33;134H9-26[23;26H[?12l[?25h[?25l(mes\)[33;131H3,15   [22;15H[?12l[?25h[?25l[33;131H2,1 [21;1H[?12l[?25h[?25l[33;131H3,15[22;15H[?12l[?25h[?25l[23;21H[46m([mmes\[46m)[m[33;131H4,19-26[23;26H[?12l[?25h[?25ls)[46m )[m[23;26H[K[33;134H8-25[23;25H[?12l[?25h[?25l(mes)[33;131H3,15   [22;15H[?12l[?25h[?25l[33;131H2,1 [21;1H[?12l[?25h[?25l[33;131H1,11-25[20;25H[?12l[?25h[?25l[33;131H0,12-19[19;19H[?12l[?25h[33;1H[K[19;18H[?25l[33;130H20,11-18      Bot[19;18H[?12l[?25h[?25l[19;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H20,3-17[7CBot[19;17H[?12l[?25h[?25l[19;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H20,0-1[8CBot[19;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H21,1[10C50%[20;32r[20;1H[L[1;33r[33;130H[K[33;130H21,1[10CBot[20;1H[?12l[?25h[?25l[33;131H0[19;1H[?12l[?25h[?25l[33;133H2-9[19;9H[?12l[?25h[?25l l[33;133H3-10[19;10H[?12l[?25h[?25llo[33;133H4-11[19;11H[?12l[?25h[?25log[33;133H5-12[19;12H[?12l[?25h[?25lgg[33;133H6-13[19;13H[?12l[?25h[?25lgi[33;133H7-14[19;14H[?12l[?25h[?25lin[33;133H8-15[19;15H[?12l[?25h[?25lng[33;133H9-16[19;16H[?12l[?25h[?25lg.[33;133H10-17[19;17H[?12l[?25h[?25l.d[33;134H1-18[19;18H[?12l[?25h[?25lde[33;134H2-19[19;19H[?12l[?25h[?25leb[33;134H3-20[19;20H[?12l[?25h[?25lbu[33;134H4-21[19;21H[?12l[?25h[?25lug[33;134H5-22[19;22H[?12l[?25h[?25lg([33;134H6-23[19;23H[?12l[?25h[?25l()[46m()[m[33;134H7-24[19;24H[?12l[?25h[?25l[33;134H6-23[19;23H[?12l[?25h[?25l[46m(m[m)m[46m)[m[33;134H7-24[19;24H[?12l[?25h[?25lm[46me[m)e[46m)[m[33;134H8-25[19;25H[?12l[?25h[?25le[46ms[m)s[46m)[m[33;134H9-26[19;26H[?12l[?25h[33;1H[K[19;25H[?25l(mes)[33;130H20,18-25      Bot[19;25H[?12l[?25h[?25l[33;131H1,0-1  [20;1H[?12l[?25h[?25l[33;131H2,14 [21;14H[?12l[?25h[?25l[22;21H[46m([mmes[46m)[m[33;131H3,18-25[22;25H[?12l[?25h[?25l(mes)[33;131H4,0-1  [23;1H[?12l[?25h[?25l[33;131H5,15 [24;15H[?12l[?25h[?25l[33;131H6,18-25[25;25H[?12l[?25h[?25l[33;131H7,0-1  [26;1H[?12l[?25h[?25l[27;20H[46m([30;55H)[m[33;131H8,20 [27;20H[?12l[?25h[?25l([30;55H)[33;131H9,18-25[28;25H[?12l[?25h[?25l[33;130H30[29;25H[?12l[?25h[?25l[33;130H29[28;25H[?12l[?25h[?25l[28;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H29,2-9[8CBot[28;9H[?12l[?25h[?25l[33;131H8,9  [27;9H[?12l[?25h[?25l[33;131H7,0-1[26;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H27,1[10CBot[26;1H[?12l[?25h[?25l[27;32r[27;1H[L[1;33r[33;130H[K[33;130H28,1[10CBot[27;1H[?12l[?25h[?25l[28;32r[28;1H[L[1;33r[33;130H[K[33;130H29,1[10CBot[28;1H[?12l[?25h[?25l[33;131H8[27;1H[?12l[?25h[?25li[33;133H2[27;2H[?12l[?25h[?25l[33mif[m[33;133H3[27;3H[?12l[?25h[?25l[33;133H4[27;4H[?12l[?25h[?25l _[33;133H5[27;5H[?12l[?25h[?25l_D[33;133H6[27;6H[?12l[?25h[?25lDE[33;133H7[27;7H[?12l[?25h[?25lEB[33;133H8[27;8H[?12l[?25h[?25lBU[33;133H9[27;9H[?12l[?25h[?25lUG[33;133H10[27;10H[?12l[?25h[?25lG:[33;134H1[27;11H[?12l[?25h[?25l[28;32r[28;1H[L[1;33r[33;130H[K[33;130H29,1[10C50%[28;1H[?12l[?25h[?25l[33;133H2-9[28;9H[?12l[?25h[?25l l[33;133H3-10[28;10H[?12l[?25h[?25llo[33;133H4-11[28;11H[?12l[?25h[?25log[33;133H5-12[28;12H[?12l[?25h[?25lgg[33;133H6-13[28;13H[?12l[?25h[?25lgi[33;133H7-14[28;14H[?12l[?25h[?25lin[33;133H8-15[28;15H[?12l[?25h[?25lng[33;133H9-16[28;16H[?12l[?25h[?25lg.[33;133H10-17[28;17H[?12l[?25h[33;1H[K[28;16H[?25l[33;130H29,9-16[7C50%[28;16H[?12l[?25h[?25l[33;1H1 line less; before #21  43 seconds ago[33;130H[K[27;32r[32;1H
[1;33r[27;9H[K[33;1H[K[33;130H28,0-1[8CBot[27;1H[?12l[?25h[?25l[33;1H2 fewer lines; before #20  45 seconds ago[33;130H[K[26;32r[26;1H[2M[1;33r[31;1H[1m[34m~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;1H[K[33;130H27,0-1[8CBot[26;1H[?12l[?25h[?25l[33;1H1 more line; before #19  47 seconds ago[33;130H[K[28;32r[28;1H[L[1;33r[28;8H level=logging.DEBUG,[33;1H[K[33;130H29,2-9[8CBot[28;9H[?12l[?25h[?25l[33;133H3-10[28;10H[?12l[?25h[?25l[33;133H4-11[28;11H[?12l[?25h[?25l[33;133H5-12[28;12H[?12l[?25h[?25l[33;133H6-13[28;13H[?12l[?25h[?25l[33;133H7-14[28;14H[?12l[?25h[?25l[33;133H8-15[28;15H[?12l[?25h[?25l[33;133H9-16[28;16H[?12l[?25h[?25l[33;133H10-17[28;17H[?12l[?25h[?25l[33;134H1-18[28;18H[?12l[?25h[?25l[33;134H2-19[28;19H[?12l[?25h[?25l[33;134H3-20[28;20H[?12l[?25h[?25l[27;20H[46m([30;55H)[m[33;131H8,20   [27;20H[?12l[?25h[?25l([30;55H)[33;131H7,0-1[26;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H27,1[10CBot[26;1H[?12l[?25h[?25l[27;32r[27;1H[L[1;33r[33;130H[K[33;130H28,1[10CBot[27;1H[?12l[?25h[?25l[28;32r[28;1H[L[1;33r[33;130H[K[33;130H29,1[10C50%[28;1H[?12l[?25h[?25l[33;131H8[27;1H[?12l[?25h[?25l[33;131H7[26;1H[?12l[?25h[?25li[33;133H2[26;2H[?12l[?25h[?25l[33mif[m[33;133H3[26;3H[?12l[?25h[?25li[26;2H[K[33;133H2[26;2H[?12l[?25h[?25l[26;1H[K[33;133H1[26;1H[?12l[?25h[?25l[27;32r[27;1H[L[1;33r[33;130H[K[33;130H28,1[10C33%[27;1H[?12l[?25h[?25li[33;133H2[27;2H[?12l[?25h[?25l[33mif[m[33;133H3[27;3H[?12l[?25h[?25l[33;133H4[27;4H[?12l[?25h[?25l _[33;133H5[27;5H[?12l[?25h[?25l_D[33;133H6[27;6H[?12l[?25h[?25lDE[33;133H7[27;7H[?12l[?25h[?25lEB[33;133H8[27;8H[?12l[?25h[?25lBU[33;133H9[27;9H[?12l[?25h[?25lUG[33;133H10[27;10H[?12l[?25h[?25lG:[33;134H1[27;11H[?12l[?25h[?25l[28;32r[28;1H[L[1;33r[33;130H[K[33;130H29,1[10C25%[28;1H[?12l[?25h[?25l[33;133H2-9[28;9H[?12l[?25h[?25l l[33;133H3-10[28;10H[?12l[?25h[?25llo[33;133H4-11[28;11H[?12l[?25h[?25l[28;10H[K[33;133H3-10[28;10H[?12l[?25h[?25l[28;9H[K[33;133H2-9 [28;9H[?12l[?25h[?25l[1;32r[1;1H[3M[1;33r[30;8H filename=_LOG_PATH,[31;8H [36mformat[m=[31m"%(asctime)s %(levelname)s %(message)s"[m)[33;130H[K[33;130H36,1[10CBot[32;1HO[?12l[?25h [?25l[33;131H5,2-9[31;9H[?12l[?25h[?25l[33;133H3-10[31;10H[?12l[?25h[?25l[33;133H4-11[31;11H[?12l[?25h[?25l[33;133H5-12[31;12H[?12l[?25h[?25l[33;133H7-14[31;14H[?12l[?25h[?25l[33;133H15-22[31;22H[?12l[?25h[?25l[33;134H8-25[31;25H[?12l[?25h[?25l[33;133H26-33[31;33H[?12l[?25h[?25l[33;134H8-35[31;35H[?12l[?25h[?25l[33;134H9-36[31;36H[?12l[?25h[?25l[33;133H30-37[31;37H[?12l[?25h[?25l[33;134H1-38[31;38H[?12l[?25h[?25l[33;134H2-39[31;39H[?12l[?25h[?25l[31;30H[31m[46m([9C)[m[33;134H3-40[31;40H[?12l[?25h[?25l[33;134H4-41[31;41H[?12l[?25h[?25l[31;30H[31m([9C)[m[33;134H5-42[31;42H[?12l[?25h[?25l[31msi %(message)s"[m)[33;134H6-43[31;43H[?12l[?25h[?25l[31ms %(message)s"[m)[31;56H[K[33;134H5-42[31;42H[?12l[?25h[?25l[31m  %(message)s"[m)[33;134H6-43[31;43H[?12l[?25h[?25l[31m %(filename)s %(message)s"[m)[33;133H48-55[31;55H[?12l[?25h[?25l[31m  %(message)s"[m)[33;134H9-56[31;56H[?12l[?25h[?25l[33;134H8-55[31;55H[?12l[?25h[?25l[1C[31m  %(message)s"[m)[33;134H9-56[31;56H[?12l[?25h[?25l[31m %(funcName)s  %(message)s"[m)[33;133H61-68[31;68H[?12l[?25h[?25l[33;134H2-69[31;69H[?12l[?25h[?25l[31m %(message)s"[m)[31;82H[K[33;134H1-68[31;68H[?12l[?25h[33;1H[K[31;67H[?25l[33;130H35,60-67      Bot[31;67H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"log.py" 36L, 582C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.py
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 36L, 582C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"/var/log/bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)

[33mif[m _DEBUG:[32;1Hlogging.basicConfig([33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ pyg[Khtmlizer [K[K[K[K[K[K[K[K[K[K[Kpython dummy_sqlite.py 
availability_zone_create  db_heat.py                db_neutron.py             db_wrapper_sh.py          manager/
bootstrap                 db_heat.pyc               db_neutron.pyc            dummy_sqlite.py           modules
bootstrap_bk              db_heat_sh.py             db_neutron_sh.py          keypair_create            test
credentials.py            db_manager.py             db_wrapper.py             log.py                    test.py
credentials.pyc           db_manager.pyc            db_wrapper.pyc            log.pyc                   test_select.py
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py data[K[K[K[K""s"e"l"e"c"t" "*" "f"r"o"m" "s"t"a"c"k"s"
Traceback (most recent call last):
  File "dummy_sqlite.py", line 6, in <module>
    import db_manager 
  File "/home/openstack/bootstrap/scripts/db_manager.py", line 6, in <module>
    import log
  File "/home/openstack/bootstrap/scripts/log.py", line 32
    logging.basicConfig(
          ^
IndentationError: expected an indented block
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.py
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 36L, 582C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"/var/log/bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)

[33mif[m _DEBUG:[32;1Hlogging.basicConfig([33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[1;32r[1;1H[4M[1;33r[29;8H level=logging.DEBUG,[30;8H filename=_LOG_PATH,[31;8H [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[33;1H[K[33;130H36,0-1[8CBot[32;1H[?12l[?25h[?25l[33;131H5,1-8[31;8H[?12l[?25h[?25l[33;131H4[30;8H[?12l[?25h[?25l[33;131H3[29;8H[?12l[?25h[?25llevel=logging.DEBUG,[29;21H[K[33;134H  [29;1H[?12l[?25h[?25l[33;131H4,1-8[30;8H[?12l[?25h[?25lfilename=_LOG_PATH,[30;20H[K[33;134H  [30;1H[?12l[?25h[?25l[33;131H5,1-8[31;8H[?12l[?25h[?25l[36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[31;74H[K[33;134H  [31;1H[?12l[?25h[?25l[33;131H4[30;1H[?12l[?25h[?25l[33;131H3[29;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H33,1[10CBot[29;1H[?12l[?25h[?25l[28;32r[32;1H
[1;33r[28;1Hlogging.basicConfig(level=logging.DEBUG,[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H32,21[9CBot[28;20H[46m([30;73H)[28;21H[?12l[?25h[?25l[m([30;73H)[33;134H2[28;22H[?12l[?25h[?25l[33;134H3[28;23H[?12l[?25h[?25l[33;134H5[28;25H[?12l[?25h[?25l[33;134H7[28;27H[?12l[?25h[?25l[33;134H9[28;29H[?12l[?25h[?25l[33;133H31[28;31H[?12l[?25h[?25l[33;134H3[28;33H[?12l[?25h[?25l[33;134H5[28;35H[?12l[?25h[?25l[33;134H7[28;37H[?12l[?25h[?25l[33;133H40[28;40H[?12l[?25h[?25l[33;134H1[28;41H[?12l[?25h[?25l[33;131H3,20[29;20H[?12l[?25h[?25l[33;133H19[29;19H[?12l[?25h[?25l[33;134H8[29;18H[?12l[?25h[?25l[33;134H6[29;16H[?12l[?25h[?25l[33;134H4[29;14H[?12l[?25h[?25l[33;134H2[29;12H[?12l[?25h[?25l[33;134H0[29;10H[?12l[?25h[?25l[33;133H8 [29;8H[?12l[?25h[?25l[33;133H6[29;6H[?12l[?25h[?25l[33;133H3[29;3H[?12l[?25h[?25l[33;133H1[29;1H[?12l[?25h[?25l[28;32r[32;1H
[1;33r[28;1Hlogging.basicConfig(level=logging.DEBUG,filename=_LOG_PATH,[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H32,41[9CBot[28;41H[?12l[?25h[?25l, filename=_LOG_PATH,[33;134H2[28;42H[?12l[?25h[?25l[33;134H3[28;43H[?12l[?25h[?25l[33;134H4[28;44H[?12l[?25h[?25l[33;134H6[28;46H[?12l[?25h[?25l[33;134H8[28;48H[?12l[?25h[?25l[33;133H50[28;50H[?12l[?25h[?25l[33;134H2[28;52H[?12l[?25h[?25l[33;134H4[28;54H[?12l[?25h[?25l[33;134H6[28;56H[?12l[?25h[?25l[33;134H8[28;58H[?12l[?25h[?25l[33;133H61[28;61H[?12l[?25h[?25l[33;131H3[29;61H[?12l[?25h[?25l[33;133H1 [29;1H[?12l[?25h[?25l[28;32r[32;1H
[1;33r[28;1Hlogging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH,[36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H32,61[9CBot[28;61H[?12l[?25h[?25l, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[33;134H2[28;62H[?12l[?25h[33;1H[K[28;61H[?25l[33;130H32,61[9CBot[28;61H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"log.py" 33L, 578C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.pypython dummy_sqlite.py "select * from stacks"
Traceback (most recent call last):
  File "dummy_sqlite.py", line 6, in <module>
    import db_manager 
  File "/home/openstack/bootstrap/scripts/db_manager.py", line 6, in <module>
    import log
  File "/home/openstack/bootstrap/scripts/log.py", line 32
    logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, format="%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s")
          ^
IndentationError: expected an indented block
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi log.py[K
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 33L, 578C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"/var/log/bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)

[33mif[m _DEBUG:[32;1Hlogging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;1H[K[33;130H33,0-1[8CBot[32;1H[?12l[?25h[?25l[33;130H[K[33;1H/[?12l[?25hl[?25l[?12l[?25ho[?25l[?12l[?25hg[?25l[?12l[?25hg[?25l[?12l[?25hi[?25l[?12l[?25hn[?25l[?12l[?25hg[?25l[?12l[?25h[?25l[31msearch hit BOTTOM, continuing at TOP[m[93C6,8[11CBot[33;130H[K[33;130H6,8[11CBot[5;8H[?12l[?25h[?25l[33;1H/logging[33;9H[K[33;1H[129C20,2-9[8CBot[19;9H[?12l[?25h[?25l[33;130H[K[33;1H[129C23,2-9[8CBot[22;9H[?12l[?25h[?25l[33;130H[K[33;1H[129C26,2-9[8CBot[25;9H[?12l[?25h[?25l[33;130H[K[33;1H[129C32,1[10CBot[31;1H[?12l[?25h[?25l[33;130H[K[33;1H[129C32,27[9CBot[31;27H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.pypython dummy_sqlite.py "select * from stacks"
Traceback (most recent call last):
  File "dummy_sqlite.py", line 6, in <module>
    import db_manager 
  File "/home/openstack/bootstrap/scripts/db_manager.py", line 6, in <module>
    import log
  File "/home/openstack/bootstrap/scripts/log.py", line 32
    logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, format="%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s")
          ^
IndentationError: expected an indented block
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py "select * from stacks"
Traceback (most recent call last):
  File "dummy_sqlite.py", line 6, in <module>
    import db_manager 
  File "/home/openstack/bootstrap/scripts/db_manager.py", line 6, in <module>
    import log
  File "/home/openstack/bootstrap/scripts/log.py", line 32
    logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, format="%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s")
          ^
IndentationError: expected an indented block
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ Gpython dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi log.py[K
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 33L, 578C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"/var/log/bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)

[33mif[m _DEBUG:[32;1Hlogging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;1H[K[33;130H33,0-1[8CBot[32;1H[?12l[?25h[?25l[33;131H2,1  [31;1H[?12l[?25h[?25l[33;131H1,0-1[30;1H[?12l[?25h[?25l[33;131H0[29;1H[?12l[?25h[?25l[33;130H29,1-8[28;8H[?12l[?25h[?25l[33;131H8,1  [27;1H[?12l[?25h[?25l[27;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H28,1-8[8CBot[27;8H[?12l[?25h[?25l[27;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H28,0-1[8CBot[27;1H[?12l[?25h[?25l[27;32r[32;1H
[1;33r[32;1H[1m[34m~                                                                                                                                                  [m[33;130H[K[33;130H28,0-1[8CBot[27;1H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"log.py" 30L, 564C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.pypython dummy_sqlite.py "select * from stacks"
Traceback (most recent call last):
  File "dummy_sqlite.py", line 6, in <module>
    import db_manager 
  File "/home/openstack/bootstrap/scripts/db_manager.py", line 6, in <module>
    import log
  File "/home/openstack/bootstrap/scripts/log.py", line 29, in <module>
    logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, format="%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s")
  File "/usr/lib/python2.7/logging/__init__.py", line 1519, in basicConfig
    hdlr = FileHandler(filename, mode)
  File "/usr/lib/python2.7/logging/__init__.py", line 897, in __init__
    StreamHandler.__init__(self, self._open())
  File "/usr/lib/python2.7/logging/__init__.py", line 916, in _open
    stream = open(self.baseFilename, self.mode)
IOError: [Errno 13] Permission denied: '/var/log/bootstrap.txt'
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi log.py[K
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 30L, 564C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"/var/log/bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)


logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)

[1m[34m~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H30,0-1[30;1H[?12l[?25h[?25l[33;130H29,1  [29;1H[?12l[?25h[?25l[33;131H8,0-1[28;1H[?12l[?25h[?25l[33;131H7[27;1H[?12l[?25h[?25l[33;131H6,1-8[26;8H[?12l[?25h[?25l[33;131H5,1  [25;1H[?12l[?25h[?25l[33;131H4,0-1[24;1H[?12l[?25h[?25l[33;131H3,1-8[23;8H[?12l[?25h[?25l[33;131H2,1  [22;1H[?12l[?25h[?25l[33;131H1,0-1[21;1H[?12l[?25h[?25l[33;131H0,1-8[20;8H[?12l[?25h[?25l[33;130H19,1  [19;1H[?12l[?25h[?25l[33;131H8,0-1[18;1H[?12l[?25h[?25l[33;131H7,1-8[17;8H[?12l[?25h[?25l[33;131H6[16;8H[?12l[?25h[?25l[33;131H5,1  [15;1H[?12l[?25h[?25l[33;131H4,0-1[14;1H[?12l[?25h[?25l[33;131H3,1  [13;1H[?12l[?25h[?25l[33;131H2[12;1H[?12l[?25h[?25l[33;131H1[11;1H[?12l[?25h[?25l[33;131H0,0-1[10;1H[?12l[?25h[?25l[33;130H9,1   [9;1H[?12l[?25h[?25l[33;130H8[8;1H[?12l[?25h[?25l[33;130H7,0-1[7;1H[?12l[?25h[?25l[33;130H8,1  [8;1H[?12l[?25h[?25l[33;132H2[8;2H[?12l[?25h[?25l[33;132H3[8;3H[?12l[?25h[?25l[33;132H4[8;4H[?12l[?25h[?25l[33;132H5[8;5H[?12l[?25h[?25l[33;132H6[8;6H[?12l[?25h[?25l[33;132H7[8;7H[?12l[?25h[?25l[33;132H8[8;8H[?12l[?25h[?25l[33;132H9[8;9H[?12l[?25h[?25l[33;132H10[8;10H[?12l[?25h[?25l[33;133H1[8;11H[?12l[?25h[?25l[33;133H2[8;12H[?12l[?25h[?25l[33;133H3[8;13H[?12l[?25h[?25l[33;133H2[8;12H[?12l[?25h[?25l[33;133H3[8;13H[?12l[?25h[?25l[33;133H2[8;12H[?12l[?25h[?25l[33;133H3[8;13H[?12l[?25h[?25l[33;133H2[8;12H[?12l[?25h[?25l[31m"var/log/bootstrap.txt"[m[8;34H[K[8;12H[?12l[?25h[?25l[31m"ar/log/bootstrap.txt"[m[8;33H[K[8;12H[?12l[?25h[?25l[31m"r/log/bootstrap.txt"[m[8;32H[K[8;12H[?12l[?25h[?25l[31m"/log/bootstrap.txt"[m[8;31H[K[8;12H[?12l[?25h[?25l[31m"log/bootstrap.txt"[m[8;30H[K[8;12H[?12l[?25h[?25l[31m"og/bootstrap.txt"[m[8;29H[K[8;12H[?12l[?25h[?25l[31m"g/bootstrap.txt"[m[8;28H[K[8;12H[?12l[?25h[?25l[31m"/bootstrap.txt"[m[8;27H[K[8;12H[?12l[?25h[?25l[31m"bootstrap.txt"[m[8;26H[K[8;12H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"log.py" 30L, 555C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.pypython dummy_sqlite.py "select * from stacks"
(1, u'502e9132-a90b-46aa-b7d3-bd04a7b5b192', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(2, u'2e59d437-ee2b-432b-81c8-9301c7b9dbcc', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(3, u'1c8bba41-67d1-4534-89ab-ebbf5a1009ee', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(4, u'5744f0f9-1243-4717-be5d-9f4f5fe56ff1', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(5, u'4654f86d-7079-4e91-8227-44f56d7582a5', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(6, u'03e99d72-a3a9-43a3-af68-da92e621a39a', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(7, u'9aa2fe91-3eba-4fe8-9f04-47d25c1b4db0', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(8, u'4c8b7f70-9e16-4551-a9a3-3be363273462', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(9, u'40eac4d8-0e20-4cd0-9ca1-a4dd461682d3', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(10, u'eca25914-c0d5-46ce-b4fd-a66a0b5ed792', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(11, u'd5391926-9557-43c2-9aae-74ff40a0f116', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(12, u'c4848608-99c2-4218-a7c0-283a9fd49fad', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(13, u'3ebc06d1-5074-4450-be96-ed0f4d6b39f4', 0, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(14, u'95062509-a216-4675-8769-417033f11b66', 0, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(15, u'175bce64-2316-4db4-b8c2-953b88de3da1', 0, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   [01;32mdb_heat_sh.py[0m   db_neutron.pyc    [01;32mdb_wrapper_sh.py[0m  log.pyc  [01;32mtest.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_manager.py[0m   [01;32mdb_neutron_sh.py[0m  [01;32mdummy_sqlite.py[0m   [01;34mmanager[0m  [01;32mtest_select.py[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       db_manager.pyc  [01;32mdb_wrapper.py[0m     [01;32mkeypair_create[0m    [01;32mmodules[0m
bootstrap.txt             db_heat.pyc      [01;32mdb_neutron.py[0m   db_wrapper.pyc    [01;32mlog.py[0m            [01;32mtest[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrap
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"bootstrap" 350L, 10529C[>c[1;1H[34m#!/bin/bash

#set -e

#SCRIPT_HOME=`dirname $0`[m
[36mSCRIPT_HOME[m=[35m$([m[33mcd[m[35m $[m[33m([m[35mdirname $0[m[33m);pwd[m[35m)[m
[33msource[m [35m$SCRIPT_HOME[m/modules

[36mfunction[m [36mshow_options () {[m
    [33mecho[m[31m [m[33m"[m[31mOptions:[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mbootstrap <configure>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m             configure options.[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_FORWARD_USER    =<ssh login user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_USER            =<exec user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_PASSWORD        =<exec user password>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_DIR             =<exec user directory>[m[33m"[m[20;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_TEMPLATE    =<Manager Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mAGENT_TEMPLATE      =<Agent Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mMANAGER_CONFLICT    =<Agent Manager and conflictf>[m[33m"[m[24;4H [33mecho[m[31m [m[33m"[m[31mINSTANCE_TYPE       =<nova flavor name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mKEY_NAME            =<nova keypair name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSUBNET              =<neutron subnet name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mexit[m [31m0[m
[36m}

function[m [36mcheck_flavor() {[m
    [36mFLAVORS[m=[35m$(nova ${AUTH_PARAMETOR} flavor-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $4} [m[33m'[m[35m)[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrap.txt 
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"bootstrap.txt" 2L, 2229C[>c[1;1H2013-10-17 19:21:42,203 DEBUG log.py debug select * from stacks
2013-10-17 19:21:42,205 DEBUG log.py debug [(1, u'502e9132-a90b-46aa-b7d3-bd04a7b5b192', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-833[3;1H7d-3a3579fb1f50', 1, u'ubuntu-com1'), (2, u'2e59d437-ee2b-432b-81c8-9301c7b9dbcc', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a33[4;1H579fb1f50', 0, u'ubuntu-com1'), (3, u'1c8bba41-67d1-4534-89ab-ebbf5a1009ee', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb11[5;1Hf50', 0, u'ubuntu-com2'), (4, u'5744f0f9-1243-4717-be5d-9f4f5fe56ff1', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50',  [6;1H1, u'ubuntu-com1'), (5, u'4654f86d-7079-4e91-8227-44f56d7582a5', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'uu[7;1Hbuntu-com1'), (6, u'03e99d72-a3a9-43a3-af68-da92e621a39a', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu--[8;1Hcom2'), (7, u'9aa2fe91-3eba-4fe8-9f04-47d25c1b4db0', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1'))[9;1H, (8, u'4c8b7f70-9e16-4551-a9a3-3be363273462', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1'), (9,  [10;1Hu'40eac4d8-0e20-4cd0-9ca1-a4dd461682d3', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2'), (10, u'ecaa[11;1H25914-c0d5-46ce-b4fd-a66a0b5ed792', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1'), (11, u'd53919266[12;1H-9557-43c2-9aae-74ff40a0f116', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1'), (12, u'c4848608-99c22[13;1H-4218-a7c0-283a9fd49fad', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2'), (13, u'3ebc06d1-5074-44500[14;1H-be96-ed0f4d6b39f4', 0, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1'), (14, u'95062509-a216-4675-87699[15;1H-417033f11b66', 0, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1'), (15, u'175bce64-2316-4db4-b8c2-953bb[16;1H88de3da1', 0, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')]
[1m[34m~                                                                                                                                                  [18;1H~                                                                                                                                                  [19;1H~                                                                                                                                                  [20;1H~                                                                                                                                                  [21;1H~                                                                                                                                                  [22;1H~                                                                                                                                                  [23;1H~                                                                                                                                                  [24;1H~                                                                                                                                                  [25;1H~                                                                                                                                                  [26;1H~                                                                                                                                                  [27;1H~                                                                                                                                                  [28;1H~                                                                                                                                                  [29;1H~                                                                                                                                                  [30;1H~                                                                                                                                                  [31;1H~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ rm bootstrap.txt 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ lsrm bootstrap.txt vi[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Kls[Kpython dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi log.py[K
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 30L, 555C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)


logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)

[1m[34m~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7,0-1[7;1H[?12l[?25h[?25l[33;130H8,1  [8;1H[?12l[?25h[?25l[33;132H2[8;2H[?12l[?25h[?25l[33;132H3[8;3H[?12l[?25h[?25l[33;132H4[8;4H[?12l[?25h[?25l[33;132H5[8;5H[?12l[?25h[?25l[33;132H6[8;6H[?12l[?25h[?25l[33;132H7[8;7H[?12l[?25h[?25l[33;132H8[8;8H[?12l[?25h[?25l[33;132H9[8;9H[?12l[?25h[?25l[33;132H10[8;10H[?12l[?25h[?25l[33;133H1[8;11H[?12l[?25h[?25l[33;133H2[8;12H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H8,12[10CAll[8;12H[?12l[?25h[?25l[31m"/bootstrap.txt"[m[33;133H3[8;13H[?12l[?25h[?25l[31m/vbootstrap.txt"[m[33;133H4[8;14H[?12l[?25h[?25l[31mvabootstrap.txt"[m[33;133H5[8;15H[?12l[?25h[?25l[31marbootstrap.txt"[m[33;133H6[8;16H[?12l[?25h[?25l[31mr/bootstrap.txt"[m[33;133H7[8;17H[?12l[?25h[?25l[31m/lbootstrap.txt"[m[33;133H8[8;18H[?12l[?25h[?25l[31mlobootstrap.txt"[m[33;133H9[8;19H[?12l[?25h[?25l[31mogbootstrap.txt"[m[33;132H20[8;20H[?12l[?25h[?25l[31mg/bootstrap.txt"[m[33;133H1[8;21H[?12l[?25h[33;1H[K[8;20H[?25l[33;130H8,20[10CAll[8;20H[?12l[?25h[?25l[33;130H9,12[9;12H[?12l[?25h[?25l[33;130H10,0-1[10;1H[?12l[?25h[?25l[11;20H[31m[46m[[5C][m[33;131H1,20 [11;20H[?12l[?25h[?25l[31m[DEBUG][m[33;131H2[12;20H[?12l[?25h[?25l[33;131H3[13;20H[?12l[?25h[?25l[33;131H4,0-1[14;1H[?12l[?25h[?25l[33;131H5,14 [15;14H[?12l[?25h[?25l[33;131H6,13-20[16;20H[?12l[?25h[?25l[33;131H7[17;20H[?12l[?25h[?25l[33;131H8,0-1  [18;1H[?12l[?25h[?25l[33;131H9,15 [19;15H[?12l[?25h[?25l[33;130H20,13-20[20;20H[?12l[?25h[?25l[33;131H1,0-1  [21;1H[?12l[?25h[?25l[33;131H2,14 [22;14H[?12l[?25h[?25l[33;131H3,13-20[23;20H[?12l[?25h[?25l[33;131H4,0-1  [24;1H[?12l[?25h[?25l[33;131H5,15 [25;15H[?12l[?25h[?25l[33;131H6,13-20[26;20H[?12l[?25h[?25l[33;131H7,0-1  [27;1H[?12l[?25h[?25l[33;131H8[28;1H[?12l[?25h[?25l[29;20H[46m([113C)[m[33;131H9,20 [29;20H[?12l[?25h[?25l([113C)[33;130H30,0-1[30;1H[?12l[?25h[?25l[29;20H[46m([113C)[m[33;130H29,20 [29;20H[?12l[?25h[?25l([113C)[33;130H30,0-1[30;1H[?12l[?25h[?25l[29;20H[46m([113C)[m[33;130H29,20 [29;20H[?12l[?25h[?25l([113C)[33;131H8,0-1[28;1H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h[?25l[1m[37m[41mE37: No write since last change (add ! to override)[m[78C28,0-1[8CAll[28;1H[?12l[?25h[?25l[33;131H7[27;1H[?12l[?25h[?25l[33;131H6,13-20[26;20H[?12l[?25h[?25l[33;1H[K[33;1H:[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l[33;1H[K[33;1H[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.pyls[Krm bootstrap.txt vi[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Kls[Kpython dummy_sqlite.py "select * from stacks"
(1, u'502e9132-a90b-46aa-b7d3-bd04a7b5b192', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(2, u'2e59d437-ee2b-432b-81c8-9301c7b9dbcc', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(3, u'1c8bba41-67d1-4534-89ab-ebbf5a1009ee', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(4, u'5744f0f9-1243-4717-be5d-9f4f5fe56ff1', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(5, u'4654f86d-7079-4e91-8227-44f56d7582a5', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(6, u'03e99d72-a3a9-43a3-af68-da92e621a39a', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(7, u'9aa2fe91-3eba-4fe8-9f04-47d25c1b4db0', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(8, u'4c8b7f70-9e16-4551-a9a3-3be363273462', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(9, u'40eac4d8-0e20-4cd0-9ca1-a4dd461682d3', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(10, u'eca25914-c0d5-46ce-b4fd-a66a0b5ed792', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(11, u'd5391926-9557-43c2-9aae-74ff40a0f116', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(12, u'c4848608-99c2-4218-a7c0-283a9fd49fad', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(13, u'3ebc06d1-5074-4450-be96-ed0f4d6b39f4', 0, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(14, u'95062509-a216-4675-8769-417033f11b66', 0, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(15, u'175bce64-2316-4db4-b8c2-953b88de3da1', 0, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi log.py[K
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 30L, 555C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)


logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)

[1m[34m~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7,0-1[7;1H[?12l[?25h[?25l[33;130H8,1  [8;1H[?12l[?25h[?25l[33;132H2[8;2H[?12l[?25h[?25l[33;132H3[8;3H[?12l[?25h[?25l[33;132H4[8;4H[?12l[?25h[?25l[33;132H5[8;5H[?12l[?25h[?25l[33;132H6[8;6H[?12l[?25h[?25l[33;132H7[8;7H[?12l[?25h[?25l[33;132H8[8;8H[?12l[?25h[?25l[33;132H9[8;9H[?12l[?25h[?25l[33;132H10[8;10H[?12l[?25h[?25l[33;133H1[8;11H[?12l[?25h[?25l[33;133H2[8;12H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H8,12[10CAll[8;12H[?12l[?25h[?25l[31m"/bootstrap.txt"[m[33;133H3[8;13H[?12l[?25h[?25l[31m/vbootstrap.txt"[m[33;133H4[8;14H[?12l[?25h[?25l[31mvabootstrap.txt"[m[33;133H5[8;15H[?12l[?25h[?25l[31marbootstrap.txt"[m[33;133H6[8;16H[?12l[?25h[?25l[31mr/bootstrap.txt"[m[33;133H7[8;17H[?12l[?25h[?25l[31m/lbootstrap.txt"[m[33;133H8[8;18H[?12l[?25h[?25l[31mlobootstrap.txt"[m[33;133H9[8;19H[?12l[?25h[?25l[31mogbootstrap.txt"[m[33;132H20[8;20H[?12l[?25h[?25l[31mg/bootstrap.txt"[m[33;133H1[8;21H[?12l[?25h[33;1H[K[8;20H[?25l[33;130H8,20[10CAll[8;20H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"log.py" 30L, 564C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.pypython dummy_sqlite.py "select * from stacks"
Traceback (most recent call last):
  File "dummy_sqlite.py", line 6, in <module>
    import db_manager 
  File "/home/openstack/bootstrap/scripts/db_manager.py", line 6, in <module>
    import log
  File "/home/openstack/bootstrap/scripts/log.py", line 29, in <module>
    logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, format="%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s")
  File "/usr/lib/python2.7/logging/__init__.py", line 1519, in basicConfig
    hdlr = FileHandler(filename, mode)
  File "/usr/lib/python2.7/logging/__init__.py", line 897, in __init__
    StreamHandler.__init__(self, self._open())
  File "/usr/lib/python2.7/logging/__init__.py", line 916, in _open
    stream = open(self.baseFilename, self.mode)
IOError: [Errno 13] Permission denied: '/var/log/bootstrap.txt'
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py "select * from stacks"
(1, u'502e9132-a90b-46aa-b7d3-bd04a7b5b192', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(2, u'2e59d437-ee2b-432b-81c8-9301c7b9dbcc', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(3, u'1c8bba41-67d1-4534-89ab-ebbf5a1009ee', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(4, u'5744f0f9-1243-4717-be5d-9f4f5fe56ff1', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(5, u'4654f86d-7079-4e91-8227-44f56d7582a5', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(6, u'03e99d72-a3a9-43a3-af68-da92e621a39a', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(7, u'9aa2fe91-3eba-4fe8-9f04-47d25c1b4db0', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(8, u'4c8b7f70-9e16-4551-a9a3-3be363273462', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(9, u'40eac4d8-0e20-4cd0-9ca1-a4dd461682d3', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(10, u'eca25914-c0d5-46ce-b4fd-a66a0b5ed792', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(11, u'd5391926-9557-43c2-9aae-74ff40a0f116', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(12, u'c4848608-99c2-4218-a7c0-283a9fd49fad', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(13, u'3ebc06d1-5074-4450-be96-ed0f4d6b39f4', 0, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(14, u'95062509-a216-4675-8769-417033f11b66', 0, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(15, u'175bce64-2316-4db4-b8c2-953b88de3da1', 0, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi log.py[K
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 30L, 564C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"/var/log/bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)


logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)

[1m[34m~                                                                                                                                                  [32;1H~                                                                                                                                                  [m[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7,0-1[7;1H[?12l[?25h[?25l[33;130H8,1  [8;1H[?12l[?25h[?25l[33;130H9[9;1H[?12l[?25h[?25l[33;130H10,0-1[10;1H[?12l[?25h[?25l[33;131H1,1  [11;1H[?12l[?25h[?25l[33;131H2[12;1H[?12l[?25h[?25l[33;131H3[13;1H[?12l[?25h[?25l[33;131H4,0-1[14;1H[?12l[?25h[?25l[33;131H5,1  [15;1H[?12l[?25h[?25l[33;131H6,1-8[16;8H[?12l[?25h[?25l[33;131H7[17;8H[?12l[?25h[?25l[33;131H8,0-1[18;1H[?12l[?25h[?25l[33;131H9,1  [19;1H[?12l[?25h[?25l[33;130H20,1-8[20;8H[?12l[?25h[?25l[33;131H1,0-1[21;1H[?12l[?25h[?25l[33;131H2,1  [22;1H[?12l[?25h[?25l[33;131H3,1-8[23;8H[?12l[?25h[?25l[33;131H4,0-1[24;1H[?12l[?25h[?25l[33;131H5,1  [25;1H[?12l[?25h[?25l[33;131H6,1-8[26;8H[?12l[?25h[?25l[33;131H7,0-1[27;1H[?12l[?25h[?25l[33;131H8[28;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H28,1[10CAll[28;1H[?12l[?25h[?25l[29;32r[29;1H[L[1;33r[33;130H[K[33;130H29,1[10CAll[29;1H[?12l[?25h[?25l[33;131H8[28;1H[?12l[?25h[?25li[33;133H2[28;2H[?12l[?25h[?25l[33mif[m[33;133H3[28;3H[?12l[?25h[?25l[33;133H4[28;4H[?12l[?25h[?25l[33;131H7,1[27;1H[?12l[?25h[?25l[28;32r[28;1H[L[1;33r[33;130H[K[33;130H28,1[10CAll[28;1H[?12l[?25h[?25l[33;131H7[27;1H[?12l[?25h[?25l[28;32r[28;1H[L[1;33r[33;130H[K[33;130H28,1[10CTop[28;1H[?12l[?25h[33;1H[K[28;1H[?25l[33;130H28,0-1[8CTop[28;1H[?12l[?25h[?25l[33;131H9[29;1H[?12l[?25h[?25l[33;130H30,1  [30;1H[?12l[?25h[?25l[30;1H[K[31;1Hlogging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[32;1H[K[33;133H0-1[8CAll[30;1H[?12l[?25h[?25l[33;130H29[29;1H[?12l[?25h[?25l[33;131H8[28;1H[?12l[?25h[?25l[33;130H31,7  [31;7H[?12l[?25h[?25l[33;131H0,0-1[30;1H[?12l[?25h[?25l[33;130H29[29;1H[?12l[?25h[?25l[33;131H8[28;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H28,1[10CAll[28;1H[?12l[?25h[?25ld[33;133H2[28;2H[?12l[?25h[?25lde[33;133H3[28;3H[?12l[?25h[?25l[33mdef[m[33;133H4[28;4H[?12l[?25h[?25l[33;133H5[28;5H[?12l[?25h[?25l [36mw[m[33;133H6[28;6H[?12l[?25h[?25l[36mwa[m[33;133H7[28;7H[?12l[?25h[?25l[36mar[m[33;133H8[28;8H[?12l[?25h[?25l[36mrn[m[33;133H9[28;9H[?12l[?25h[?25l[36mn[m([33;133H10[28;10H[?12l[?25h[?25l()[46m()[m[33;134H1[28;11H[?12l[?25h[?25l[33;134H0[28;10H[?12l[?25h[?25l[46m(m[m)m[46m)[m[33;134H1[28;11H[?12l[?25h[?25lm[46me[m)e[46m)[m[33;134H2[28;12H[?12l[?25h[?25le[46ms[m)s[46m)[m[33;134H3[28;13H[?12l[?25h[?25l[33;134H4[28;14H[?12l[?25h[?25l[46m)[m:(mes)[33;134H5[28;15H[?12l[?25h[?25l[29;32r[29;1H[L[1;33r[33;130H[K[33;130H29,1[10CTop[29;1H[?12l[?25h[?25l[33;133H2-9[29;9H[?12l[?25h[?25l l[33;133H3-10[29;10H[?12l[?25h[?25llo[33;133H4-11[29;11H[?12l[?25h[?25log[33;133H5-12[29;12H[?12l[?25h[?25lgg[33;133H6-13[29;13H[?12l[?25h[?25lgi[33;133H7-14[29;14H[?12l[?25h[?25lin[33;133H8-15[29;15H[?12l[?25h[?25ln.[33;133H9-16[29;16H[?12l[?25h[?25l.w[33;133H10-17[29;17H[?12l[?25h[?25lwa[33;134H1-18[29;18H[?12l[?25h[?25lar[33;134H2-19[29;19H[?12l[?25h[?25lrn[33;134H3-20[29;20H[?12l[?25h[?25ln([33;134H4-21[29;21H[?12l[?25h[?25l()[46m()[m[33;134H5-22[29;22H[?12l[?25h[?25l[33;134H4-21[29;21H[?12l[?25h[?25l[46m(m[m)m[46m)[m[33;134H5-22[29;22H[?12l[?25h[?25lm[46me[m)e[46m)[m[33;134H6-23[29;23H[?12l[?25h[?25le[46ms[m)s[46m)[m[33;134H7-24[29;24H[?12l[?25h[33;1H[K[29;23H[?25l(mes)[33;130H29,16-23      Top[29;23H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"log.py" 33L, 598C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.pypython dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi log.py[K
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 33L, 598C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"/var/log/bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)

[33mdef[m [36mwarn[m(mes):[29;8H loggin.warn(mes)


logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7,0-1[7;1H[?12l[?25h[?25l[33;130H8,1  [8;1H[?12l[?25h[?25l[33;130H9[9;1H[?12l[?25h[?25l[33;130H10,0-1[10;1H[?12l[?25h[?25l[33;131H1,1  [11;1H[?12l[?25h[?25l[33;131H2[12;1H[?12l[?25h[?25l[33;131H3[13;1H[?12l[?25h[?25l[33;131H4,0-1[14;1H[?12l[?25h[?25l[33;131H5,1  [15;1H[?12l[?25h[?25l[33;131H6,1-8[16;8H[?12l[?25h[?25l[33;131H7[17;8H[?12l[?25h[?25l[33;131H8,0-1[18;1H[?12l[?25h[?25l[33;131H9,1  [19;1H[?12l[?25h[?25l[33;130H20,1-8[20;8H[?12l[?25h[?25l[33;131H1,0-1[21;1H[?12l[?25h[?25l[33;131H2,1  [22;1H[?12l[?25h[?25l[33;131H3,1-8[23;8H[?12l[?25h[?25l[33;131H4,0-1[24;1H[?12l[?25h[?25l[33;131H5,1  [25;1H[?12l[?25h[?25l[33;131H6,1-8[26;8H[?12l[?25h[?25l[33;131H7,0-1[27;1H[?12l[?25h[?25l[33;131H8,1  [28;1H[?12l[?25h[?25l[33;131H9,1-8[29;8H[?12l[?25h[?25l[33;130H30,0-1[30;1H[?12l[?25h[?25l[33;131H1[31;1H[?12l[?25h[?25l[33;131H2,1  [32;1H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;1H[K[33;130H33,0-1[8CBot[32;1H[?12l[?25h[?25l[33;131H2,1  [31;1H[?12l[?25h[?25l[33;131H1,0-1[30;1H[?12l[?25h[?25l


[1m-- INSERT --[m[33;130H[K[33;130H31,1[10CBot[30;1H[?12l[?25h[?25l/var/log/bootstrap.txt[33;133H23[30;23H[?12l[?25h[?25l[30;22H[K[33;134H2[30;22H[?12l[?25h[?25l[30;21H[K[33;134H1[30;21H[?12l[?25h[?25l[30;19H[K[33;133H19[30;19H[?12l[?25h[?25l[30;17H[K[33;134H7[30;17H[?12l[?25h[?25l[30;15H[K[33;134H5[30;15H[?12l[?25h[?25l[30;13H[K[33;134H3[30;13H[?12l[?25h[?25l[30;10H[K[33;134H0[30;10H[?12l[?25h[?25l[30;8H[K[33;133H8 [30;8H[?12l[?25h[?25l[30;6H[K[33;133H6[30;6H[?12l[?25h[?25l[30;5H[K[33;133H5[30;5H[?12l[?25h[?25l[30;4H[K[33;133H4[30;4H[?12l[?25h[?25l[30;3H[K[33;133H3[30;3H[?12l[?25h[?25l[30;2H[K[33;133H2[30;2H[?12l[?25h[?25l[30;1H[K[33;133H1[30;1H[?12l[?25h[?25l/var/log/bootstrap.txt[33;133H23[30;23H[?12l[?25h[?25l[30;22H[K[33;134H2[30;22H[?12l[?25h[?25l[30;21H[K[33;134H1[30;21H[?12l[?25h[?25l[30;19H[K[33;133H19[30;19H[?12l[?25h[?25l[30;17H[K[33;134H7[30;17H[?12l[?25h[?25l[30;15H[K[33;134H5[30;15H[?12l[?25h[?25l[30;13H[K[33;134H3[30;13H[?12l[?25h[?25l[30;10H[K[33;134H0[30;10H[?12l[?25h[?25l[30;8H[K[33;133H8 [30;8H[?12l[?25h[?25l[30;6H[K[33;133H6[30;6H[?12l[?25h[?25l[30;4H[K[33;133H4[30;4H[?12l[?25h[?25l[30;2H[K[33;133H2[30;2H[?12l[?25h[?25l[30;1H[K[33;133H1[30;1H[?12l[?25h[?25l[33mif[m __name__ == [31m'__main__'[m:[31;1H[K[32;1Hlogging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[33;131H2[12C50%[31;1H[?12l[?25h[33;1H[K[31;1H[?25l[33;130H32,0-1[8C50%[31;1H[?12l[?25h[?25llogging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[32;1H[K[33;133H1  [8CBot[31;1H[?12l[?25h[?25l

[1m-- INSERT --[m[33;130H[K[33;130H32,1[10CBot[31;1H[?12l[?25h[?25l        logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[33;133H2-9[31;9H[?12l[?25h[33;1H[K[31;8H[?25l[33;130H32,1-8[8CBot[31;8H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"log.py" 33L, 625C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.pypython dummy_sqlite.py "select * from stacks"
(1, u'502e9132-a90b-46aa-b7d3-bd04a7b5b192', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(2, u'2e59d437-ee2b-432b-81c8-9301c7b9dbcc', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(3, u'1c8bba41-67d1-4534-89ab-ebbf5a1009ee', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(4, u'5744f0f9-1243-4717-be5d-9f4f5fe56ff1', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(5, u'4654f86d-7079-4e91-8227-44f56d7582a5', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(6, u'03e99d72-a3a9-43a3-af68-da92e621a39a', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(7, u'9aa2fe91-3eba-4fe8-9f04-47d25c1b4db0', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(8, u'4c8b7f70-9e16-4551-a9a3-3be363273462', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(9, u'40eac4d8-0e20-4cd0-9ca1-a4dd461682d3', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(10, u'eca25914-c0d5-46ce-b4fd-a66a0b5ed792', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(11, u'd5391926-9557-43c2-9aae-74ff40a0f116', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(12, u'c4848608-99c2-4218-a7c0-283a9fd49fad', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(13, u'3ebc06d1-5074-4450-be96-ed0f4d6b39f4', 0, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(14, u'95062509-a216-4675-8769-417033f11b66', 0, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(15, u'175bce64-2316-4db4-b8c2-953b88de3da1', 0, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py "select * from stacks"
(1, u'502e9132-a90b-46aa-b7d3-bd04a7b5b192', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(2, u'2e59d437-ee2b-432b-81c8-9301c7b9dbcc', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(3, u'1c8bba41-67d1-4534-89ab-ebbf5a1009ee', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(4, u'5744f0f9-1243-4717-be5d-9f4f5fe56ff1', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(5, u'4654f86d-7079-4e91-8227-44f56d7582a5', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(6, u'03e99d72-a3a9-43a3-af68-da92e621a39a', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(7, u'9aa2fe91-3eba-4fe8-9f04-47d25c1b4db0', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(8, u'4c8b7f70-9e16-4551-a9a3-3be363273462', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(9, u'40eac4d8-0e20-4cd0-9ca1-a4dd461682d3', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(10, u'eca25914-c0d5-46ce-b4fd-a66a0b5ed792', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(11, u'd5391926-9557-43c2-9aae-74ff40a0f116', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(12, u'c4848608-99c2-4218-a7c0-283a9fd49fad', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(13, u'3ebc06d1-5074-4450-be96-ed0f4d6b39f4', 0, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(14, u'95062509-a216-4675-8769-417033f11b66', 0, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(15, u'175bce64-2316-4db4-b8c2-953b88de3da1', 0, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi log.py[K
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 33L, 625C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"/var/log/bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)

[33mdef[m [36mwarn[m(mes):[29;8H loggin.warn(mes)

[33mif[m __name__ == [31m'__main__'[m:[32;8H logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7,0-1[7;1H[?12l[?25h[?25l[33;130H8,1  [8;1H[?12l[?25h[?25l[33;130H9[9;1H[?12l[?25h[?25l[33;130H10,0-1[10;1H[?12l[?25h[?25l[33;131H1,1  [11;1H[?12l[?25h[?25l[33;131H2[12;1H[?12l[?25h[?25l[33;131H3[13;1H[?12l[?25h[?25l[33;131H4,0-1[14;1H[?12l[?25h[?25l[33;131H5,1  [15;1H[?12l[?25h[?25l[33;131H6,1-8[16;8H[?12l[?25h[?25l[33;131H7[17;8H[?12l[?25h[?25l[33;131H8,0-1[18;1H[?12l[?25h[?25l[33;131H9,1  [19;1H[?12l[?25h[?25l[33;130H20,1-8[20;8H[?12l[?25h[?25l[33;131H1,0-1[21;1H[?12l[?25h[?25l[33;131H2,1  [22;1H[?12l[?25h[?25l[33;131H3,1-8[23;8H[?12l[?25h[?25l[33;131H4,0-1[24;1H[?12l[?25h[?25l[33;131H5,1  [25;1H[?12l[?25h[?25l[33;131H6,1-8[26;8H[?12l[?25h[?25l[33;131H7,0-1[27;1H[?12l[?25h[?25l[33;131H8,1  [28;1H[?12l[?25h[?25l[33;131H9,1-8[29;8H[?12l[?25h[?25l[33;130H30,0-1[30;1H[?12l[?25h[?25l[33;131H1,1  [31;1H[?12l[?25h[?25l[33;131H2,1-8[32;8H[?12l[?25h[?25l[1;32r[32;1H
[1;33r[33;1H[K[33;130H33,0-1[8CBot[32;1H[?12l[?25h[?25l[33;131H2,1-8[31;8H[?12l[?25h[?25l[33;131H1,1  [30;1H[?12l[?25h[?25l[33;131H0,0-1[29;1H[?12l[?25h[?25l[33;131H1,1  [30;1H[?12l[?25h[?25l        logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[31;9H[K[32;1H[1m[34m~                                                                                                                                                  [m[33;133H2-9[30;9H[?12l[?25h[?25l[33;133H1-8[30;8H[?12l[?25h[?25llogging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[30;135H[K[33;134H  [30;1H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"log.py" 32L, 597C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.pypython dummy_sqlite.py "select * from stacks"
(1, u'502e9132-a90b-46aa-b7d3-bd04a7b5b192', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(2, u'2e59d437-ee2b-432b-81c8-9301c7b9dbcc', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(3, u'1c8bba41-67d1-4534-89ab-ebbf5a1009ee', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(4, u'5744f0f9-1243-4717-be5d-9f4f5fe56ff1', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(5, u'4654f86d-7079-4e91-8227-44f56d7582a5', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(6, u'03e99d72-a3a9-43a3-af68-da92e621a39a', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(7, u'9aa2fe91-3eba-4fe8-9f04-47d25c1b4db0', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(8, u'4c8b7f70-9e16-4551-a9a3-3be363273462', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(9, u'40eac4d8-0e20-4cd0-9ca1-a4dd461682d3', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(10, u'eca25914-c0d5-46ce-b4fd-a66a0b5ed792', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(11, u'd5391926-9557-43c2-9aae-74ff40a0f116', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(12, u'c4848608-99c2-4218-a7c0-283a9fd49fad', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(13, u'3ebc06d1-5074-4450-be96-ed0f4d6b39f4', 0, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(14, u'95062509-a216-4675-8769-417033f11b66', 0, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(15, u'175bce64-2316-4db4-b8c2-953b88de3da1', 0, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ python dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi log.py[K
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 32L, 597C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

_LOG_PATH=[31m"/var/log/bootstrap.txt"[m
_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[16;8H now = datetime.datetime.now()[17;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[20;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[23;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[26;8H logging.error(mes)

[33mdef[m [36mwarn[m(mes):[29;8H loggin.warn(mes)

logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, [36mformat[m=[31m"%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s"[m)[33;130H1,1[11CAll[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7,0-1[7;1H[?12l[?25h[?25l[33;130H8,1  [8;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H8,1[11CAll[8;1H[?12l[?25h[?25l[34m#_LOG_PATH="/var/log/bootstrap.txt"[m[33;132H2[8;2H[?12l[?25h[?25l[33;130H9[9;2H[?12l[?25h[?25l[33;132H1[9;1H[?12l[?25h[?25l[10;32r[10;1H[L[1;33r[9;1H[K[10;1H_DEBUG=[36mFalse[m[33;130H[K[33;130H10,1[10CTop[10;1H[?12l[?25h[?25l[33;130H9,1 [9;1H[?12l[?25h[?25l[34m#[m[33;132H2[9;2H[?12l[?25h[?25l[9;1H[K[33;132H1[9;1H[?12l[?25h[33;1H[K[9;1H[?25l[33;130H9,0-1[9CTop[9;1H[?12l[?25h[?25l[33;130H8,1  [8;1H[?12l[?25h[?25l[9;32r[9;1H[L[1;33r[9;1H[34m#_LOG_PATH="/var/log/bootstrap.txt"[m[33;130H[K[33;130H9,1[11CTop[9;1H[?12l[?25h[?25l[33;132H2[9;2H[?12l[?25h[?25l[33;132H1[9;1H[?12l[?25h[?25l_LOG_PATH=[31m"/var/log/bootstrap.txt"[m[9;35H[K[9;1H[?12l[?25h[?25l[33;132H2[9;2H[?12l[?25h[?25l[33;132H3[9;3H[?12l[?25h[?25l[33;132H4[9;4H[?12l[?25h[?25l[33;132H5[9;5H[?12l[?25h[?25l[33;132H6[9;6H[?12l[?25h[?25l[33;132H7[9;7H[?12l[?25h[?25l[33;132H8[9;8H[?12l[?25h[?25l[33;132H9[9;9H[?12l[?25h[?25l[33;132H10[9;10H[?12l[?25h[?25l[33;133H1[9;11H[?12l[?25h[?25l[33;133H2[9;12H[?12l[?25h[?25l[33;133H3[9;13H[?12l[?25h[?25l[33;133H4[9;14H[?12l[?25h[?25l[33;133H3[9;13H[?12l[?25h[?25l[33;133H2[9;12H[?12l[?25h[?25l[31m"var/log/bootstrap.txt"[m[9;34H[K[9;12H[?12l[?25h[?25l[31m"ar/log/bootstrap.txt"[m[9;33H[K[9;12H[?12l[?25h[?25l[31m"r/log/bootstrap.txt"[m[9;32H[K[9;12H[?12l[?25h[?25l[31m"/log/bootstrap.txt"[m[9;31H[K[9;12H[?12l[?25h[?25l[31m"log/bootstrap.txt"[m[9;30H[K[9;12H[?12l[?25h[?25l[31m"og/bootstrap.txt"[m[9;29H[K[9;12H[?12l[?25h[?25l[31m"g/bootstrap.txt"[m[9;28H[K[9;12H[?12l[?25h[?25l[31m"/bootstrap.txt"[m[9;27H[K[9;12H[?12l[?25h[?25l[31m"bootstrap.txt"[m[9;26H[K[9;12H[?12l[?25h[?25l[33;133H3[9;13H[?12l[?25h[?25l[33;133H4[9;14H[?12l[?25h[?25l[33;133H5[9;15H[?12l[?25h[?25l[33;133H6[9;16H[?12l[?25h[?25l[33;133H7[9;17H[?12l[?25h[?25l[33;133H8[9;18H[?12l[?25h[?25l[33;133H9[9;19H[?12l[?25h[?25l[33;132H20[9;20H[?12l[?25h[?25l[33;133H1[9;21H[?12l[?25h[?25l[33;133H2[9;22H[?12l[?25h[?25l[33;133H3[9;23H[?12l[?25h[?25l[33;133H4[9;24H[?12l[?25h[?25l[33;133H3[9;23H[?12l[?25h[?25l[33;133H2[9;22H[?12l[?25h[?25l[31m.xt"[m[9;25H[K[9;22H[?12l[?25h[?25l[31m.t"[m[9;24H[K[9;22H[?12l[?25h[?25l[31m."[m[9;23H[K[9;22H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H10,1[10CTop[10;32r[10;1H[L[1;33r[33;130H[K[33;130H10,1[10CTop[10;1H[?12l[?25h[?25ld[33;133H2[10;2H[?12l[?25h[?25ldd[33;133H3[10;3H[?12l[?25h[?25l[10;2H[K[33;133H2[10;2H[?12l[?25h[?25l[10;1H[K[33;133H1[10;1H[?12l[?25h[?25l[9;32r[32;1H
[1;33r[9;1H_LOG_PATH=[31m"bootstrap."[m[33;130H[K[33;130H9,23[10CTop[9;23H[?12l[?25h[?25l[33;133H2[9;22H[?12l[?25h[?25l[31m.l"[m[33;133H3[9;23H[?12l[?25h[?25l[31mlo"[m[33;133H4[9;24H[?12l[?25h[?25l[31mog"[m[33;133H5[9;25H[?12l[?25h[33;1H[K[9;24H[?25l[33;130H9,24[10CTop[9;24H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"log.py" 34L, 625C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   [01;32mdb_heat_sh.py[0m   db_neutron.pyc    [01;32mdb_wrapper_sh.py[0m  log.pyc  [01;32mtest.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_manager.py[0m   [01;32mdb_neutron_sh.py[0m  [01;32mdummy_sqlite.py[0m   [01;34mmanager[0m  [01;32mtest_select.py[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       db_manager.pyc  [01;32mdb_wrapper.py[0m     [01;32mkeypair_create[0m    [01;32mmodules[0m
bootstrap.txt             db_heat.pyc      [01;32mdb_neutron.py[0m   db_wrapper.pyc    [01;32mlog.py[0m            [01;32mtest[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ rm bootstrap.txt 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ll
total 120
drwxrwxr-x  3 openstack openstack  4096 Oct 17 19:34 [0m[01;34m.[0m/
drwxrwxr-x 11 openstack openstack  4096 Oct 17 16:00 [01;34m..[0m/
-rwxrwxr-x  1 openstack openstack   957 Oct 11 16:57 [01;32mavailability_zone_create[0m*
-rwxrwxr-x  1 openstack openstack 10529 Oct 17 18:15 [01;32mbootstrap[0m*
-rwxrwxr-x  1 openstack openstack  5976 Oct 11 15:58 [01;32mbootstrap_bk[0m*
-rw-rw-r--  1 openstack openstack   406 Oct 10 17:00 credentials.py
-rw-rw-r--  1 openstack openstack   588 Oct 10 17:02 credentials.pyc
-rwxrwxr-x  1 openstack openstack  1299 Oct 16 16:55 [01;32mdb_heat.py[0m*
-rw-rw-r--  1 openstack openstack  1931 Oct 16 16:58 db_heat.pyc
-rwxrwxr-x  1 openstack openstack   288 Oct 16 17:09 [01;32mdb_heat_sh.py[0m*
-rwxrwxr-x  1 openstack openstack  1131 Oct 16 09:07 [01;32mdb_manager.py[0m*
-rw-rw-r--  1 openstack openstack  1712 Oct 16 09:07 db_manager.pyc
-rwxrwxr-x  1 openstack openstack  1690 Oct 16 18:44 [01;32mdb_neutron.py[0m*
-rw-rw-r--  1 openstack openstack  2175 Oct 16 18:58 db_neutron.pyc
-rwxrwxr-x  1 openstack openstack   297 Oct 16 18:34 [01;32mdb_neutron_sh.py[0m*
-rwxrwxr-x  1 openstack openstack   927 Oct 16 14:50 [01;32mdb_wrapper.py[0m*
-rw-rw-r--  1 openstack openstack  1682 Oct 16 14:53 db_wrapper.pyc
-rwxrwxr-x  1 openstack openstack   429 Oct 16 14:15 [01;32mdb_wrapper_sh.py[0m*
-rwxrwxr-x  1 openstack openstack   244 Oct 17 16:53 [01;32mdummy_sqlite.py[0m*
-rwxrwxr-x  1 openstack openstack   778 Oct 11 16:56 [01;32mkeypair_create[0m*
-rwxrwxr-x  1 openstack openstack   625 Oct 17 19:34 [01;32mlog.py[0m*
-rw-rw-r--  1 openstack openstack  1478 Oct 17 19:34 log.pyc
drwxrwxr-x  4 openstack openstack  4096 Oct 17 17:58 [01;34mmanager[0m/
-rwxrwxr-x  1 openstack openstack   177 Oct  3 16:40 [01;32mmodules[0m*
-rwxrwxr-x  1 openstack openstack   157 Oct 16 17:01 [01;32mtest[0m*
-rwxrwxr-x  1 openstack openstack    80 Oct 17 09:45 [01;32mtest.py[0m*
-rwxrwxr-x  1 openstack openstack  1196 Oct 10 17:11 [01;32mtest_select.py[0m*
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ cd../[K[K[K[K[Kcd ../
]0;openstack@ubuntu-ct: ~/bootstrapopenstack@ubuntu-ct:~/bootstrap$ find -name bootstrap..[Klog
./web/bootstrap.log
./web/log/bootstrap.log
]0;openstack@ubuntu-ct: ~/bootstrapopenstack@ubuntu-ct:~/bootstrap$ find -name bootstrap.log
./web/bootstrap.log
./web/log/bootstrap.log
]0;openstack@ubuntu-ct: ~/bootstrapopenstack@ubuntu-ct:~/bootstrap$ rm ./web/bootstrap.log
]0;openstack@ubuntu-ct: ~/bootstrapopenstack@ubuntu-ct:~/bootstrap$ cd scripts/
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi log.py
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"log.py" 34L, 625C[>c[1;1H[34m#!/usr/bin/env python
# -*- coding: utf-8 -*-[m

[35mimport[m sys
[35mimport[m datetime
[35mimport[m logging

[34m#_LOG_PATH="/var/log/bootstrap.txt"[m
_LOG_PATH=[31m"bootstrap.log"[m

_DEBUG=[36mFalse[m

debug_format=[31m"%s - [DEBUG] %s"[m
info_format=[31m"%s - [INFO] %s"[m
err_format=[31m"%s - [ERROR] %s"[m

[33mdef[m [36mget_now[m():[18;8H now = datetime.datetime.now()[19;8H [33mreturn[m now.strftime([31m"%Y/%m/%d %H:%M:%S"[m)

[33mdef[m [36mdebug[m(mes):[22;8H logging.debug(mes)

[33mdef[m [36minfo[m(mes):[25;8H logging.info(mes)

[33mdef[m [36merror[m(mes):[28;8H logging.error(mes)

[33mdef[m [36mwarn[m(mes):[31;8H loggin.warn(mes)[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[33;130H2[2;1H[?12l[?25h[?25l[33;130H3,0-1[3;1H[?12l[?25h[?25l[33;130H4,1  [4;1H[?12l[?25h[?25l[33;130H5[5;1H[?12l[?25h[?25l[33;130H6[6;1H[?12l[?25h[?25l[33;130H7,0-1[7;1H[?12l[?25h[?25l[33;130H8,1  [8;1H[?12l[?25h[?25l_LOG_PATH=[31m"/var/log/bootstrap.txt"[m[8;35H[K[8;1H[?12l[?25h[?25l[33;130H9[9;1H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;13H[K[33;130H9,1[11CTop[9;1H[?12l[?25h[?25l[34m#_LOG_PATH="bootstrap.log"[m[33;132H2[9;2H[?12l[?25h[?25l[33;130H8[8;2H[?12l[?25h[?25l[33;132H3[8;3H[?12l[?25h[?25l[33;132H4[8;4H[?12l[?25h[?25l[33;132H6[8;6H[?12l[?25h[?25l[33;132H8[8;8H[?12l[?25h[?25l[33;132H10[8;10H[?12l[?25h[?25l[33;133H2[8;12H[?12l[?25h[?25l[33;133H4[8;14H[?12l[?25h[?25l[33;133H7[8;17H[?12l[?25h[?25l[33;133H9[8;19H[?12l[?25h[?25l[33;132H20[8;20H[?12l[?25h[?25l[33;133H1[8;21H[?12l[?25h[?25l[31m/ibootstrap.txt"[m[33;133H2[8;22H[?12l[?25h[?25l[31m/bootstrap.txt"[m[8;35H[K[33;133H1[8;21H[?12l[?25h[?25l[31m//bootstrap.txt"[m[33;133H2[8;22H[?12l[?25h[?25l[33;133H1[8;21H[?12l[?25h[?25l[31m/b/bootstrap.txt"[m[33;133H2[8;22H[?12l[?25h[?25l[31mbo/bootstrap.txt"[m[33;133H3[8;23H[?12l[?25h[?25l[31moo/bootstrap.txt"[m[33;133H4[8;24H[?12l[?25h[?25l[31mot/bootstrap.txt"[m[33;133H5[8;25H[?12l[?25h[?25l[31mts/bootstrap.txt"[m[33;133H6[8;26H[?12l[?25h[?25l[31mst/bootstrap.txt"[m[33;133H7[8;27H[?12l[?25h[?25l[31mtr/bootstrap.txt"[m[33;133H8[8;28H[?12l[?25h[?25l[31mra/bootstrap.txt"[m[33;133H9[8;29H[?12l[?25h[?25l[31map/bootstrap.txt"[m[33;132H30[8;30H[?12l[?25h[?25l[33;130H9,27[9;27H[?12l[?25h[33;1H[K[9;26H[?25l[33;130H9,26[10CTop[9;26H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"log.py" 34L, 635C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ mkdir /var/log/bootstrap.txt [K[K[K[K[K
mkdir: cannot create directory `/var/log/bootstrap': Permission denied
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ mkdir /var/log/bootstrap[1@s[1@u[1@d[1@o[1@ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ rm /var/log/bootstrap/[K.txt 
rm: cannot remove `/var/log/bootstrap.txt': Permission denied
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ rm /var/log/bootstrap.txt [1@s[1@u[1@d[1@o[1@ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi [K[K[Kchmod +w [Kr b[K/bo[K[Kvar/log/bootstrap/[K
chmod: changing permissions of `/var/log/bootstrap': Operation not permitted
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ chmod +wr /var/log/bootstrap[1@s[1@u[1@d[1@o[1@ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ sudo chmod +wr /var/log/bootstrap[5P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cls[Ksudo rm /var/log/bootstrap.txt [5P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Csudo mkdir /var/log/bootstrap[5P[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[15Pvi log.pyls[Kcd scripts/rm ./web/bootstrap.logfind -name bootstrap.logcd ../[K[4Pllrm bootstrap.txt ls[Kvi log.pypython dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[Cvi log.py[Kpython dummy_sqlite.py "select * from stacks"
Traceback (most recent call last):
  File "dummy_sqlite.py", line 6, in <module>
    import db_manager 
  File "/home/openstack/bootstrap/scripts/db_manager.py", line 6, in <module>
    import log
  File "/home/openstack/bootstrap/scripts/log.py", line 33, in <module>
    logging.basicConfig(level=logging.DEBUG, filename=_LOG_PATH, format="%(asctime)s %(levelname)s %(filename)s %(funcName)s %(message)s")
  File "/usr/lib/python2.7/logging/__init__.py", line 1519, in basicConfig
    hdlr = FileHandler(filename, mode)
  File "/usr/lib/python2.7/logging/__init__.py", line 897, in __init__
    StreamHandler.__init__(self, self._open())
  File "/usr/lib/python2.7/logging/__init__.py", line 916, in _open
    stream = open(self.baseFilename, self.mode)
IOError: [Errno 13] Permission denied: '/var/log/bootstrap/bootstrap.txt'
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ sudo chmod 777 /var/log/bootstrap/[K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ sudo chmod 777 /var/log/bootstrappython dummy_sqlite.py "select * from stacks"[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[12Psudo chmod +wr /var/log/bootstrappython dummy_sqlite.py "select * from stacks"
(1, u'502e9132-a90b-46aa-b7d3-bd04a7b5b192', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(2, u'2e59d437-ee2b-432b-81c8-9301c7b9dbcc', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(3, u'1c8bba41-67d1-4534-89ab-ebbf5a1009ee', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(4, u'5744f0f9-1243-4717-be5d-9f4f5fe56ff1', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(5, u'4654f86d-7079-4e91-8227-44f56d7582a5', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(6, u'03e99d72-a3a9-43a3-af68-da92e621a39a', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(7, u'9aa2fe91-3eba-4fe8-9f04-47d25c1b4db0', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(8, u'4c8b7f70-9e16-4551-a9a3-3be363273462', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(9, u'40eac4d8-0e20-4cd0-9ca1-a4dd461682d3', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(10, u'eca25914-c0d5-46ce-b4fd-a66a0b5ed792', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(11, u'd5391926-9557-43c2-9aae-74ff40a0f116', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(12, u'c4848608-99c2-4218-a7c0-283a9fd49fad', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
(13, u'3ebc06d1-5074-4450-be96-ed0f4d6b39f4', 1, u'ping2', u'10.10.10.14', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 1, u'ubuntu-com1')
(14, u'95062509-a216-4675-8769-417033f11b66', 1, u'ping2', u'10.10.10.17', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com1')
(15, u'175bce64-2316-4db4-b8c2-953b88de3da1', 1, u'ping2', u'10.10.10.19', u'qdhcp-506a91fe-f08f-469f-837d-3a3579fb1f50', 0, u'ubuntu-com2')
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ cd ../
]0;openstack@ubuntu-ct: ~/bootstrapopenstack@ubuntu-ct:~/bootstrap$ ls
[0m[01;34mconfigure[0m  [01;34mdb[0m  [01;34mkeys[0m  [01;34mlog[0m  [01;34mscripts[0m  [01;34msettings[0m  [01;34mtemplates[0m  [01;34mtmp[0m  typescript  [01;34mweb[0m  [01;31mweb.tar.gz[0m
]0;openstack@ubuntu-ct: ~/bootstrapopenstack@ubuntu-ct:~/bootstrap$ cd s[Kconfigure/
]0;openstack@ubuntu-ct: ~/bootstrap/configureopenstack@ubuntu-ct:~/bootstrap/configure$ ls
mysql.conf  ping  ping2
]0;openstack@ubuntu-ct: ~/bootstrap/configureopenstack@ubuntu-ct:~/bootstrap/configure$ cp ping2 kurahashi
]0;openstack@ubuntu-ct: ~/bootstrap/configureopenstack@ubuntu-ct:~/bootstrap/configure$ tailf ../log/
kurahashi  ping       ping2      
]0;openstack@ubuntu-ct: ~/bootstrap/configureopenstack@ubuntu-ct:~/bootstrap/configure$ tailf ../log/i[Kpi2[Kng2 
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
................................................................................................................................................................................................................................................................................................................................................   : )
.

wait..
.Transferred to the Virtual machine of the WebServer..
...................................   : )
^C
]0;openstack@ubuntu-ct: ~/bootstrap/configureopenstack@ubuntu-ct:~/bootstrap/configure$ tailf ../log/ping2 [K[K[K[K[K[Khe[K[Kki[Kurahashi 
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
..................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/configureopenstack@ubuntu-ct:~/bootstrap/configure$ tailf ../log/kurahashi [4Pping2[C
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
................................................................................................................................................................................................................................................................................................................................................   : )
.

wait..
.Transferred to the Virtual machine of the WebServer..
...................................   : )
.......................................................................................................................................................................................................................................................................................................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/configureopenstack@ubuntu-ct:~/bootstrap/configure$ tailf ../log/ping2 [K[K[K[K[K[K[Kku[K[K/kurahashi 
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
............................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/configureopenstack@ubuntu-ct:~/bootstrap/configure$ tailf ../log/kurahashi [4Pping2[C
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
................................................................................................................................................................................................................................................................................................................................................   : )
.

wait..
.Transferred to the Virtual machine of the WebServer..
...................................   : )
..................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/configureopenstack@ubuntu-ct:~/bootstrap/configure$ tailf ../log/ping2 [K[K[K[K[K[Kkurahashi 
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
..................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/configureopenstack@ubuntu-ct:~/bootstrap/configure$ cd ../
]0;openstack@ubuntu-ct: ~/bootstrapopenstack@ubuntu-ct:~/bootstrap$ ls
[0m[01;34mconfigure[0m  [01;34mdb[0m  [01;34mkeys[0m  [01;34mlog[0m  [01;34mscripts[0m  [01;34msettings[0m  [01;34mtemplates[0m  [01;34mtmp[0m  typescript  [01;34mweb[0m  [01;31mweb.tar.gz[0m
]0;openstack@ubuntu-ct: ~/bootstrapopenstack@ubuntu-ct:~/bootstrap$ cd scripts/
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrap
[?1049h[?1h=[1;33r[?12;25h[?12l[?25h[27m[m[H[2J[?25l[33;1H"bootstrap" 350L, 10529C[>c[1;1H[34m#!/bin/bash

#set -e

#SCRIPT_HOME=`dirname $0`[m
[36mSCRIPT_HOME[m=[35m$([m[33mcd[m[35m $[m[33m([m[35mdirname $0[m[33m);pwd[m[35m)[m
[33msource[m [35m$SCRIPT_HOME[m/modules

[36mfunction[m [36mshow_options () {[m
    [33mecho[m[31m [m[33m"[m[31mOptions:[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mbootstrap <configure>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m             configure options.[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_FORWARD_USER    =<ssh login user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_USER            =<exec user>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_PASSWORD        =<exec user password>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSSH_DIR             =<exec user directory>[m[33m"[m[20;4H [33mecho[m[31m [m[33m"[m[31mMANAGER_TEMPLATE    =<Manager Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mAGENT_TEMPLATE      =<Agent Heat template file name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mMANAGER_CONFLICT    =<Agent Manager and conflictf>[m[33m"[m[24;4H [33mecho[m[31m [m[33m"[m[31mINSTANCE_TYPE       =<nova flavor name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mKEY_NAME            =<nova keypair name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31mSUBNET              =<neutron subnet name>[m[33m"[m
    [33mecho[m[31m [m[33m"[m[31m**********************************************[m[33m"[m
    [33mexit[m [31m0[m
[36m}

function[m [36mcheck_flavor() {[m
    [36mFLAVORS[m=[35m$(nova ${AUTH_PARAMETOR} flavor-list [m[33m|[m[35m [m[33mgrep[m[35m [m[33m"[m[35m$1[m[33m"[m[35m [m[33m|[m[35m awk [m[33m'[m[31m {print $4} [m[33m'[m[35m)[m[33;130H1,1[11CTop[1;1H[?12l[?25h[?25l[27m[m[H[2J[1;1H[33msleep[m [31m1[m

[34m#exec_webserver &
#progress[m

send_service &
progress

[33msleep[m [31m1[m

send_service_bin &
progress

[33msleep[m [31m1[m

exec_webservice &
progress

[34m#### db insert ####[m
insert_stacks &
progress

[33msleep[m [31m1[m
[34m###################

### update scenarios table ###[m
/usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mscenarios_up[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [31m1[m
[34m##############################[m

[33mecho[m[31m [m[33m"[m[31mbootstrap end..[m[33m"[m

[34m#echo $COUNTER[m[33;130H350,1[9CBot[32;1H[?12l[?25h[?25l[33;131H49,0-1[31;1H[?12l[?25h[?25l[33;132H8,1  [30;1H[?12l[?25h[?25l[33;132H7,0-1[29;1H[?12l[?25h[?25l[33;132H6,1  [28;1H[?12l[?25h[?25l[33;132H5[27;1H[?12l[?25h[?25l[33;132H4[26;1H[?12l[?25h[?25l[33;132H3,0-1[25;1H[?12l[?25h[?25l[33;132H2,1  [24;1H[?12l[?25h[?25l[33;132H1[23;1H[?12l[?25h[?25l[33;132H0,0-1[22;1H[?12l[?25h[?25l[33;131H39,1  [21;1H[?12l[?25h[?25l[33;132H8[20;1H[?12l[?25h[?25l[33;132H7[19;1H[?12l[?25h[?25l[33;132H6,0-1[18;1H[?12l[?25h[?25l[33;132H5,1  [17;1H[?12l[?25h[?25l[33;132H4[16;1H[?12l[?25h[?25l[33;132H3,0-1[15;1H[?12l[?25h[?25l[33;132H2,1  [14;1H[?12l[?25h[?25l[33;132H1,0-1[13;1H[?12l[?25h[?25l[33;132H0,1  [12;1H[?12l[?25h[?25l[33;131H29[11;1H[?12l[?25h[?25l[33;132H8,0-1[10;1H[?12l[?25h[?25l[33;132H7,1  [9;1H[?12l[?25h[?25l[33;132H6,0-1[8;1H[?12l[?25h[?25l[33;132H5,1  [7;1H[?12l[?25h[?25l[33;132H4[6;1H[?12l[?25h[?25l[33;132H3,0-1[5;1H[?12l[?25h[?25l[33;132H2,1  [4;1H[?12l[?25h[?25l[33;132H1[3;1H[?12l[?25h[?25l[33;132H0,0-1[2;1H[?12l[?25h[?25l[33;131H19,1  [1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H318,0-1[7C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H317,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_webserver &[33;130H[K[33;130H316,1[9C99%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H315,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H314,1[9C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H313,0-1[7C98%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H312,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#exec_auth &[m[33;130H[K[33;130H311,1[9C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H310,0-1[7C97%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#sleep 1[m[33;130H[K[33;130H309,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H308,0-1[7C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#progress[m[33;130H[K[33;130H307,1[9C96%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#send_authscript &[m[33;130H[K[33;130H306,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H305,0-1[7C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[33msleep[m [31m1[m[33;130H[K[33;130H304,1[9C95%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H303,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hprogress[33;130H[K[33;130H302,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1Hsend_ipaddress &[33;130H[K[33;130H301,1[9C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H300,0-1[7C94%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#echo "ManagerIP : ${MANAGER_IP}"[m[33;130H[K[33;130H299,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H298,0-1[7C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m###################[m[33;130H[K[33;130H297,1[9C93%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H296,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H295,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mlet[m [36mCOUNT[m=[35m${COUNT}[m+[31m1[m[33;130H[K[33;130H294,1[9C92%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mfi[m[33;130H[K[33;130H293,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m  [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${IP_CONF[$COUNT[m[31m-1[m[35m]}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m0[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H292,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33melse[m[33;130H[K[33;130H291,1[9C91%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;8H /usr/bin/python [33m"[m[35m${SCRIPT_HOME}[m[31m/db_wrapper_sh.py[m[33m"[m [33m"[m[31mstacks[m[33m"[m [33m"[m[35m${ID}[m[33m"[m [33m"[m[35m${SCENARIO}[m[33m"[m [33m"[m[35m${MANAGER_IP}[m[33m"[m [33m"[m[35m${NETNS_ID}[m[33m"[m [31m1[m [33m"[m[35m${HOST}[m[33m"[m[33;130H[K[33;130H290,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [33mif [[m [35m$COUNT[m [33m-eq[m [31m0[m [33m];[m [33mthen[m[33;130H[K[33;130H289,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H [36mHOST[m=[35m${STACK_HOST[$COUNT]}[m[33;130H[K[33;130H288,1[9C90%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H287,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mID [33min[m [35m${STACK_ID[[m@[35m]}[m[33;130H[K[33;130H286,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mInsert is Stacks..[m[33m"[m[33;130H[K[33;130H285,1[9C89%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H284,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H283,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCOUNT[m=[31m0[m[33;130H[K[33;130H282,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36minsert_stacks() {[m[33;130H[K[33;130H281,1[9C88%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#### db insert ####[m[33;130H[K[33;130H280,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H279,0-1[7C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H278,1[9C87%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H277,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;5H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[m[31mno[m [33m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${IP}[m [33m"[m[31mservice vv[2;1Herify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&[m[31m1[m [33m&[m[33;130H[K[33;130H276,1[9C86%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H275,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H274,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H273,1[9C85%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H272,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31m   : )[m[33m"[m[33;130H[K[33;130H271,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;3H sudo ip netns [33mexec[m [35m${NETNS_ID}[m ssh [35m-oStrictHostKeyChecking[m[33m=[mno [35m-i[m [33m"[m[35m${SCRIPT_HOME}[m[31m/../keys/[m[35m${KEY_NAME}[m[31m.pem[m[33m"[m [35m${SSH_FORWARD_USER}[m@[35m${MANAGER_IP}[m [33m"[m[31mserr[2;1Hvice verify_server start &[m[33m"[m [33m>[m/dev/null [31m2[m[33m>&1[m [33m&[m[33;130H[K[33;130H270,1[9C84%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mStart WebService..[m[33m"[m[33;130H[K[33;130H269,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36mexec_webservice() {[m[33;130H[K[33;130H268,1[9C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H267,0-1[7C83%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H266,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H265,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${IP}[m [33m"[m[31m/usr/bin/[m[33m"[m[33;130H[K[33;130H264,1[9C82%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H263,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H262,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[33;130H[K[33;130H261,1[9C81%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H260,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${VERIFY_SERVICE_BIN}[m [35m${MANAGER_IP}[m [33m"[m[31m/usr/bin/[m[33m"[m[33;130H[K[33;130H259,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H258,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H257,1[9C80%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H256,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H255,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H254,1[9C79%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H253,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_BIN} ${SSH_FORWARR[2;1HD_USER}@${MANAGER_IP}:"/usr/bin/" >/dev/null 2>&1[m[33;130H[K[33;130H252,1[9C78%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H251,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H250,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Manager of the WebServerBin..[m[33m"[m[33;130H[K[33;130H249,1[9C77%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mfunction[m [36msend_service_bin() {[m[33;130H[K[33;130H248,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36mVERIFY_SERVICE_BIN[m=[33m"[m[35m${SCRIPT_HOME}[m[31m/manager/usr/bin/verify_server[m[33m"[m[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H247,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[33;130H[K[33;130H246,0-1[7C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[36m}[m[33;130H[K[33;130H245,1[9C76%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdone[m[33;130H[K[33;130H244,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;6H exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;130H[K[33;130H243,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mdo[m[33;130H[K[33;130H242,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mfor [mIP [33min[m [35m${IP_CONF[[m@[35m]}[m[33;130H[K[33;130H241,1[9C75%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mIP_CONF[m=([35m`cat [m[33m"[m[35m$CONF[m[33m"[m[35m`[m)[32;1H[1m[34m@                                                                                                                                                  [m[33;130H[K[33;130H240,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [36mCONF[m=[33m"[m[35m${OUTPUT_IPADDRESS}[m[33m"[m[33;130H[K[33;130H239,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H exec_scp [35m${VERIFY_SERVICE_SCRIPT}[m [35m${MANAGER_IP}[m [33m"[m[31m/etc/init.d/[m[33m"[m[33;130H[K[33;130H238,1[9C74%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   done[m[33;130H[K[33;130H237,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      sleep 10[m[33;130H[K[33;130H236,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      fi[m[33;130H[K[33;130H235,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         break[m[33;130H[K[33;130H234,1[9C73%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#         echo "   : )"[m[33;130H[K[33;130H233,1[9C72%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#      if [ $? -eq "0" ]; then[m[33;130H[K[33;130H232,1[9C72%[1;1H[?12l[?25h[?25l[1;32r[1;1H[2L[1;33r[1;1H[34m#      sudo ip netns exec ${NETNS_ID} scp -oStrictHostKeyChecking=no -i "${SCRIPT_HOME}/../keys/${KEY_NAME}.pem" ${VERIFY_SERVICE_SCRIPT} ${SSH_FORR[2;1HWARD_USER}@${MANAGER_IP}:"/etc/init.d/" >/dev/null 2>&1[m[33;130H[K[33;130H231,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   do[m[33;130H[K[33;130H230,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;1H[34m#   while :[m[33;130H[K[33;130H229,1[9C71%[1;1H[?12l[?25h[?25l[1;32r[1;1H[L[1;33r[1;3H [33mecho[m[31m [m[33m"[m[31mTransferred to the Virtual machine of the WebServerService..[m[33m"[m[33;130H[K[33;130H228,1[9C70%[1;1H[?12l[?25h[?25l[33;132H9[2;1H[?12l[?25h[?25l[33;131H30[3;1H[?12l[?25h[?25l[33;132H1[4;1H[?12l[?25h[?25l[33;132H2[6;1H[?12l[?25h[?25l[33;132H3[7;1H[?12l[?25h[?25l[33;132H4[8;1H[?12l[?25h[?25l[33;132H5[9;1H[?12l[?25h[?25l[33;132H6[10;1H[?12l[?25h[?25l[33;132H7[11;1H[?12l[?25h[?25l[33;132H8[12;1H[?12l[?25h[?25l[33;132H9[13;1H[?12l[?25h[?25l[33;131H40[14;1H[?12l[?25h[?25l[33;132H1[15;1H[?12l[?25h[?25l[33;132H2[16;1H[?12l[?25h[?25l[33;132H3[17;1H[?12l[?25h[?25l[33;132H4[18;1H[?12l[?25h[?25l[33;132H5[19;1H[?12l[?25h[?25l[33;132H6,0-1[20;1H[?12l[?25h[?25l[33;132H7,1  [21;1H[?12l[?25h[?25l[33;132H8[22;1H[?12l[?25h[?25l[33;132H9[23;1H[?12l[?25h[?25l[33;134H2[23;2H[?12l[?25h[?25l[33;134H3[23;3H[?12l[?25h[?25l[33;134H4[23;4H[?12l[?25h[?25l[33;134H5[23;5H[?12l[?25h[?25l[33;134H6[23;6H[?12l[?25h[?25l[33;134H7[23;7H[?12l[?25h[?25l[33;134H8[23;8H[?12l[?25h[?25l[33;134H9[23;9H[?12l[?25h[?25l[33;134H10[23;10H[?12l[?25h[?25l[33;135H1[23;11H[?12l[?25h[?25l[33;135H2[23;12H[?12l[?25h[?25l[33;135H3[23;13H[?12l[?25h[?25l[33;135H4[23;14H[?12l[?25h[?25l[33;135H5[23;15H[?12l[?25h[?25l[33;135H6[23;16H[?12l[?25h[?25l[33;135H7[23;17H[?12l[?25h[?25l[33;135H8[23;18H[?12l[?25h[?25l[33;135H9[23;19H[?12l[?25h[?25l[33;134H20[23;20H[?12l[?25h[?25l[33;135H1[23;21H[?12l[?25h[?25l[33;135H2[23;22H[?12l[?25h[?25l[33;135H3[23;23H[?12l[?25h[?25l[33;135H4[23;24H[?12l[?25h[?25l[33;135H5[23;25H[?12l[?25h[?25l[33;135H6[23;26H[?12l[?25h[?25l[33;135H7[23;27H[?12l[?25h[?25l[33;135H8[23;28H[?12l[?25h[?25l[33;135H9[23;29H[?12l[?25h[?25l[31m anager of the WebServerBin..[m[33m"[m[23;58H[K[23;29H[?12l[?25h[?25l[31m nager of the WebServerBin..[m[33m"[m[23;57H[K[23;29H[?12l[?25h[?25l[31m ager of the WebServerBin..[m[33m"[m[23;56H[K[23;29H[?12l[?25h[?25l[31m ger of the WebServerBin..[m[33m"[m[23;55H[K[23;29H[?12l[?25h[?25l[31m er of the WebServerBin..[m[33m"[m[23;54H[K[23;29H[?12l[?25h[?25l[31m r of the WebServerBin..[m[33m"[m[23;53H[K[23;29H[?12l[?25h[?25l[31m  of the WebServerBin..[m[33m"[m[23;52H[K[23;29H[?12l[?25h[?25l[33;1H[1m-- INSERT --[m[33;130H[K[33;130H249,29[8C70%[23;29H[?12l[?25h[?25l[31m Virtual machine of the WebServerBin..[m[33m"[m[33;134H45[23;45H[?12l[?25h[?25l[33;135H4[23;44H[?12l[?25h[?25l[33;135H3[23;43H[?12l[?25h[?25l[33;135H1[23;41H[?12l[?25h[?25l[33;134H39[23;39H[?12l[?25h[?25l[33;135H7[23;37H[?12l[?25h[?25l[33;135H4[23;34H[?12l[?25h[?25l[33;135H2[23;32H[?12l[?25h[?25l[33;135H0[23;30H[?12l[?25h[?25l[33;134H29[23;29H[?12l[?25h[?25l[31m Virtual machine of the WebServerBin..[m[33m"[m[23;67H[K[33;135H8[23;28H[?12l[?25h[33;1H[K[23;27H[?25l[33;130H249,27[8C70%[23;27H[?12l[?25h[?25l[33;130H[K[33;1H:[?12l[?25hw[?25l[?12l[?25hq[?25l[?12l[?25h![?25l[?12l[?25h[?25l"bootstrap" 350L, 10537C written
[?1l>[?12l[?25h[?1049l]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ vi bootstrapls[Kcd scripts/ls[Kcd ../tailf ../log/kurahashi 
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
..........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf ../log/kurahashi [K[K[K[K[K[K[K[K[K[K
kurahashi  ping       ping2      
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf ../log/ping2 
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
................................................................................................................................................................................................................................................................................................................................................   : )
.

wait..
.Transferred to the Virtual machine of the WebServer..
...................................   : )
......................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ nova list
+--------------------------------------+--------------------------------------------------+--------+-----------------------+
| ID                                   | Name                                             | Status | Networks              |
+--------------------------------------+--------------------------------------------------+--------+-----------------------+
| 752517ff-7b2c-4764-9ae0-99dba8d15cb1 | ubuntu-com1-kurahashi-ag-TestServer-5snkt277rpbm | ACTIVE | private01=10.10.10.24 |
| d434740c-6b9b-4df4-82ee-4c038cf672f0 | ubuntu-com1-kurahashi-mn-TestServer-dtokfls6nqn2 | ACTIVE | private01=10.10.10.2  |
| 4a2ee6dd-eb3a-40e4-a1a5-7fbcb9583e4e | ubuntu-com1-ping2-ag-TestServer-5smt3imrddfs     | ACTIVE | private01=10.10.10.17 |
| 1cb313e2-dff6-4a31-bb30-c40b7de52e72 | ubuntu-com1-ping2-mn-TestServer-o2mtaezdkagx     | ACTIVE | private01=10.10.10.14 |
| 83a55317-0b45-432c-9bab-5a657802ec67 | ubuntu-com2-kurahashi-ag-TestServer-kjc3wmhrwinp | ACTIVE | private01=10.10.10.25 |
| 906a70bb-e781-4aec-a377-784d2c0e92e9 | ubuntu-com2-ping2-ag-TestServer-5si6c6nn4fee     | ACTIVE | private01=10.10.10.19 |
+--------------------------------------+--------------------------------------------------+--------+-----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ nova listtailf ../log/ping2 [4@kurahashi[C
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
.....................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf ../log/kurahashi 
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
..................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf ../log/kurahashi [14Pnova listtailf ../log/ping2 
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
................................................................................................................................................................................................................................................................................................................................................   : )
.

wait..
.Transferred to the Virtual machine of the WebServer..
...................................   : )
.........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ps aux | grep bootstrap
root      1584  0.1  0.0  19792  1884 ?        S<s  Oct02  29:35 ovsdb-server /etc/openvswitch/conf.db -vANY:CONSOLE:EMER -vANY:SYSLOG:ERR -vANY:FILE:INFO --remote=punix:/var/run/openvswitch/db.sock --remote=db:Open_vSwitch,manager_options --private-key=db:SSL,private_key --certificate=db:SSL,certificate --[01;31m[Kbootstrap[m[K-ca-cert=db:SSL,ca_cert --no-chdir --log-file=/var/log/openvswitch/ovsdb-server.log --pidfile=/var/run/openvswitch/ovsdb-server.pid --detach --monitor
1000      5755  0.0  0.0  12468  1692 pts/2    S+   19:39   0:01 /bin/bash /home/openstack/[01;31m[Kbootstrap[m[K/web/cgi-bin/../../scripts/[01;31m[Kbootstrap[m[K ping2 credentials
1000      7767  0.0  0.0  12460  1676 pts/2    S+   19:40   0:01 /bin/bash /home/openstack/[01;31m[Kbootstrap[m[K/web/cgi-bin/../../scripts/[01;31m[Kbootstrap[m[K kurahashi credentials
1000     14493  0.0  0.0   9388   884 pts/16   S+   19:59   0:00 grep --color=auto [01;31m[Kbootstrap[m[K
1000     19754  0.0  0.0  12396   804 pts/2    S+   19:44   0:00 /bin/bash /home/openstack/[01;31m[Kbootstrap[m[K/web/cgi-bin/../../scripts/[01;31m[Kbootstrap[m[K kurahashi credentials
1000     25276  0.0  0.0  12416   864 pts/2    S+   19:45   0:00 /bin/bash /home/openstack/[01;31m[Kbootstrap[m[K/web/cgi-bin/../../scripts/[01;31m[Kbootstrap[m[K ping2 credentials
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ kill -[K[K[K[K[K[Ksudo kill -9 5755
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ sudo kill -9 5755[K[K[K[K19754
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ sudo kill -9 19754[1P5755ps aux | grep bootstrap
root      1584  0.1  0.0  19792  1884 ?        S<s  Oct02  29:35 ovsdb-server /etc/openvswitch/conf.db -vANY:CONSOLE:EMER -vANY:SYSLOG:ERR -vANY:FILE:INFO --remote=punix:/var/run/openvswitch/db.sock --remote=db:Open_vSwitch,manager_options --private-key=db:SSL,private_key --certificate=db:SSL,certificate --[01;31m[Kbootstrap[m[K-ca-cert=db:SSL,ca_cert --no-chdir --log-file=/var/log/openvswitch/ovsdb-server.log --pidfile=/var/run/openvswitch/ovsdb-server.pid --detach --monitor
1000      7767  0.0  0.0  12464  1688 pts/2    S+   19:40   0:01 /bin/bash /home/openstack/[01;31m[Kbootstrap[m[K/web/cgi-bin/../../scripts/[01;31m[Kbootstrap[m[K kurahashi credentials
1000     15834  0.0  0.0  12464   844 pts/2    S+   19:59   0:00 /bin/bash /home/openstack/[01;31m[Kbootstrap[m[K/web/cgi-bin/../../scripts/[01;31m[Kbootstrap[m[K kurahashi credentials
1000     15957  0.0  0.0   9388   880 pts/16   S+   19:59   0:00 grep --color=auto [01;31m[Kbootstrap[m[K
1000     25276  0.0  0.0  12416   864 pts/2    S+   19:45   0:00 /bin/bash /home/openstack/[01;31m[Kbootstrap[m[K/web/cgi-bin/../../scripts/[01;31m[Kbootstrap[m[K ping2 credentials
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ps aux | grep bootstrap[5Psudo kill -9 19754[K[K[K[K[K25276
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ sudo kill -9 25276[K[K[K[K[K15834
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ sudo kill -9 15834[K[K[K[K[K7767
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ sudo kill -9 77671583425276ps aux | grep bootstrap
root      1584  0.1  0.0  19792  1884 ?        S<s  Oct02  29:35 ovsdb-server /etc/openvswitch/conf.db -vANY:CONSOLE:EMER -vANY:SYSLOG:ERR -vANY:FILE:INFO --remote=punix:/var/run/openvswitch/db.sock --remote=db:Open_vSwitch,manager_options --private-key=db:SSL,private_key --certificate=db:SSL,certificate --[01;31m[Kbootstrap[m[K-ca-cert=db:SSL,ca_cert --no-chdir --log-file=/var/log/openvswitch/ovsdb-server.log --pidfile=/var/run/openvswitch/ovsdb-server.pid --detach --monitor
1000     16850  0.0  0.0  12464   844 pts/2    S+   19:59   0:00 /bin/bash /home/openstack/[01;31m[Kbootstrap[m[K/web/cgi-bin/../../scripts/[01;31m[Kbootstrap[m[K kurahashi credentials
1000     17388  0.0  0.0   9388   884 pts/16   S+   19:59   0:00 grep --color=auto [01;31m[Kbootstrap[m[K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ps aux | grep bootstrap[6Psudo kill -9 7767[K[K[K[K16850
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ psudo kill -9 16850ps aux | grep bootstrap
root      1584  0.1  0.0  19792  1884 ?        S<s  Oct02  29:35 ovsdb-server /etc/openvswitch/conf.db -vANY:CONSOLE:EMER -vANY:SYSLOG:ERR -vANY:FILE:INFO --remote=punix:/var/run/openvswitch/db.sock --remote=db:Open_vSwitch,manager_options --private-key=db:SSL,private_key --certificate=db:SSL,certificate --[01;31m[Kbootstrap[m[K-ca-cert=db:SSL,ca_cert --no-chdir --log-file=/var/log/openvswitch/ovsdb-server.log --pidfile=/var/run/openvswitch/ovsdb-server.pid --detach --monitor
1000     18223  0.0  0.0   9388   880 pts/16   S+   20:00   0:00 grep --color=auto [01;31m[Kbootstrap[m[K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ psa ux[K[K[K[K aux | grep h[Kssh
root      1074  0.0  0.0  50032  1904 ?        Ss   Oct02   0:00 /usr/sbin/[01;31m[Kssh[m[Kd -D
root      6424  0.0  0.0  73436  3508 ?        Ss   08:55   0:00 [01;31m[Kssh[m[Kd: openstack [priv]
1000      6813  0.0  0.0  73436  1640 ?        S    08:55   0:00 [01;31m[Kssh[m[Kd: openstack@pts/2
root      9256  0.0  0.0  73436  3504 ?        Ss   08:55   0:00 [01;31m[Kssh[m[Kd: openstack [priv]
1000      9644  0.0  0.0  73436  1636 ?        S    08:55   0:01 [01;31m[Kssh[m[Kd: openstack@pts/8
root     15386  0.0  0.0  73556  3608 ?        Ss   09:20   0:00 [01;31m[Kssh[m[Kd: openstack [priv]
1000     15942  0.0  0.0  73556  1736 ?        S    09:20   0:02 [01;31m[Kssh[m[Kd: openstack@pts/14
1000     18594  0.0  0.0   9388   884 pts/16   S+   20:00   0:00 grep --color=auto [01;31m[Kssh[m[K
root     26525  0.0  0.0  73436  3508 ?        Ss   09:47   0:00 [01;31m[Kssh[m[Kd: openstack [priv]
1000     26784  0.0  0.0  73436  1636 ?        S    09:47   0:02 [01;31m[Kssh[m[Kd: openstack@pts/15
root     31524  0.0  0.0  73436  3504 ?        Ss   15:17   0:00 [01;31m[Kssh[m[Kd: openstack [priv]
1000     31934  0.0  0.0  73436  1636 ?        S    15:18   0:01 [01;31m[Kssh[m[Kd: openstack@pts/10
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ rm ../db/bootstrap.db 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ h[K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ heat stack-list[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Knova list
+--------------------------------------+--------------------------------------------------+--------+-----------------------+
| ID                                   | Name                                             | Status | Networks              |
+--------------------------------------+--------------------------------------------------+--------+-----------------------+
| 752517ff-7b2c-4764-9ae0-99dba8d15cb1 | ubuntu-com1-kurahashi-ag-TestServer-5snkt277rpbm | ACTIVE | private01=10.10.10.24 |
| d434740c-6b9b-4df4-82ee-4c038cf672f0 | ubuntu-com1-kurahashi-mn-TestServer-dtokfls6nqn2 | ACTIVE | private01=10.10.10.2  |
| 4a2ee6dd-eb3a-40e4-a1a5-7fbcb9583e4e | ubuntu-com1-ping2-ag-TestServer-5smt3imrddfs     | ACTIVE | private01=10.10.10.17 |
| 83a55317-0b45-432c-9bab-5a657802ec67 | ubuntu-com2-kurahashi-ag-TestServer-kjc3wmhrwinp | ACTIVE | private01=10.10.10.25 |
| 906a70bb-e781-4aec-a377-784d2c0e92e9 | ubuntu-com2-ping2-ag-TestServer-5si6c6nn4fee     | ACTIVE | private01=10.10.10.19 |
+--------------------------------------+--------------------------------------------------+--------+-----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ nova list
+--------------------------------------+--------------------------------------------------+--------+-----------------------+
| ID                                   | Name                                             | Status | Networks              |
+--------------------------------------+--------------------------------------------------+--------+-----------------------+
| 752517ff-7b2c-4764-9ae0-99dba8d15cb1 | ubuntu-com1-kurahashi-ag-TestServer-5snkt277rpbm | ACTIVE | private01=10.10.10.24 |
| d434740c-6b9b-4df4-82ee-4c038cf672f0 | ubuntu-com1-kurahashi-mn-TestServer-dtokfls6nqn2 | ACTIVE | private01=10.10.10.2  |
| 83a55317-0b45-432c-9bab-5a657802ec67 | ubuntu-com2-kurahashi-ag-TestServer-kjc3wmhrwinp | ACTIVE | private01=10.10.10.25 |
| 906a70bb-e781-4aec-a377-784d2c0e92e9 | ubuntu-com2-ping2-ag-TestServer-5si6c6nn4fee     | ACTIVE | private01=10.10.10.19 |
+--------------------------------------+--------------------------------------------------+--------+-----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ heat stack-list
+--------------------------------------+--------------------------+--------------------+----------------------+
| id                                   | stack_name               | stack_status       | creation_time        |
+--------------------------------------+--------------------------+--------------------+----------------------+
| 73508630-d6fc-4906-9420-0a6da3dd6588 | ubuntu-com2-ping2-ag     | DELETE_IN_PROGRESS | 2013-10-17T10:42:14Z |
| 2ef1a2ff-3da3-451c-8489-2c9353a5315d | ubuntu-com1-kurahashi-mn | CREATE_COMPLETE    | 2013-10-17T10:42:19Z |
| a165deed-9288-4a04-baba-d2cd57656c0f | ubuntu-com1-kurahashi-ag | CREATE_COMPLETE    | 2013-10-17T10:43:14Z |
| b02a294a-5e7b-47a2-8871-5e6b7b9effa8 | ubuntu-com2-kurahashi-ag | CREATE_COMPLETE    | 2013-10-17T10:43:53Z |
+--------------------------------------+--------------------------+--------------------+----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ heat stack-delete b02a294a-5e7b-47a2-8871-5e6b7b9effa8
+--------------------------------------+--------------------------+--------------------+----------------------+
| id                                   | stack_name               | stack_status       | creation_time        |
+--------------------------------------+--------------------------+--------------------+----------------------+
| 2ef1a2ff-3da3-451c-8489-2c9353a5315d | ubuntu-com1-kurahashi-mn | DELETE_IN_PROGRESS | 2013-10-17T10:42:19Z |
| a165deed-9288-4a04-baba-d2cd57656c0f | ubuntu-com1-kurahashi-ag | CREATE_COMPLETE    | 2013-10-17T10:43:14Z |
| b02a294a-5e7b-47a2-8871-5e6b7b9effa8 | ubuntu-com2-kurahashi-ag | DELETE_IN_PROGRESS | 2013-10-17T10:43:53Z |
+--------------------------------------+--------------------------+--------------------+----------------------+
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ taik[Klf /[K../log/
kurahashi  ping       ping2      
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf ../log/kurahashi 
../settings/credentials: line 1: [DEFAULT]: command not found
../settings/credentials: line 1: [DEFAULT]: command not found
Provisioning Host (ubuntu-com1)
template that booting, Ping_Instance_deb_manager.template
template that booting, Ping_Instance_deb_agent.template
Provisioning Host (ubuntu-com2)
template that booting, Ping_Instance_deb_agent.template
wait..
Transfer of App IPs information to Manager..
..........................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................   : )
.

wait..
Transferred to the Virtual machine of the WebServer..
..................................   : )
...................................................................................................................................................................   : )
................................   : )
.

wait..
.ransferred to the Virtual machine of the WebServerService..
....................   : )
................................   : )
.

wait..
Transferred to the Virtual machine of the WebServerBin..
.....................................   : )
...................................   : )
................................   : )
.

wait..
.Start WebService..
   : )
.

wait..
.Insert is Stacks..
.

bootstrap end..
^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf ../log/kurahashi heat stack-delete b02a294a-5e7b-47a2-8871-5e6b7b9effa8[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[31Ptailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi heat stack-delete b02a294a-5e7b-47a2-8871-5e6b7b9effa8[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[31Ptailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi [K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls[K[K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$  [K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$  [Klstailf ../log/kurahashi ls[K[Klstailf ../log/kurahashi heat stack-delete b02a294a-5e7b-47a2-8871-5e6b7b9effa8[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[C[31Ptailf ../log/kurahashi ls[K[K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ lstailf ../log/kurahashi ls[K[K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls[Klstailf ../log/kurahashi ls[K[Kl[Kls[K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls
[0m[01;32mavailability_zone_create[0m  credentials.py   db_heat.pyc    db_manager.pyc  [01;32mdb_neutron_sh.py[0m  [01;32mdb_wrapper_sh.py[0m  [01;32mlog.py[0m   [01;32mmodules[0m  [01;32mtest_select.py[0m
[01;32mbootstrap[0m                 credentials.pyc  [01;32mdb_heat_sh.py[0m  [01;32mdb_neutron.py[0m   [01;32mdb_wrapper.py[0m     [01;32mdummy_sqlite.py[0m   log.pyc  [01;32mtest[0m
[01;32mbootstrap_bk[0m              [01;32mdb_heat.py[0m       [01;32mdb_manager.py[0m  db_neutron.pyc  db_wrapper.pyc    [01;32mkeypair_create[0m    [01;34mmanager[0m  [01;32mtest.py[0m
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ ls[K[K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ lstailf ../log/kurahashi ls[K[Klstailf ../log/kurahashi ls[K[K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ lstailf ../log/kurahashi ls[K[Klstailf ../log/kurahashi 
wait..
.Start WebService..
   : )
.

wait..
.Insert is Stacks..
.

bootstrap end..
:q
^C
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi [K
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ 
]0;openstack@ubuntu-ct: ~/bootstrap/scriptsopenstack@ubuntu-ct:~/bootstrap/scripts$ tailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi [Ktailf ../log/kurahashi 
availability_zone_create  db_heat.py                db_neutron.py             db_wrapper_sh.py          manager/
bootstrap                 db_heat.pyc               db_neutron.pyc            dummy_sqlite.py           modules
bootstrap_bk              db_heat_sh.py             db_neutron_sh.py          keypair_create            test
credentials.py            db_manager.py             db_wrapper.py             log.py                    test.py
credentials.pyc           db_manager.pyc            db_wrapper.pyc            log.pyc                   tes